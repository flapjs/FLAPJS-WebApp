(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{273:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"JSON",function(){return B});var o=n(0),i=n.n(o),a=n(275),u=n(306);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,f(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=this.props.fill||"#FFFFFF",n=this.props.stroke||"#000000",r=t.getNodeLabel()||"";return i.a.createElement("g",{className:"graph-node-container"},i.a.createElement("circle",{className:"graph-node",cx:t.x,cy:t.y,r:t.getNodeSize(),fill:e,stroke:n}),i.a.createElement("text",{className:"graph-node-label",x:t.x,y:t.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:1-Math.min(Math.max(r.length-2,0)/6,.5)+"em"},textAnchor:"middle"},r))}}])&&c(n.prototype,r),o&&c(n,o),e}(),h=n(295);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,d(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke||"#000000",n=t.getStartPoint(),r=t.getEndPoint(),o=t.getCenterPoint(),a=t.getEdgeLabel(),u=t.getEdgeDirection();return i.a.createElement("g",{className:"graph-edge-container"},i.a.createElement(h.c,{directed:h.b,from:n,to:r,center:o,label:a,direction:u,color:e}))}}])&&g(n.prototype,r),o&&g(n,o),e}(),_=n(16),O=n(35);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,j(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule.getGraphController().getGraph();return i.a.createElement("g",null,t.getNodes().map(function(t,e){return i.a.createElement(y,{key:t.getGraphElementID()||e,node:t})}),t.getEdges().map(function(t,e){return i.a.createElement(w,{key:t.getGraphElementID()||e,edge:t})}))}}])&&E(n.prototype,r),o&&E(n,o),e}(),T=n(308),M=n(41),x=n(12),N=n(44);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){return t||""}var F=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,D(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,N["a"]),n=e,(r=[{key:"setGraphController",value:function(t){}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getEdgeLabelFormatter",value:function(){return R}}])&&L(n.prototype,r),o&&L(n,o),e}(),B={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.nodes||[],r=Math.min(n.length||0,t.nodeCount||0),o=t.edges||[],i=Math.min(o.length||0,t.edgeCount||0),a=t.quad||!1;e?e.clear():e=new M.a(x.a,a?O.a:_.a);for(var u=new Map,l=0;l<r;++l){var c=n[l];if(c){var s=e.createNode(c.x||0,c.y||0,c.id);s.setNodeLabel(c.label||""),u.set(l,s)}}for(var f=0;f<i;++f){var p=o[f];if(p){var y=u.get(p.from)||null;if(y){var h=u.get(p.to)||null,b=e.createEdge(y,h,p.id);if(b.setEdgeLabel(p.label||""),b instanceof O.a){var g=p.quad||{};b.setQuadratic(g.radians||0,g.length||0)}}}}return e},objectify:function(t){for(var e=t.getNodes()||[],n=e.length||0,r=t.getEdges()||[],o=r.length||0,i=new Array(n),a=new Map,u=0;u<n;++u){var l=e[u];if(l){var c=l.getGraphElementID();a.set(l,u),i[u]={id:c,x:l.x||0,y:l.y||0,label:l.getNodeLabel()||""}}}for(var s=!1,f=new Array(o),p=0;p<o;++p){var y=r[p];if(y){var h=y.getGraphElementID(),b=y.getQuadratic()||{},g=y.getSourceNode(),v=y.getDestinationNode(),d=a.has(g)?a.get(g):-1,m=a.has(v)?a.get(v):-1;f[p]={id:h,from:d,to:m,label:y.getEdgeLabel()||""},y instanceof O.a&&(s=!0,f[p].quad={radians:b.radians||0,length:b.length||0})}}return{nodeCount:n,nodes:i,edgeCount:o,edges:f,hasQuad:s,_version:"1.0.0"}}},V=n(200),z=n.n(V),H=n(309),Y=n(310),X=n(292);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,J(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=(this.props.viewport,e.getInputController()),o=e.getGraphController(),a=r.isActionMode();return i.a.createElement("div",{id:this.props.id,className:z.a.view_pane+" "+this.props.className,style:this.props.style},i.a.createElement(X.a,{className:z.a.view_widget,style:{right:0},app:n}),i.a.createElement("div",{className:z.a.view_widget,style:{bottom:0,left:0}},i.a.createElement(H.a,{mode:a?0:1,onChange:function(t){return r.setInputScheme(0===t)}})),i.a.createElement("div",{className:z.a.view_widget,style:{bottom:0,right:0}},i.a.createElement(Y.a,{app:n,inputController:r,graphController:o})))}}])&&Q(n.prototype,r),o&&Q(n,o),e}(),q=n(281),$=n(277),tt=n(8),et=n(284);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ut=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ot(this,it(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,$["a"]),n=e,(r=[{key:"fromJSON",value:function(t,e){var n=e.getGraphController().getGraph(),r=("_metadata"in t&&t._metadata,B.parse(t.graphData,n)),o=t.machineData.name;return o&&e.getApp().getSession().setProjectName(o),r}},{key:"toJSON",value:function(t,e){e.getGraphController();var n={};return n._metadata={module:e.getModuleName(),version:"0.3.4:"+e.getModuleVersion(),timestamp:(new Date).toString()},n.graphData=t,n.machineData={name:e.getApp().getSession().getProjectName()},n}},{key:"importFromData",value:function(t,e){this.fromJSON(t,e)}},{key:"exportToData",value:function(t){var e=t.getGraphController().getGraph(),n=B.objectify(e);return this.toJSON(n,t)}},{key:"doesSupportData",value:function(){return!0}},{key:"importFromFile",value:function(t,e){var n=this;return new Promise(function(r,o){var i=t.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(t){var u=e.getGraphController(),l=t.target.result,c=i.substring(0,i.length-n.getFileType().length-1),s=u.getGraph(),f=s.getHashCode(!0);s.isEmpty()||e.getApp().getUndoManager().captureEvent();try{var p=JSON.parse(l);n.fromJSON(p,e),e.getApp().getSession().setProjectName(c),r()}catch(t){a.abort(),o(t)}finally{f!==s.getHashCode(!0)&&e.getApp().getUndoManager().captureEvent()}},a.onerror=function(t){o(new Error("Unable to import file: "+t.target.error.code))},a.readAsText(t)})}},{key:"exportToFile",value:function(t,e){var n=e.getGraphController().getGraph(),r=B.objectify(n),o=this.toJSON(r,e),i=JSON.stringify(o);Object(tt.e)(t+"."+this.getFileType(),i)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(t){return!0}},{key:"canExport",value:function(t){return!t.getGraphController().getGraph().isEmpty()}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getFileType",value:function(){return"json"}},{key:"getIconClass",value:function(){return et.a}}])&&rt(n.prototype,r),o&&rt(n,o),e}(),lt=n(296),ct=n(297),st=n(280);function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._inputManager=new u.a(this,new M.a(x.a,O.a),new F,r,null),e.getDrawerManager().addPanelClass(function(t){return i.a.createElement(a.a,{id:t.id,className:t.className,style:t.style,title:"Your Average Graph Editor"},i.a.createElement("p",null,"Brought to you with â¤ by the Flap.js team."),i.a.createElement("p",null,"<- Tap on a tab to begin!"))}),e.getExportManager().addExporter(new ut).addExporters(lt.a),e.getViewportManager().addViewClass(K),e.getRenderManager().addRenderer(q.c,function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{currentModule:n,parent:t.workspace}))}).addRenderer(q.c,function(t){return i.a.createElement(T.a,{currentModule:n})}),e.getUndoManager().setEventHandlerFactory(function(){return new ct.a(n._inputManager.getGraphController(),n._inputManager.getGraphParser())})}var e,n,o;return e=t,(n=[{key:"initialize",value:function(t){this._inputManager.onSessionStart(t.getSession())}},{key:"update",value:function(t){this._inputManager.update(this)}},{key:"destroy",value:function(t){this._inputManager.onSessionStop(t.getSession())}},{key:"clear",value:function(t){st.a(t,!1,function(){return t.getToolbarComponent().closeBar()})}},{key:"getInputManager",value:function(){return this._inputManager}},{key:"getInputController",value:function(){return this._inputManager.getInputController()}},{key:"getGraphController",value:function(){return this._inputManager.getGraphController()}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModuleName",value:function(){return"nodalgraph"}},{key:"getLocalizedModuleName",value:function(){return"NodalGraph"}},{key:"getApp",value:function(){return this._app}}])&&ft(e.prototype,n),o&&ft(e,o),t}();e.default=pt},274:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(201),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,s(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.title,n=e.SHOW_LABEL&&t;return o.a.createElement("button",{id:this.props.id,className:a.a.icon_button+(n?" hint ":"")+" "+this.props.className,style:this.props.style,title:t,disabled:this.props.disabled,onClick:this.props.onClick},this.props.children,o.a.createElement("label",null,t))}}])&&l(n.prototype,r),i&&l(n,i),e}();p.SHOW_LABEL=!1,e.a=p},275:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(202),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,s(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.title;return o.a.createElement("div",{id:this.props.id,className:a.a.panel_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:a.a.panel_title},o.a.createElement("h1",null,t)),o.a.createElement("div",{className:a.a.panel_content},this.props.children),o.a.createElement("div",{className:a.a.panel_bottom}))}}])&&l(n.prototype,r),i&&l(n,i),e}();e.a=p},277:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"importFromData",value:function(t,e){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToData",value:function(t){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportData",value:function(){return!1}},{key:"importFromFile",value:function(t,e){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToFile",value:function(t,e){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportFile",value:function(){return!1}},{key:"canImport",value:function(t){return!1}},{key:"canExport",value:function(t){return!0}},{key:"getTitle",value:function(){return this.getLabel()}},{key:"getIconClass",value:function(){return null}},{key:"getLabel",value:function(){return"Export as "+this.getFileType().toUpperCase()}},{key:"getFileType",value:function(){throw new Error("Unknown file type for exporter")}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},279:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},280:function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.confirm(I18N.toString("alert.graph.clear"))&&(t.getCurrentModule().getGraphController().getGraph().clear(),e||(t.getUndoManager().clear(),t.getSession().setProjectName(null)),n&&n())}n.d(e,"a",function(){return r})},281:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"c",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var o="workspace",i="workspace-overlay",a="viewport",u="viewport-overlay",l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderMapping=new Map}var e,n,o;return e=t,(n=[{key:"addRenderer",value:function(t,e){return this._renderMapping.has(t)?this._renderMapping.get(t).push(e):this._renderMapping.set(t,[e]),this}},{key:"onSessionStart",value:function(t){}},{key:"onSessionStop",value:function(t){this._renderMapping.clear()}},{key:"getRenderersByLayer",value:function(t){return this._renderMapping.get(t)}}])&&r(e.prototype,n),o&&r(e,o),t}();e.e=l},284:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"}),o.a.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),o.a.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),o.a.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),o.a.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=s},290:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=s},291:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"applyUndo",value:function(t){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(t){throw new Error("Redo operation for handler not supported")}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},292:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(209),a=n.n(i),u=n(210),l=n.n(u),c=n(274);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var b=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=p(e).call(this,t))||"object"!==s(o)&&"function"!=typeof o?h(r):o).state={index:t.initial||0},n.onClick=n.onClick.bind(h(h(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this,n=this.state.index;this.setState(function(t,e){var n=o.a.Children.count(e.children),r=t.index+1;return r>=n&&(r=0),{index:r}},function(){e.props.onClick&&e.props.onClick(t,n)})}},{key:"setStateIndex",value:function(t){this.setState({index:t})}},{key:"getStateIndex",value:function(){return this.state.index}},{key:"render",value:function(){var t=this,e=o.a.Children.map(this.props.children,function(e,n){if(n===t.state.index)return e})[0];return o.a.createElement(c.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,disabled:this.props.disabled,onClick:this.onClick},e)}}])&&f(n.prototype,r),i&&f(n,i),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,m(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))}}])&&v(n.prototype,r),i&&v(n,i),e}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,k(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))}}])&&S(n.prototype,r),i&&S(n,i),e}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,x(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.app;return o.a.createElement(b,{id:this.props.id,className:l.a.fullscreen_button+" "+this.props.className,style:this.props.style,title:"Fullscreen Mode",onClick:function(e,n){return t.setState({hide:0===n})}},o.a.createElement(_,null),o.a.createElement(C,null))}}])&&T(n.prototype,r),i&&T(n,i),e}(),L=n(211),A=n.n(L);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,F(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&G(n.prototype,r),i&&G(n,i),e}();function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,X(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&H(n.prototype,r),i&&H(n,i),e}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=W(e).call(this,t))||"object"!==Z(o)&&"function"!=typeof o?q(r):o).onZoomIn=n.onZoomIn.bind(q(q(n))),n.onZoomOut=n.onZoomOut.bind(q(q(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(e,o.a.Component),n=e,(r=[{key:"onZoomIn",value:function(t){var e=this.props.viewport,n=.4*-e.getScale();e.addScale(n)}},{key:"onZoomOut",value:function(t){var e=this.props.viewport,n=.75*e.getScale();e.addScale(n)}},{key:"render",value:function(){var t="x"+(1/(this.props.viewport.getScale()||1)).toFixed(2);return o.a.createElement("div",{id:this.props.id,className:A.a.zoom_container+" "+this.props.className,style:this.props.style},o.a.createElement(c.a,{className:A.a.zoom_button,title:"Zoom In",onClick:this.onZoomIn},o.a.createElement(V,null)),o.a.createElement(c.a,{className:A.a.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},o.a.createElement(Q,null)),o.a.createElement("label",{className:A.a.zoom_label},t))}}])&&J(n.prototype,r),i&&J(n,i),e}(),tt=n(212),et=n.n(tt);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ut=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ot(this,it(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&rt(n.prototype,r),i&&rt(n,i),e}();function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var yt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=st(e).call(this,t))||"object"!==lt(o)&&"function"!=typeof o?pt(r):o).onClick=n.onClick.bind(pt(pt(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){this.props.viewport.setOffset(0,0)}},{key:"render",value:function(){var t=this.props.viewport;return o.a.createElement(c.a,{id:this.props.id,className:et.a.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(t.getOffsetX())<.1&&Math.abs(t.getOffsetY())<.1,onClick:this.onClick},o.a.createElement(ut,null))}}])&&ct(n.prototype,r),i&&ct(n,i),e}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gt(this,vt(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.app,e=t.getInputAdapter().getViewport();return o.a.createElement("div",{id:this.props.id,className:a.a.navbar_container+" "+this.props.className,style:this.props.style},o.a.createElement(I,{className:a.a.navbar_widget,app:t}),o.a.createElement($,{className:a.a.navbar_widget_container,viewport:e}),o.a.createElement(yt,{className:a.a.navbar_widget,viewport:e}))}}])&&bt(n.prototype,r),i&&bt(n,i),e}();e.a=mt},295:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return p});var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=Math.PI/6,f="forward",p="undirected",y=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M "+(t.position.x-t.length*Math.sin(t.angle-s))+" "+(t.position.y-t.length*Math.cos(t.angle-s))+" L "+t.position.x+" "+t.position.y+" L "+(t.position.x-t.length*Math.sin(t.angle+s))+" "+(t.position.y-t.length*Math.cos(t.angle+s)),stroke:t.color,fill:"none"}))},h=function(t){return o.a.createElement("g",{transform:"translate("+t.position.x+","+t.position.y+") rotate("+180*t.direction/Math.PI+")"},t.labels&&t.labels.length>0&&t.labels.map(function(e,n){return o.a.createElement("text",{key:e+"."+n,transform:"translate(0,"+-15*(n+1)+")"+(t.reverse?" scale(-1,-1)":""),alignmentBaseline:"central",pointerEvents:"none",style:{userSelect:"none"},textAnchor:"middle",stroke:t.color},e)}))},b=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t,e,n=this.props.directed||p,r=n===f||"both"===n?this.props.forwardEndpointRenderer||this.props.endpointRenderer||y:null,i="backward"===n||"both"===n?this.props.backwardEndpointRenderer||this.props.endpointRenderer||y:null,a=this.props.labelRenderer||h,u=this.props.from,l=this.props.to,c=this.props.center,s=this.props.label||"",b=this.props.direction||0,g=this.props.color||"#000000",v=!1,d=null,m=u.x-l.x,w=u.y-l.y,_=u.x-c.x,O=u.y-c.y,S=Math.atan2(w,m),E=Math.atan2(O,_);if(Math.abs(S-E)<=.01)e=Math.atan2(c.x-l.x,c.y-l.y)+Math.PI,t=Math.atan2(c.x-u.x,c.y-u.y)+Math.PI,d="L "+l.x+" "+l.y,v=!1;else{var k=(4*c.x-u.x-l.x)/2,j=(4*c.y-u.y-l.y)/2;e=Math.atan2(k-l.x,j-l.y)+Math.PI,t=Math.atan2(k-u.x,j-u.y)+Math.PI,d="Q "+k+" "+j+" "+l.x+" "+l.y,v=j>c.y+4}return o.a.createElement("g",null,o.a.createElement("path",{d:"M "+u.x+" "+u.y+" "+d,stroke:g,fill:"none"}),r&&o.a.createElement(r,{position:l,angle:e,length:10,color:g}),i&&o.a.createElement(i,{position:u,angle:t,length:10,color:g}),a&&o.a.createElement(a,{position:c,labels:s.split("\n"),direction:b,reverse:v}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.c=b},296:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n(277),o=n(38),i=n(39),a=(n(32),n(40)),u=n(8);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.b;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=s(this,p(e).call(this)))._imageType=n,t}var n,l,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,r["a"]),n=e,(l=[{key:"processSVGForExport",value:function(t,e,n,r){var o=r.getGraphController(),i=r.getApp().getInputAdapter().getViewport(),a=i.getOffsetX(),u=i.getOffsetY(),l=o.getGraph().getBoundingRect(),c=l.minX+a-30,s=l.minY+u-0,f=l.width+60,p=l.height+0,y=t.cloneNode(!0);y.setAttribute("viewBox",c+" "+s+" "+f+" "+p),y.setAttribute("width",e),y.setAttribute("height",n),y.setAttribute("font-size","16px"),y.setAttribute("font-family","monospace"),y.setAttribute("style",".graph-ui {display: none;}");for(var h=y.getElementsByClassName("graph-ui");h.length>0;){h[0].remove()}return y}},{key:"exportToFile",value:function(t,e){var n=e.getApp().workspace.getSVGElement(),r=n.viewBox.baseVal,o=r.width,i=r.height,a=this.processSVGForExport(n,o,i,e);Object(u.d)(t,this._imageType,a,o,i)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(t){return!1}},{key:"getTitle",value:function(){switch(this._imageType){case u.b:return I18N.toString("file.export.png.hint");case u.a:return I18N.toString("file.export.jpg.hint");case u.c:return I18N.toString("file.export.svg.hint");default:return f(p(e.prototype),"getTitle",this).call(this)}}},{key:"getLabel",value:function(){switch(this._imageType){case u.b:return I18N.toString("file.export.png");case u.a:return I18N.toString("file.export.jpg");case u.c:return I18N.toString("file.export.svg");default:return f(p(e.prototype),"getLabel",this).call(this)}}},{key:"getFileType",value:function(){return this._imageType}},{key:"getIconClass",value:function(){switch(this._imageType){case u.b:return o.a;case u.a:return i.a;case u.c:return a.a;default:return null}}}])&&c(n.prototype,l),h&&c(n,h),e}(),b=[new h(u.b),new h(u.a),new h(u.c)]},297:function(t,e,n){"use strict";var r=n(291);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,u(e).call(this)))._graphController=t,r._graphParser=n,r._graphData=n.objectify(t.getGraph()),r}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"applyUndo",value:function(t){var n=t.getPreviousEvent();n instanceof e?n.applyRedo(t):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(t){this._graphParser.parse(this._graphData,this._graphController.getGraph())}}])&&i(n.prototype,o),c&&i(n,c),e}();e.a=c},306:function(t,e,n){"use strict";var r=n(36);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boundingBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[]}var e,n,r;return e=t,(n=[{key:"getSelectionBox",value:function(){return this._boundingBox}},{key:"getSelection",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var e=this._boundingBox,n=Math.max(e.toX,e.fromX),r=Math.max(e.toY,e.fromY),o=Math.min(e.toX,e.fromX),i=Math.min(e.toY,e.fromY);this.clearSelection(),function(t,e,n,r,o,i){var a=Math.min(e,r),u=Math.min(n,o),l=Math.max(e,r),c=Math.max(n,o),s=!0,f=!1,p=void 0;try{for(var y,h=t.getNodes()[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var b=y.value;b.x>=a&&b.x<l&&b.y>=u&&b.y<c&&i.push(b)}}catch(t){f=!0,p=t}finally{try{s||null==h.return||h.return()}finally{if(f)throw p}}}(t,o,i,n,r,this.targets)}return this.targets}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isTargetInSelection",value:function(t){return this.targets.includes(t)}},{key:"beginSelection",value:function(t,e,n){var r=this._boundingBox;r.fromX=r.toX=e,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0)}},{key:"endSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0),r.visible=!1}},{key:"isSelecting",value:function(){return this._boundingBox.visible}}])&&o(e.prototype,n),r&&o(e,r),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=null,this.targetType="",this.initialTarget=null,this.initialTargetType="",this._prevX=0,this._prevY=0}var e,n,r;return e=t,(n=[{key:"setInitialTarget",value:function(t,e){this.initialTarget=t,this.initialTargetType=e}},{key:"updateHoverTarget",value:function(t,e,n){this._prevX===e&&this._prevY===n||(this._prevX=e,this._prevY=n,this.updateTarget(t,e,n),this.hasTarget()?document.body.style.cursor="pointer":document.body.style.cursor="auto")}},{key:"updateInitialTarget",value:function(t,e,n){this.updateTarget(t,e,n),this.setInitialTarget(this.target,this.targetType)}},{key:"updateTarget",value:function(t,e,n){return(this.target=this.getNodeByInitialMarkerAt(t,e,n))?this.targetType="initial":(this.target=this.getEdgeByEndPointAt(t,e,n))?this.targetType="endpoint":(this.target=this.getNodeAt(t,e,n))?this.targetType="node":(this.target=this.getEdgeAt(t,e,n))?this.targetType="edge":(this.target=null,this.targetType="none"),this.target}},{key:"clearTarget",value:function(){this.target=null,this.targetType="none"}},{key:"hasTarget",value:function(){return null!=this.target}},{key:"getNodeAt",value:function(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,u=t.getNodes()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,c=l.getNodeSize(),s=e-l.x,f=n-l.y;if(s*s+f*f<c*c)return l}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return null}},{key:"getNodeByInitialMarkerAt",value:function(t,e,n){var r=t.getStartNode();if(!r)return null;var o=r.getNodeSize(),i=-(o+o/2),a=e-(r.x+i),u=n-r.y;return a*a+u*u<144?r:null}},{key:"getEdgeAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c.getCenterPoint(r);var s=e-r.x,f=n-r.y;if(s*s+f*f<144)return c}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getEdgeByEndPointAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c.getEndPoint(r);var s=e-r.x,f=n-r.y;if(s*s+f*f<36)return c}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"isTarget",value:function(t){return this.target==t}}])&&a(e.prototype,n),r&&a(e,r),t}();function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"isTargetable",value:function(t,e,n,r){return!1}},{key:"onAction",value:function(t,e,n,r){return!1}},{key:"onDblAction",value:function(t,e,n,r){return!1}},{key:"onDragStart",value:function(t,e,n,r){return!1}},{key:"onDragMove",value:function(t,e,n,r){return!1}},{key:"onDragStop",value:function(t,e,n,r){return!1}}])&&l(e.prototype,n),r&&l(e,r),t}();function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=p(this,y(e).call(this)),!t)throw new Error("Missing target type for graph element input handler");return n._targetType=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,c),n=e,(r=[{key:"isTargetable",value:function(t,e,n,r){return r===this._targetType}},{key:"getTargetType",value:function(){return this._targetType}}])&&f(n.prototype,r),o&&f(n,o),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,m(e).call(this,"node"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,b),n=e,(r=[{key:"onAction",value:function(t,e,n,r){t.getPicker();var o=t.getSelectionBox();return t.isTrashMode()?(e.prevX=r.x,e.prevY=r.y,o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0):t.isMoveMode()?(e.openLabelEditor(r,r.getNodeLabel()),!1):(e.toggleNode(r),!0)}},{key:"onDragStart",value:function(t,e,n,r){if(t.isMoveMode())e.prevX=r.x,e.prevY=r.y;else{var o=t.getPicker(),i=e.getGraph().createEdge(r,n);i.setEdgeLabel(e.getGraphLabeler().getDefaultEdgeLabel()),o.setInitialTarget(i,"endpoint"),t.isNewEdge=!0;var a=i.getQuadratic();e.prevQuad.radians=a.radians,e.prevQuad.length=a.length,e.prevEdgeTo=null}return!0}},{key:"onDragMove",value:function(t,e,n,r){t.getPicker();var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,u=n.y;if(t._snapToGrid){var l=t._snapSize;a=Math.round(a/l)*l,u=Math.round(u/l)*l}return o.hasSelection()?e.moveMultipleNodesTo(n,o.getSelection(i),a,u):e.moveNodeTo(n,r,a,u),!0}},{key:"onDragStop",value:function(t,e,n,r){t.getPicker();var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,u=n.y;if(t.isTrashMode())return o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0;if(o.hasSelection()){var l=a-e.prevX,c=u-e.prevY;e.onGraphIntentMoveAllNodes(o.getSelection(i),l,c)}else e.onGraphIntentMoveNode(r,a,u,e.prevX,e.prevY);return!0}}])&&v(n.prototype,r),o&&v(n,o),e}(),O=n(12);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,j(e).call(this,"initial"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,b),n=e,(r=[{key:"onDragStart",value:function(t,e,n,r){return t.ghostInitialMarker=n,!0}},{key:"onDragMove",value:function(t,e,n,r){var o=t.getPicker(),i=e.getGraph(),a=n.x,u=n.y,l=o.getNodeAt(i,a,u)||n;return t.ghostInitialMarker=l,!0}},{key:"onDragStop",value:function(t,e,n,r){var o=e.getGraph();if(t.ghostInitialMarker instanceof O.a){var i=o.getStartNode();o.setStartNode(t.ghostInitialMarker),e.applyAutoRename(),e.onGraphIntentChangeInitial(t.ghostInitialMarker,i)}return t.ghostInitialMarker=null,!0}}])&&E(n.prototype,r),o&&E(n,o),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,N(e).call(this,"edge"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,b),n=e,(r=[{key:"onAction",value:function(t,e,n,r){return t.isTrashMode()?e.deleteTargetEdge(r):e.openLabelEditor(r,r.getEdgeLabel()),!0}},{key:"onDragStart",value:function(t,e,n,r){if(r.isPlaceholder())return!1;var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEdgeTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){e.getGraph();return t.isTrashMode()?e.deleteTargetEdge(r):e.onGraphIntentMoveEdge(r,r.getQuadratic(),e.prevQuad),!0}}])&&M(n.prototype,r),o&&M(n,o),e}();function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,R(e).call(this,"endpoint"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,b),n=e,(r=[{key:"onAction",value:function(t,e,n,r){return!!t.isTrashMode()&&(e.deleteTargetEdge(r),!0)}},{key:"onDragStart",value:function(t,e,n,r){var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,e.prevEdgeTo=r.getDestinationNode(),t.isNewEdge=!1,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEndpointTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){var o=e.getGraph();n.x,n.y;if(t.isTrashMode())return e.deleteTargetEdge(r),!0;if(r.getDestinationNode()instanceof O.a){var i=o.formatEdge(r);return i!==r?(e.openLabelEditor(i,i.getEdgeLabel()),o.deleteEdge(r),!0):(t.isNewEdge?e.openLabelEditor(i,"",function(t,n){return e.onGraphIntentFinishEdge(t)}):e.openLabelEditor(r,r.getEdgeLabel()),t.isNewEdge?(t.isNewEdge=!1,e.onGraphIntentCreateEdge(r)):null!==e.prevEdgeTo&&e.onGraphIntentChangeDestination(r,r.getDestinationNode(),e.prevEdgeTo,e.prevQuad),!0)}return t.shouldDestroyPointlessEdges?(t.isNewEdge?o.deleteEdge(r):e.deleteTargetEdge(r),!0):(r.changeDestinationNode(null),r.getEdgeLabel().length<=0&&e.openLabelEditor(r,r.getEdgeLabel()),!0)}}])&&D(n.prototype,r),o&&D(n,o),e}();function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,Y(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,c),n=e,(r=[{key:"isTargetable",value:function(t,e,n,r){return"none"===r}},{key:"onDblAction",value:function(t,e,n,r){var o=n.x,i=n.y;if(t._snapToGrid){var a=t._snapSize;o=Math.round(o/a)*a,i=Math.round(i/a)*a}e.createNode(o,i);return!0}}])&&z(n.prototype,r),o&&z(n,o),e}();function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t,e,n){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=K(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=!0,tt=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=J(this,K(e).call(this,t,n)))._picker=null,r._selectionBox=new i,r._graphController=null,r.isNewEdge=!1,r.ghostInitialMarker=null,r.shouldDestroyPointlessEdges=$,r._swapMouseScheme=!0,//!navigator.platform.startsWith("Mac");
r._trashMode=!1,r._disabled=!1,r._snapToGrid=!1,r._snapSize=48,r._inputHandlers=[new _,new L,new B,new P,new U],r}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,r["a"]),n=e,(o=[{key:"initialize",value:function(t){W(K(e.prototype),"initialize",this).call(this,t),this._module=t,this._graphController=t.getGraphController(),this._picker=new u(this._graphController)}},{key:"destroy",value:function(t){W(K(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){W(K(e.prototype),"update",this).call(this,t);var n=this._graphController.getGraph(),r=this._picker,o=this._inputAdapter.getPointerX(),i=this._inputAdapter.getPointerY();r.updateHoverTarget(n,o,i)}},{key:"setDisabled",value:function(t){this._disabled=t}},{key:"isDisabled",value:function(){return this._disabled}},{key:"onPreInputEvent",value:function(t){if(this._disabled)return W(K(e.prototype),"onPreInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.updateInitialTarget(n,t.x,t.y);var o=r.initialTarget,i=r.initialTargetType;return this._selectionBox.hasSelection()&&("node"==i&&this._selectionBox.isTargetInSelection(o)||this._selectionBox.clearSelection()),W(K(e.prototype),"onPreInputEvent",this).call(this,t)}},{key:"onInputEvent",value:function(t){if(this._disabled)return W(K(e.prototype),"onInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,t,o,i)&&f.onAction(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}return W(K(e.prototype),"onInputEvent",this).call(this,t)}},{key:"onDblInputEvent",value:function(t){if(this._disabled)return W(K(e.prototype),"onDblInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,u=!1,l=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,t,o,i)&&f.onDblAction(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}return W(K(e.prototype),"onDblInputEvent",this).call(this,t)}},{key:"onDragStart",value:function(t){if(this._disabled)return W(K(e.prototype),"onDragStart",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isNewEdge=!1,this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,u=!1,l=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,t,o,i)&&f.onDragStart(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}return W(K(e.prototype),"onDragStart",this).call(this,t)}},{key:"onDragMove",value:function(t){if(this._disabled)return W(K(e.prototype),"onDragMove",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,t,o,i)&&f.onDragMove(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}return W(K(e.prototype),"onDragMove",this).call(this,t)}},{key:"onDragStop",value:function(t){if(this._disabled)return W(K(e.prototype),"onDragStop",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,t,o,i)&&f.onDragStop(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}return W(K(e.prototype),"onDragStop",this).call(this,t)}},{key:"onPostInputEvent",value:function(t){if(this._disabled)return W(K(e.prototype),"onPostInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.clearTarget(),r.updateTarget(n,t.x,t.y),W(K(e.prototype),"onPostInputEvent",this).call(this,t)}},{key:"setTrashMode",value:function(t){this._trashMode=t,t?this._module.getApp()._drawer.setViewportColor("var(--color-viewport-error)"):this._module.getApp()._drawer.setViewportColor(null)}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"setInputScheme",value:function(t){this._swapMouseScheme=!t}},{key:"getInputScheme",value:function(){return this._swapMouseScheme}},{key:"isMoveMode",value:function(){var t=this._inputAdapter.isAltInput();return this._swapMouseScheme?!t:t}},{key:"isDragging",value:function(){return this._inputAdapter.isDragging()}},{key:"isActionMode",value:function(){return this._inputAdapter.isPointerActive()?this.isNewEdge||!this.isMoveMode():!this._swapMouseScheme}},{key:"getPicker",value:function(){return this._picker}},{key:"getSelectionBox",value:function(){return this._selectionBox}}])&&Z(n.prototype,o),a&&Z(n,a),e}(),et=n(37),nt=n(22),rt=n(16),ot=n(18),it=n(34);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e,n){return(lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ct(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pt=!0,yt=30,ht=function(t){function e(t,n,r,o){var i,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(i=!(u=ct(e).call(this,t,n,r,o))||"object"!==at(u)&&"function"!=typeof u?ft(a):u).inputController=null,i._graphChangeHandler=new it.a(yt),i.getGraphLabeler().setGraphController(ft(ft(i))),i.labelEditorElement=null,i.prevQuad={radians:0,length:0,x:0,y:0},i.prevEdgeTo=null,i.prevX=0,i.prevY=0,i.shouldAutoLabel=pt,i.registerEvent("tryCreateWhileTrash"),i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(e,et["a"]),n=e,(r=[{key:"initialize",value:function(t){lt(ct(e.prototype),"initialize",this).call(this,t),this._module=t,this.inputController=t.getInputController()}},{key:"destroy",value:function(t){lt(ct(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){lt(ct(e.prototype),"update",this).call(this,t),this._graphChangeHandler.update(this._graph)}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"applyAutoLayout",value:function(){ot.a.applyLayout(this.getGraph()),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"applyAutoRename",value:function(){var t=this._labeler,e=this._graph;if(!e.isEmpty()){var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getNodeCustom()||u.setNodeLabel("")}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l=!0,c=!1,s=void 0;try{for(var f,p=e.getNodes()[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var y=f.value;y.getNodeCustom()||y.setNodeLabel(t.getDefaultNodeLabel())}}catch(t){c=!0,s=t}finally{try{l||null==p.return||p.return()}finally{if(c)throw s}}}}},{key:"onGraphIntentImport",value:function(){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentCreateEdge",value:function(t){}},{key:"onGraphIntentFinishEdge",value:function(t){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveEdge",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeDestination",value:function(t,e,n,r){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeInitial",value:function(t,e){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveNode",value:function(t,e,n,r,o){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveAllNodes",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentDeleteNodes",value:function(t,e,n,r){this.shouldAutoLabel&&this.applyAutoRename()}},{key:"setAutoRenameNodes",value:function(t){var e=this.shouldAutoLabel;this.shouldAutoLabel=t,t&&!e&&this.applyAutoRename()}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"renameNode",value:function(t,e){t.getNodeLabel(),t.getNodeCustom();t.setNodeLabel(e),t.setNodeCustom(!0),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"createNode",value:function(t,e){void 0===t&&(t=64*Math.random()*2-64),void 0===e&&(e=64*Math.random()*2-64);var n=this.getGraph().createNode(t,e),r=this.getGraphLabeler().getDefaultNodeLabel();return n.setNodeLabel(r),this.getModule().getApp().getUndoManager().captureEvent(),n}},{key:"toggleNode",value:function(t){var e=!t.getNodeAccept();t.setNodeAccept(e),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteSelectedNodes",value:function(t){var e=this.inputController.getSelectionBox(),n=e.getSelection(this.getGraph()).slice(),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this.getGraph().deleteNode(l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}e.clearSelection(),this.onGraphIntentDeleteNodes(t,n,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNode",value:function(t){this.getGraph().deleteNode(t),this.onGraphIntentDeleteNodes(t,[t],this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNodes",value:function(t){if(t&&!(t.length<=0)){var e=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.deleteNode(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.onGraphIntentDeleteNodes(t[0],t,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}}},{key:"deleteTargetEdge",value:function(t){this.getGraph().deleteEdge(t),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetEdges",value:function(t){if(t&&!(t.length<=0)){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"moveNodeTo",value:function(t,e,n,r){var o=e.getNodeSize(),i=!0,a=!1,u=void 0;try{for(var l,c=this.getGraph().getNodes()[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var s=l.value;if(e!==s){var f=n-s.x,p=r-s.y,y=Math.atan2(p,f),h=2*o,b=s.x+Math.cos(y)*h-n,g=s.y+Math.sin(y)*h-r;f*f+p*p<o*o*4&&(n+=b,r+=g)}}}catch(t){a=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}e.x=n,e.y=r}},{key:"moveMultipleNodesTo",value:function(t,e,n,r){var o=t.getInputEventPosition(),i=n-o.x,a=r-o.y,u=!0,l=!1,c=void 0;try{for(var s,f=e[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var p=s.value;p.x+=i,p.y+=a}}catch(t){l=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}t.changeInputEventPosition(n,r)}},{key:"moveEdgeTo",value:function(t,e,n,r){e.setQuadraticByCoords(n,r)}},{key:"moveEndpointTo",value:function(t,e,n,r){var o=this.inputController.getPicker().getNodeAt(this.getGraph(),n,r)||t;if(e.changeDestinationNode(o),e.isSelfLoop()){var i=e.getSourceNode(),a=i.x-n,u=i.y-r,l=Math.atan2(u,a)+Math.PI;e.setQuadratic(l)}else e.setQuadratic(this.prevQuad.radians,this.prevQuad.length)}},{key:"openLabelEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getModule().getInputManager().getLabelEditorManager().getLabelEditorComponent(),i=n;o.openEditor(t,n,function(t,n){(!n||n.length<=0)&&t instanceof rt.a?e._graph.deleteEdge(t):(t instanceof rt.a?t.setEdgeLabel(n):t.setNodeLabel(n),(!i||i.length>0&&n!==i)&&e.getModule().getApp().getUndoManager().captureEvent(),r&&r(t,n))},function(t){(!i||i.length<=0)&&t instanceof rt.a&&e._graph.deleteEdge(t)})}},{key:"focusOnNode",value:function(t){this.inputController.getInputAdapter().getViewport().setOffset(-t.x,-t.y)}},{key:"focusOnEdge",value:function(t){var e=t.getCenterPoint();this.inputController.getInputAdapter().getViewport().setOffset(-e.x,-e.y)}},{key:"focusOnNodes",value:function(t){var e=t.length,n=0,r=0,o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;n+=c.x,r+=c.y}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this.inputController.getInputAdapter().getViewport().setOffset(-n/e,-r/e)}}])&&ut(n.prototype,r),o&&ut(n,o),e}();nt.a.mixin(ht);var bt=ht,gt=n(279);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=mt(this,wt(e).call(this)))._inputController=t,o._graphController=n,o._selectionBox=r,o}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(e,gt["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return!this._inputController.isMoveMode()&&(this._selectionBox.beginSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragMove",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.updateSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragStop",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.endSelection(this._graphController.getGraph(),t.x,t.y),!0)}}])&&dt(n.prototype,r),o&&dt(n,o),e}();function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){return!e||"object"!==St(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=kt(this,jt(e).call(this)))._prevX=0,t._prevY=0,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(e,gt["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return this._prevX=t.x,this._prevY=t.y,!0}},{key:"onDragMove",value:function(t){var e=t.x-this._prevX,n=t.y-this._prevY;return t.getAdapter().getViewport().addOffset(e,n,!0),!0}},{key:"onDragStop",value:function(t){return!0}}])&&Et(n.prototype,r),o&&Et(n,o),e}(),Tt=n(0),Mt=n.n(Tt),xt=n(206),Nt=n.n(xt),It=n(21);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ft=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Dt(e).call(this,t))||"object"!==Lt(o)&&"function"!=typeof o?Rt(r):o).inputElement=null,n.placeholder="",n.maxLength=524288,n.multiLine=!0,n.formatter=null,n._submitTimeout=null,n._submit=t.submitOnBlur,n._skipBlur=!1,n._skipSelect=!1,n.state={prevValue:"",value:""},n.onChange=n.onChange.bind(Rt(Rt(n))),n.onFocus=n.onFocus.bind(Rt(Rt(n))),n.onBlur=n.onBlur.bind(Rt(Rt(n))),n.onKeyDown=n.onKeyDown.bind(Rt(Rt(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(e,Mt.a.Component),n=e,(r=[{key:"setFormatter",value:function(t){return this.formatter=t,this}},{key:"onFocus",value:function(t){this._skipSelect&&(this.inputElement.select(),this._skipSelect=!1)}},{key:"onBlur",value:function(t){var e=this;this._submitTimeout||(this._submitTimeout=setTimeout(function(){if(e._submitTimeout=null,!e._skipBlur){var n=e._submit;if(e._submit=e.props.submitOnBlur,document.activeElement!==e.inputElement&&n){var r=e.state.value;e.props.onSubmit&&e.props.onSubmit(r),e.setState({prevValue:r})}else e.setState(function(t,e){return{value:t.prevValue}});e.props.onBlur&&e.props.onBlur(t)}},30))}},{key:"onKeyDown",value:function(t){var e=this;if("Enter"===t.key){if(t.shiftKey&&this.multiLine)return;this._submit=!0,this.inputElement.blur(),t.preventDefault(),t.stopPropagation()}else"Escape"===t.key&&(this.setState(function(t,e){return{value:t.prevValue}},function(){e._submit=!1,e.inputElement.blur()}),t.preventDefault(),t.stopPropagation())}},{key:"onChange",value:function(t){var e=t.target.value;this.formatter&&(e=this.formatter(e)),this.setState({value:e})}},{key:"focus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._skipSelect=t,this.inputElement.focus()}},{key:"ignoreBlur",value:function(t){var e=this._skipBlur;return this._skipBlur=t,e!==t}},{key:"appendValue",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.value;o&&o.length+t.length>this.maxLength||(e=o&&o.length>0?o+n+t:t,r&&this.formatter&&(e=this.formatter(e)),this.setState(function(t,n){return{value:e}}))}},{key:"resetValue",value:function(t){this.setState({prevValue:t,value:t})}},{key:"setValue",value:function(t){var e=t;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.formatter&&(e=this.formatter(e)),this.setState({value:e})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var t=this,e=this.placeholder,n=this.maxLength,r=this.multiLine,o=this.props.disabled,i=this.state.value;return Mt.a.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},r?Mt.a.createElement("textarea",{ref:function(e){return t.inputElement=e},type:"text",rows:"1",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}):Mt.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}])&&At(n.prototype,r),o&&At(n,o),e}();function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Xt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=zt(e).call(this,t))||"object"!==Bt(o)&&"function"!=typeof o?Yt(r):o).ref=null,n.inputComponent=null,n.state={open:!1},n._target=null,n._targetCallback=null,n.onInputSubmit=n.onInputSubmit.bind(Yt(Yt(n))),n.onInputBlur=n.onInputBlur.bind(Yt(Yt(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,Mt.a.Component),n=e,(r=[{key:"openEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof It.a))throw new Error("Can only open editor for GraphElements");this._target=t,this._targetOnSubmit=r,this._targetOnCancel=o;var i=this.props.labeler.getLabelFormatter(this._target);this.inputComponent.setFormatter(i),this.setState({open:!0},function(){null!==n&&e.inputComponent.resetValue(n),e.inputComponent.focus()})}},{key:"closeEditor",value:function(){this._target=null,this._targetOnSubmit=null,this._targetOnCancel=null,this.inputComponent.setFormatter(null),this.setState({open:!1})}},{key:"isEditorOpen",value:function(){return this.state.open}},{key:"getTarget",value:function(){return this._target}},{key:"onInputSubmit",value:function(t){this._targetOnSubmit&&(this._targetOnSubmit(this._target,t),this._targetOnCancel=null)}},{key:"onInputBlur",value:function(t){this._targetOnCancel&&(this._targetOnCancel(this._target),this._targetOnSubmit=null),this.closeEditor()}},{key:"render",value:function(){var t=this,e=this.state.open,n=this._target,r=this.props.style||{},o=this.props.viewport;this.props.labeler;if(n){var i=n.getCenterPoint(),a=o.getElement(),u=a.getBoundingClientRect(),l=function(t,e,n){var r=t.getScreenCTM();return{x:e*r.a+r.e,y:n*r.d+r.f}}(a,i.x+o.getOffsetX(),i.y+o.getOffsetY()),c=l.x,s=l.y,f=-this.ref.offsetWidth/2-u.left,p=-this.ref.offsetHeight/2-u.top;r.top=s+p+"px",r.left=c+f+"px"}return Mt.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:Nt.a.editor_container+(e?" open ":"")+" "+this.props.className,style:r},Mt.a.createElement(Ft,{ref:function(e){return t.inputComponent=e},submitOnBlur:this.props.saveOnExit,onSubmit:this.onInputSubmit,onBlur:this.onInputBlur}),Mt.a.createElement("div",{className:Nt.a.tray_container},this.props.children))}}])&&Vt(n.prototype,r),o&&Vt(n,o),e}(),Ut=n(281);function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._labelEditorComponent=null,this._labelEditorRenderer=null,this._labeler=null}var e,n,r;return e=t,(n=[{key:"setLabelEditorRenderer",value:function(t){return this._labelEditorRenderer=t,this}},{key:"setLabeler",value:function(t){return this._labeler=t,this}},{key:"onSessionStart",value:function(t){var e=this,n=t.getCurrentModule(),r=t.getApp().getInputAdapter().getViewport(),o=this._labelEditorRenderer,i=this._labeler;t.getApp().getRenderManager().addRenderer(Ut.d,function(t){return Mt.a.createElement(Xt,{ref:function(t){return e._labelEditorComponent=t},labeler:i,viewport:r,saveOnExit:!0},o&&Mt.a.createElement(o,{currentModule:n,parent:e._labelEditorComponent}))})}},{key:"onSessionStop",value:function(t){this._labeler=null,this._labelEditorRenderer=null,this._labelEditorComponent=null}},{key:"getLabelEditorComponent",value:function(){return this._labelEditorComponent}}])&&Qt(e.prototype,n),r&&Qt(e,r),t}(),Jt=n(7);function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kt=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputController=new tt(e,e.getApp().getInputAdapter()),this._graphController=new bt(e,n,r,o),this._labelEditorManager=(new Zt).setLabelEditorRenderer(i).setLabeler(r),e.getApp().getInputAdapter().addInputHandler(this._inputController).addInputHandler(new Ot(this._inputController,this._graphController,this._inputController.getSelectionBox())).addInputHandler(new Pt)}var e,n,r;return e=t,(n=[{key:"setGraphLabeler",value:function(t){return this._graphLabeler=t,this}},{key:"setGraphParser",value:function(t){return this._graphParser=t,this}},{key:"update",value:function(t){var e=this.getInputController(),n=this.getGraphController();e.update(t),n.update(t)}},{key:"onSessionStart",value:function(t){var e=this,n=t.getCurrentModule(),r=this.getInputController(),o=this.getGraphController();r.initialize(n),o.initialize(n),this._labelEditorManager.onSessionStart(t);this._graphController.on("tryCreateWhileTrash",function(){e._inputController.isTrashMode()&&Jt.a.addMessage(I18N.toString("message.warning.cannotmodify"),"warning","tryCreateWhileTrash")})}},{key:"onSessionStop",value:function(t){this._labelEditorManager.onSessionStop(t);var e=t.getCurrentModule(),n=this.getInputController();this.getGraphController().destroy(e),n.destroy(e)}},{key:"getLabelEditorManager",value:function(){return this._labelEditorManager}},{key:"getGraphParser",value:function(){return this._graphController.getGraphParser()}},{key:"getGraphLabeler",value:function(){return this._graphController.getGraphLabeler()}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getInputController",value:function(){return this._inputController}}])&&Wt(e.prototype,n),r&&Wt(e,r),t}();e.a=Kt},308:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.visible,e=this.props.fromX||0,n=this.props.fromY||0,r=this.props.toX||e+1,i=this.props.toY||n+1,a=r-e,u=i-n;return o.a.createElement("g",{className:"graph-selection-container"},t&&o.a.createElement("rect",{className:"graph-selection",x:a<0?r:e,y:u<0?i:n,width:a<0?-a:a,height:u<0?-u:u}))}}])&&a(n.prototype,r),i&&a(n,i),e}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=[8,6],v=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,h(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.target,e=0,n=0,r=4;switch(this.props.type){case"node":e=t.x||0,n=t.y||0,r=16;break;case"edge":var i=t.getCenterPoint();e=i.x||0,n=i.y||0,r=12;break;case"endpoint":var a=t.getEndPoint();e=a.x||0,n=a.y||0,r=6;break;case"initial":e=t.x+-24,n=t.y||0,r=12}return o.a.createElement("g",{className:"graph-highlight-container"},o.a.createElement("circle",{className:"graph-highlight "+this.props.className,cx:e,cy:n,r:r+4,strokeDashoffset:this.props.offset||0,strokeDasharray:g,strokeWidth:3,fill:"none"}))}}])&&p(n.prototype,r),i&&p(n,i),e}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,_(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getGraphController(),n=t.getInputController(),r=e.getGraph(),i=n.getSelectionBox(),a=i.getSelectionBox();return o.a.createElement("g",null,i&&i.hasSelection()&&i.getSelection(r).map(function(t,e){return o.a.createElement(v,{key:t.getGraphElementID(),className:n.isTrashMode()?"highlight-error":"highlight-select",target:t,type:"node"})}),a&&o.a.createElement(s,{visible:a.visible,fromX:a.fromX,fromY:a.fromY,toX:a.toX,toY:a.toY}))}}])&&m(n.prototype,r),i&&m(n,i),e}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,C(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getInputController(),n=(e.getInputAdapter().getViewport(),e.getPicker()),r=e.getSelectionBox();return o.a.createElement("g",null,o.a.createElement(S,{currentModule:t}),t._tester&&t._tester.targets&&t._tester.targets.map(function(t,e){return o.a.createElement(v,{key:t.getGraphElementID(),className:"highlight-test graph-gui",target:t,type:"node",offset:"6"})}),n&&n.hasTarget()&&!r.isTargetInSelection(n.target)&&o.a.createElement(v,{className:e.isTrashMode()?"highlight-error":"highlight-select",target:n.target,type:n.targetType}))}}])&&k(n.prototype,r),i&&k(n,i),e}();e.a=T},309:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(207),a=n.n(i),u=n(274),l=n(290);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,p(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&s(n.prototype,r),i&&s(n,i),e}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var w=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=v(e).call(this,t))||"object"!==b(o)&&"function"!=typeof o?m(r):o).onChange=n.onChange.bind(m(m(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o.a.Component),n=e,(r=[{key:"onChange",value:function(t){this.props.onChange&&this.props.onChange(t)}},{key:"render",value:function(){var t=this,e=this.props.mode||0;this.props.onChange;return o.a.createElement("div",{id:this.props.id,className:a.a.tray_container+" "+this.props.className,style:this.props.style},o.a.createElement(u.a,{className:a.a.tray_button+(0===e?" active ":""),onClick:function(){return t.onChange(0)},title:I18N.toString("cursor.actionmode")},o.a.createElement(l.a,null)),o.a.createElement(u.a,{className:a.a.tray_button+(1===e?" active ":""),onClick:function(){return t.onChange(1)},title:I18N.toString("cursor.movemode")},o.a.createElement(h,null)))}}])&&g(n.prototype,r),i&&g(n,i),e}();e.a=w},310:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(208),a=n.n(i),u=n(280);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,f(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},o.a.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&c(n.prototype,r),i&&c(n,i),e}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var m=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=g(e).call(this,t))||"object"!==h(o)&&"function"!=typeof o?d(r):o).ref=null,n.state={forceActive:!1},n._doubleTapTimeout=null,n.onMouseEnter=n.onMouseEnter.bind(d(d(n))),n.onMouseLeave=n.onMouseLeave.bind(d(d(n))),n.onClick=n.onClick.bind(d(d(n))),n.onAnyMouseDownNotConsumed=n.onAnyMouseDownNotConsumed.bind(d(d(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMouseEnter",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!0)}},{key:"onMouseLeave",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!1)}},{key:"onClick",value:function(t){var e=this;t.stopPropagation(),t.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({forceActive:!1}),Object(u.a)(this.props.app,!0),this.props.inputController.setTrashMode(!1)):this.setState(function(t,n){var r=!t.forceActive;return n.inputController.setTrashMode(r),e._doubleTapTimeout=setTimeout(function(){e._doubleTapTimeout=null},250),r&&document.documentElement.addEventListener("mousedown",e.onAnyMouseDownNotConsumed),{forceActive:r}})}},{key:"onAnyMouseDownNotConsumed",value:function(t){this.state.forceActive&&this.ref!==t.target&&(t.stopPropagation(),t.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.props.inputController.setTrashMode(!1),this.setState({forceActive:!1}))}},{key:"render",value:function(){var t=this,e=this.props.inputController,n=this.props.graphController,r=e.getInputAdapter(),i=e.isTrashMode(),u=!i&&(n.getGraph().isEmpty()||r.isUsingTouch()&&r.isDragging());return o.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:a.a.trash_container+(i?" active ":"")+(u?" hide ":"")+" "+this.props.className,style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},o.a.createElement(y,null))}}])&&b(n.prototype,r),i&&b(n,i),e}();e.a=m}}]);
//# sourceMappingURL=sourcemap/module_nodalgraph.bundle.js.map