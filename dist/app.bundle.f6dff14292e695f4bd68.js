(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a});var r="config",o={};function i(){var e=localStorage.getItem(r);if(e)try{console.log("Loading config...");var t=JSON.parse(e);1==t._resetOnLoad?(l(),a()):Object.assign(o,t)}catch(e){l()}else console.log("Using default config...")}function a(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o._userDefined&&o._dirty)try{console.log("Saving config...");var e=JSON.stringify(o);localStorage.setItem(r,e),o._dirty=!1}catch(e){l()}}function l(){localStorage.removeItem(r),o._dirty=!0}o._resetOnLoad=!1,o._userDefined=!1,o._dirty=!1,o.setValue=function(e,t){if(!this.hasOwnProperty(e))throw new Error("Trying to assign value to non-existant key in config");this._userDefined=!0,this._dirty=!0,this[e]=t}.bind(o),t.a=o,o.MACHINE_ERRORS_MESSAGE_TAG="machineError",o.MACHINE_CONVERSION_MESSAGE_TAG="machineConversion",o.ERROR_CHECK_INTERVAL=2e3,o.GRAPH_IMMEDIATE_INTERVAL=50,o.SMOOTH_OFFSET_DAMPING=.4,o.SCROLL_SENSITIVITY=1/300,o.MIN_SCALE=.1,o.MAX_SCALE=10,o.INIT_WAITTIME=1500,o.STR_TRANSITION_DEFAULT_LABEL="",o.STR_STATE_LABEL="q",o.PARALLEL_EDGE_HEIGHT=10,o.SELF_LOOP_HEIGHT=40,o.SUBMIT_KEY=13,o.CLEAR_KEY=27,o.TAB_KEY=9,o.UP_KEY=38,o.DOWN_KEY=40,o.DELETE_KEY=8,o.DELETE_FORWARD_KEY=46,o.DEFAULT_GRAPH_SIZE=300,o.NODE_RADIUS=16,o.NODE_RADIUS_SQU=o.NODE_RADIUS*o.NODE_RADIUS,o.NODE_DIAMETER=2*o.NODE_RADIUS,o.NODE_RADIUS_INNER=12,o.INITIAL_MARKER_OFFSET_X=-(o.NODE_RADIUS+o.NODE_RADIUS/2),o.EDGE_RADIUS=12,o.EDGE_RADIUS_SQU=o.EDGE_RADIUS*o.EDGE_RADIUS,o.ARROW_WIDTH=10,o.PLACEHOLDER_LENGTH=3*o.NODE_RADIUS,o.ENDPOINT_RADIUS=6,o.ENDPOINT_RADIUS_SQU=o.ENDPOINT_RADIUS*o.ENDPOINT_RADIUS,o.HOVER_RADIUS_OFFSET=4,o.CURSOR_RADIUS=4,o.CURSOR_RADIUS_SQU=o.CURSOR_RADIUS*o.CURSOR_RADIUS,o.DOUBLE_TAP_TICKS=600,o.LONG_TAP_TICKS=600,o.SPAWN_RADIUS=64,o.DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE=!0,o.DRAGGING_BUFFER=18,o.DRAGGING_BUFFER_SQU=o.DRAGGING_BUFFER*o.DRAGGING_BUFFER,o.PADDING_RADIUS_SQU=2304},,,function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(60);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("button",{className:"icon-button "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.props.onClick},this.props.children)}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";var r=n(10);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var l=function(){function e(t,n,i,a,l,u){o(this,e),this._handler=t,this._id=Object(r.a)(),this._type=i,this.value=n,this.tags=a,this.componentClass=l,this.componentProps=u}return a(e,[{key:"close",value:function(){var e=this._handler.getMessages(),t=e.indexOf(this);if(t<0)throw new Error("Trying to close an unopened notification message");e.splice(t,1)}},{key:"getType",value:function(){return this._type}},{key:"getID",value:function(){return this._id}},{key:"getComponentClass",value:function(){return this.componentClass}},{key:"getComponentProps",value:function(){return this.componentProps}},{key:"hasTag",value:function(e){return this.tags.indexOf(e)>=0}}]),e}(),u=new(function(){function e(){o(this,e),this._messageQueue=[]}return a(e,[{key:"addMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];n&&i&&this.clearMessages(n);var a=new l(this,e,t||"default",n||[],r,o);this._messageQueue.unshift(a)}},{key:"addDefaultMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.addMessage(e,"default",t,n,r,o)}},{key:"addErrorMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.addMessage(e,"error",t,n,r,o)}},{key:"addWarningMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.addMessage(e,"warning",t,n,r,o)}},{key:"clearMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t;Array.isArray(e)||(e=[e]);for(var n=this._messageQueue.length-1;n>=0;--n){t=this._messageQueue[n];var r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(t.hasTag(u)){this._messageQueue.splice(n,1);break}}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}}else this._messageQueue.length=0}},{key:"hasMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){Array.isArray(e)||(e=[e]);for(var t=this._messageQueue.length-1;t>=0;--t){message=this._messageQueue[t];var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(message.hasTag(l))return!0}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return!1}return this._messageQueue.length>=0}},{key:"getMessages",value:function(){return this._messageQueue}}]),e}());t.a=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handlers=new Set,this._intervalID=null,this._intervalMillis=1e3,this._init=!1,this.onIntervalUpdate=this.onIntervalUpdate.bind(this)}var t,n,i;return t=e,(n=[{key:"setAutoSaveInterval",value:function(e){if(!e||e<=0)throw new Error("AutoSave interval must be greater than 0");this._intervalMillis=e}},{key:"registerHandler",value:function(e){if(this._handlers.has(e))throw new Error("Cannot register handler, since it is already registered");this._init&&"function"==typeof e.onLoadSave&&e.onLoadSave(),this._handlers.add(e)}},{key:"unregisterHandler",value:function(e){if(!this._handlers.has(e))throw new Error("Cannot remove handler, since it is not yet registered");this._init&&"function"==typeof e.onUnloadSave&&e.onUnloadSave(),this._handlers.delete(e)}},{key:"initialize",value:function(){if(this._init)throw new Error("Cannot initialize LocalSave, since it is already initialized");if(this.doesSupportLocalStorage()){this._init=!0;var e=!0,t=!1,n=void 0;try{for(var r,o=this._handlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;"function"==typeof i.onLoadSave&&i.onLoadSave()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this._intervalID=setInterval(this.onIntervalUpdate,this._intervalMillis)}}},{key:"terminate",value:function(){if(!this._init)throw new Error("Cannot terminate LocalSave, since it is not yet initialized");clearInterval(this._intervalID);var e=!0,t=!1,n=void 0;try{for(var r,o=this._handlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;"function"==typeof i.onUnloadSave&&i.onUnloadSave()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this._handlers.clear(),this._init=!1}},{key:"onIntervalUpdate",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._handlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;try{"function"==typeof i.onAutoSave&&i.onAutoSave()}catch(e){console.error(e)}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"setStringToStorage",value:function(e,t){this.doesSupportLocalStorage()&&(t.length>0?localStorage.setItem(e,t):localStorage.removeItem(e))}},{key:"getStringFromStorage",value:function(e){return this.doesSupportLocalStorage()&&localStorage.getItem(e)||""}},{key:"loadFromStorage",value:function(e){if(!this.doesSupportLocalStorage())return null;try{var t=localStorage.getItem(e);return t&&t.length>0?JSON.parse(t):null}catch(e){return console.error(e),{}}}},{key:"saveToStorage",value:function(e,t){var n;if(this.doesSupportLocalStorage()&&(void 0!==document.hidden?(n="hidden","visibilitychange"):void 0!==document.msHidden?(n="msHidden","msvisibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden","webkitvisibilitychange"),!document[n]))try{if("object"==r(t)){var o=t;if(o)for(var i in o=!1,t)if(t.hasOwnProperty(i)){o=!0;break}o?localStorage.setItem(e,JSON.stringify(t)):localStorage.removeItem(e)}else if("string"==typeof t){t.length<=0?localStorage.setItem(e,t):localStorage.removeItem(e)}}catch(e){console.error(e)}}},{key:"existsInStorage",value:function(e){return!!this.doesSupportLocalStorage()&&null!=localStorage.getItem(e)}},{key:"clearStorage",value:function(){this.doesSupportLocalStorage()&&localStorage.clear()}},{key:"doesSupportLocalStorage",value:function(){return"undefined"!=typeof Storage}}])&&o(t.prototype,n),i&&o(t,i),e}());t.a=i},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return f});var r=n(31);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=" ",f="Îµ",p=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,e,n,r))}var n,o,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(o=[{key:"setEdgeLabel",value:function(e){"string"==typeof e?l(u(t.prototype),"setEdgeLabel",this).call(this,e):l(u(t.prototype),"setEdgeLabel",this).call(this,f)}},{key:"getEdgeSymbolsFromLabel",value:function(){return this.getEdgeLabel().split(c)}}])&&i(n.prototype,o),p&&i(n,p),t}();t.c=p},function(e,t,n){"use strict";var r={_componentClass:null,_componentProps:null,routeTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._componentClass=e,this._componentProps=t},getCurrentPage:function(){return this._componentClass},getCurrentPageProps:function(){return this._componentProps}};t.a=r},function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(91);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,s(t).call(this,e))).ref=null,n.labelEditor=null,n.state={prevMode:t.NORMAL,mode:t.NORMAL},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.currentModule,n=(t.getInputController(),t.getGraphController(),t.getMachineController(),t.getRenderer("viewport"));return o.a.createElement("div",{className:"viewport-container viewport-"+this.state.mode,ref:function(t){return e.ref=t}},n&&o.a.createElement(n,a({},this.props,{parent:this})))}}])&&l(n.prototype,r),i&&l(n,i),t}();f.NORMAL="normal",f.WAITING="waiting",f.TESTING="testing",f.DANGEROUS="dangerous",t.a=f},function(e,t,n){"use strict";function r(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0,n=0,r=e.length;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});function r(e,t){i(e,"data:text/plain; charset=utf-8,"+encodeURIComponent(t))}function o(e,t,n,r,o){var a=(new XMLSerializer).serializeToString(n),l=new Blob([a],{type:"image/svg+xml"}),u=URL.createObjectURL(l),s=document.createElement("canvas"),c=s.getContext("2d"),f=window.devicePixelRatio||1;s.width=r*f,s.height=o*f,s.style.width=r+"px",s.style.height=o+"px",c.setTransform(f,0,0,f,0,0);var p=new Image;p.onload=function(){c.drawImage(p,0,0),URL.revokeObjectURL(u);var n=s.toDataURL("image/"+t).replace("image/"+t,"image/octet-stream");i(e+"."+t,n)},p.src=u}function i(e,t){var n=document.createElement("a"),r=t.indexOf(";");t=t.substring(0,r+1)+"headers=Content-Disposition%3A%20attachment%3B%20filename="+e+";"+t.substring(r+1),n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=[8,6],p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,s(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.target,t=this.props.type,n=0,r=0,a=i.a.CURSOR_RADIUS;switch(t){case"node":n=e.x||0,r=e.y||0,a=i.a.NODE_RADIUS;break;case"edge":var l=e.getCenterPoint();n=l.x||0,r=l.y||0,a=i.a.EDGE_RADIUS;break;case"endpoint":var u=e.getEndPoint();n=u.x||0,r=u.y||0,a=i.a.ENDPOINT_RADIUS;break;case"initial":n=e.x+i.a.INITIAL_MARKER_OFFSET_X||0,r=e.y||0,a=i.a.EDGE_RADIUS}return o.a.createElement("g",{className:"graph-highlight-container"},o.a.createElement("circle",{className:"graph-highlight "+this.props.className,cx:n,cy:r,r:a+4,strokeDashoffset:this.props.offset||0,strokeDasharray:f,strokeWidth:3,fill:"none"}))}}])&&l(n.prototype,r),a&&l(n,a),t}();t.a=p},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"importFromData",value:function(e,t){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToData",value:function(e){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportData",value:function(){return!1}},{key:"importFromFile",value:function(e,t){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToFile",value:function(e,t){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportFile",value:function(){return!1}},{key:"canImport",value:function(){return!1}},{key:"getTitle",value:function(){return this.getLabel()}},{key:"getIconClass",value:function(){return null}},{key:"getLabel",value:function(){return"Export as "+this.getFileType().toUpperCase()}},{key:"getFileType",value:function(){throw new Error("Unknown file type for exporter")}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},function(e,t,n){"use strict";var r={__eventListeners:null,mixin:function(e){var t=e.prototype;Object.assign(t,r),delete t.mixin},registerEvent:function(e){if(this.__eventListeners||(this.__eventListeners=new Map),this.__eventListeners.has(e))throw new Error("Already registered event '"+e+"'");this.__eventListeners.set(e,[])},unregisterEvent:function(e){if(this.__eventListeners){if(!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");this.__eventListeners.delete(e)}},addEventListener:function(e,t){if(this.__eventListeners||(this.__eventListeners=new Map),!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");this.__eventListeners.get(e).push(t)},removeEventListener:function(e,t){if(this.__eventListeners){if(!this.__eventListeners.has(e))throw new Error("Unknown event '"+e+"'");for(var n=this.__eventListeners.get(e),r=!1,o=n.length;o--;)n[o]===t&&(n.splice(o,1),r=!0);if(!r)throw new Error("Unable to find listener for event '"+e+"'")}},clearEventListeners:function(e){if(this.__eventListeners)if(e){if(!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");this.__eventListeners.get(e).length=0}else this.__eventListeners.clear()},countEventListeners:function(e){return this.__eventListeners&&this.__eventListeners.has(e)?this.__eventListeners.get(e).length:0},getEventListeners:function(e){return this.__eventListeners?this.__eventListeners.get(e):null},on:function(e,t){this.addEventListener(e,t)},once:function(e,t){var n=this;this.addEventListener(e,function r(){try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t.apply(null,i)}finally{n.removeEventListener(e,r)}})},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{if(!this.__eventListeners)return;var o;if(!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");o=this.__eventListeners.get(e);for(var i=null,a=o.length;a--;){try{i=o[a].apply(null,n)}catch(e){console.error(e)}if(!0===i)break}}finally{this.onEventProcessed.apply(this,[e].concat(n))}},onEventProcessed:function(e){}};t.a=r},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(21),a=(n(54),n(1)),l=n(30),u=n(24);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=null,this.workspace=null,this.toolbar=null,this.undoManager=null,this.graphController=null,this.machineController=null,this.onKeyDown=this.onKeyDown.bind(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){this.app=e,this.workspace=e.workspace,this.toolbar=e.toolbar,this.undoManager=e.getUndoManager(),this.graphController=e.getGraphController(),this.machineController=e.getMachineController(),window.addEventListener("keydown",this.onKeyDown)}},{key:"destroy",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){if(83==event.which&&(event.metaKey||event.ctrlKey)){var t=this.app.getCurrentModule().getDefaultGraphExporter(),n=this.machineController.getMachineName();t.exportToFile(n,this.app.getCurrentModule()),e.preventDefault(),e.stopPropagation()}else if(90==event.which&&(event.metaKey||event.ctrlKey))event.shiftKey?this.undoManager.redo():this.undoManager.undo(),e.preventDefault(),e.stopPropagation();else if(80==event.which&&(event.metaKey||event.ctrlKey)){var r=this.app.getCurrentModule().getImageExporters();if(!(imageExporter.length>=1))throw new Error("Unable to find valid image exporter for module '"+this.app.getCurrentModule().getModuleName()+"'");var o=r[0],i=this.machineController.getMachineName();o.exportToFile(i,this.app.getCurrentModule()),e.preventDefault(),e.stopPropagation()}}}])&&s(t.prototype,n),r&&s(t,r),e}(),f=n(6),p=(n(107),n(5));function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=v(t).call(this,e))||"object"!==h(o)&&"function"!=typeof o?g(r):o).onUploadFileChange=n.onUploadFileChange.bind(g(g(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,(r=[{key:"onUploadFileChange",value:function(e){var t=e.target.files;t.length>0&&(this.props.app.getCurrentModule().getGraphImporter().importFile(t[0],this.props.app.getCurrentModule()).catch(function(e){p.a.addErrorMessage("ERROR: Unable to load invalid JSON file.","errorUpload"),console.error(e)}),e.target.value="")}},{key:"render",value:function(){var e=this.props.id+"-input";return o.a.createElement("button",{className:"icon-button button-upload "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.props.onClick},o.a.createElement("input",{id:e,type:"file",name:"import",style:{display:"none"},onChange:this.onUploadFileChange,accept:this.props.app.getCurrentModule().getGraphImporter().getImportFileTypes().join(",")}),o.a.createElement("label",{htmlFor:e},this.props.children))}}])&&y(n.prototype,r),i&&y(n,i),t}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_(t).call(this,e))||"object"!==b(o)&&"function"!=typeof o?S(r):o).onClick=n.onClick.bind(S(S(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){p.a.hasMessages()?(p.a.addMessage(I18N.toString("message.help.3")),p.a.addMessage(I18N.toString("message.help.1"))):p.a.addMessage(I18N.toString("message.help.2"));window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md","_blank");this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){return o.a.createElement("button",{className:"icon-button button-help "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.onClick},this.props.children)}}])&&w(n.prototype,r),i&&w(n,i),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=P(t).call(this,e))||"object"!==k(o)&&"function"!=typeof o?j(r):o).state={value:null},n.onKeyDown=n.onKeyDown.bind(j(j(n))),n.onChange=n.onChange.bind(j(j(n))),n.onFocus=n.onFocus.bind(j(j(n))),n.onBlur=n.onBlur.bind(j(j(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"onKeyDown",value:function(e){if("Escape"===e.key){var t=e.target;return this.setState({value:null},function(){return t.blur()}),!1}if("Enter"===e.key)return e.target.blur(),!1}},{key:"onFocus",value:function(e){this.setState({value:this.props.value})}},{key:"onBlur",value:function(e){this.state.value&&this.props.onSubmit&&this.props.onSubmit({value:this.state.value}),this.setState({value:null})}},{key:"render",value:function(){return o.a.createElement("input",{type:"text",className:this.props.className,id:this.props.id,value:null!=this.state.value?this.state.value:this.props.value,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur})}}])&&C(n.prototype,r),i&&C(n,i),t}(),T=n(4);var M=n(25);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,A(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"pagenew-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z"}))}}])&&D(n.prototype,r),i&&D(n,i),t}(),G=n(26),B=n(28),U=n(29);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,Y(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"help-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}))}}])&&z(n.prototype,r),i&&z(n,i),t}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,J(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"language-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}))}}])&&W(n.prototype,r),i&&W(n,i),t}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ne(this,re(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"offline-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02zM11.48 20v-6.26H8L13 4v6.26h3.35L11.48 20z"}))}}])&&te(n.prototype,r),i&&te(n,i),t}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ue(this,se(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"bugreport-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z"}))}}])&&le(n.prototype,r),i&&le(n,i),t}();n(109),n(111);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ge=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ye(t).call(this,e))||"object"!==pe(o)&&"function"!=typeof o?de(r):o).onClick=n.onClick.bind(de(de(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.app;t.state.isFullscreen?t.setState({isFullscreen:!1}):t.state.isOpen?t.closeDrawer():t.openDrawer()}},{key:"render",value:function(){var e=this.props.app.state.isOpen;return o.a.createElement("div",{className:"drawer-expand"+(e?" open":""),onClick:this.onClick},o.a.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M5 3.737l12.395 8.263-12.395 8.263v-16.526zm-2-3.737v24l18-12-18-12z"})))}}])&&he(n.prototype,r),i&&he(n,i),t}(),me=n(16);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Oe=0,ke=50,Ce=300,Pe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_e(t).call(this,e))||"object"!==be(o)&&"function"!=typeof o?Se(r):o).state={tabIndex:Oe,dragging:!1},n.onTouchStart=n.onTouchStart.bind(Se(Se(n))),n.onMouseDown=n.onMouseDown.bind(Se(Se(n))),n.onScroll=n.onScroll.bind(Se(Se(n))),n._ontouchmove=null,n._ontouchend=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,o.a.Component),n=t,(r=[{key:"setTab",value:function(e){var t=this.props.app;t.state.isOpen?this.state.tabIndex===e&&t.openDrawer(!t.state.isFullscreen):t.openDrawer(),this.setState(function(t,n){return{tabIndex:e}})}},{key:"onStartDraggingDrawerBorder",value:function(e,t){var n=this.props.app;this.setState({dragging:!0}),n.state.isFullscreen&&n.openDrawer(!1),Ne(n,e,t)}},{key:"onStopDraggingDrawerBorder",value:function(){this.setState({dragging:!1})}},{key:"onTouchStart",value:function(e){e.stopPropagation(),e.preventDefault(),this._ontouchmove&&(document.removeEventListener("touchmove",this._ontouchmove),this._ontouchmove=null),this._ontouchend&&(document.removeEventListener("touchend",this._ontouchend),this._ontouchend=null);var t=this.props.app;if(t.state.isOpen){var n=e.changedTouches[0];this.onStartDraggingDrawerBorder(n.clientX,n.clientY),this._ontouchmove=function(n){e.stopPropagation(),e.preventDefault();var r=n.changedTouches[0];Ne(t,r.clientX,r.clientY)},document.addEventListener(this._ontouchmove),this._ontouchend=function(n){e.stopPropagation(),e.preventDefault();var r=n.changedTouches[0];Ne(t,r.clientX,r.clientY),this.onStopDraggingDrawerBorder(),document.removeEventListener("touchend",this._ontouchend),document.removeEventListener("touchmove",this._ontouchmove)},document.addEventListener("touchend",this._ontouchend),document.addEventListener("touchmove",this._ontouchmove)}else this.setState({dragging:!1})}},{key:"onMouseDown",value:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=this.props.app;if(n.state.isOpen){this.onStartDraggingDrawerBorder(e.clientX,e.clientY);var r=function(e){e.stopPropagation(),e.preventDefault(),Ne(n,e.clientX,e.clientY)};document.addEventListener("mouseup",function e(o){o.stopPropagation(),o.preventDefault(),Ne(n,o.clientX,o.clientY),t.onStopDraggingDrawerBorder(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",r)}),document.addEventListener("mousemove",r)}}},{key:"onScroll",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props.app,n=this.props.currentModule,r=(n.getGraphController(),n.getMachineController(),this.state.tabIndex),i=n?n.getModulePanels()[0]:null;return o.a.createElement("div",{className:"drawer-container",onWheel:this.onScroll},o.a.createElement("div",{className:"drawer-content"},n&&n.getModulePanels().map(function(e,t){var i=t+1;return o.a.createElement(e,{key:n.getModuleName()+":"+i,style:{display:r==i?"block":"none"},currentModule:n})}),0==r&&null!=i&&o.a.createElement(i,{currentModule:n}),me.a.map(function(e,t){var i=-(t+1);return o.a.createElement(e,{key:"default:"+i,style:{display:r==i?"block":"none"},currentModule:n})})),o.a.createElement("div",{className:"tab-list"},o.a.createElement(ge,{app:t}),n&&n.getModulePanels().map(function(t,i){if(t.UNLOCALIZED_NAME){var a=i+1;return o.a.createElement("button",{key:n.getModuleName()+":"+a,className:"tab-link"+(r===a?" active":""),onClick:function(t){return e.setTab(a)}},I18N.toString(t.UNLOCALIZED_NAME||"component.untitled.title"))}}),me.a.map(function(t,n){var i=-(n+1);return o.a.createElement("button",{key:"default:"+i,className:"tab-link"+(r===i?" active":""),onClick:function(t){return e.setTab(i)}},I18N.toString(t.UNLOCALIZED_NAME||"component.untitled.title"))}),o.a.createElement("div",{className:"tab-right"})),o.a.createElement("div",{className:"drawer-border"+(this.state.dragging?" dragging":""),onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}))}}])&&we(n.prototype,r),i&&we(n,i),t}();function Ne(e,t,n){var r=e.container,o=0;window.matchMedia("(max-width: 420px)").matches?n-e.viewport.ref.getBoundingClientRect().y<ke?e.setState(function(e,t){return{isFullscreen:!0}}):(o=r.offsetHeight-n,e.state.isFullscreen&&e.setState(function(e,t){return{isFullscreen:!1}})):t<ke?e.setState(function(e,t){return{isFullscreen:!0}}):(o=r.offsetWidth-t,e.state.isFullscreen&&e.setState(function(e,t){return{isFullscreen:!1}}));o<Ce&&(o=Ce),r.style.setProperty("--panel-size",o+"px")}Pe.EXPORTING_PANEL_TAB_INDEX=-1,Pe.OPTIONS_PANEL_TAB_INDEX=-2;var je=Pe;function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Le=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Me(t).call(this,e))||"object"!==xe(o)&&"function"!=typeof o?De(r):o).state={langOn:!1},n.onMachineNameChange=n.onMachineNameChange.bind(De(De(n))),n.onMachineNameKeyDown=n.onMachineNameKeyDown.bind(De(De(n))),n.langOnClick=n.langOnClick.bind(De(De(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,o.a.Component),n=t,(r=[{key:"onMachineNameChange",value:function(e){this.props.currentModule.getMachineController().renameMachine(e.value)}},{key:"onMachineNameKeyDown",value:function(){}},{key:"onMachineNameBlur",value:function(){}},{key:"langOnClick",value:function(){this.setState({langOn:!this.state.langOn})}},{key:"render",value:function(){var e=this,t=this.props.app,n=this.props.currentModule,r=this.props.drawer,i=n.getGraphController(),a=n.getMachineController(),l=t.getUndoManager(),u=i.getGraph(),s=navigator&&navigator.onLine;return o.a.createElement("div",{className:"toolbar-container"},o.a.createElement("div",{className:"toolbar-title"},o.a.createElement("div",{className:"toolbar-title-name"},o.a.createElement(x,{id:"machine-name",value:a.getMachineName(),onSubmit:this.onMachineNameChange}),o.a.createElement("div",{className:"toolbar-title-alt"},o.a.createElement(T.a,{id:"toolbar-lang",title:I18N.toString("action.toolbar.lang"),onClick:function(){"serviceWorker"in navigator?navigator.serviceWorker.getRegistration("./app.html")?alert(I18N.toString("message.offline.ready")):alert(I18N.toString("message.offline.failed")):alert(I18N.toString("message.offline.nosupport"))},disabled:s},o.a.createElement(ie,null)))),o.a.createElement("label",{id:"machine-type",onClick:function(){return r.setTab(0)}},n.getLocalizedModuleName())),o.a.createElement("div",{className:"toolbar-tray"},o.a.createElement(T.a,{className:"navicon",id:"toolbar-new",title:I18N.toString("action.toolbar.newmachine"),onClick:function(){window.confirm(I18N.toString("alert.graph.clear"))&&(u.clear(),l.clear(),a.setMachineName(null))}},o.a.createElement(F,null)),o.a.createElement(m,{className:"navicon",id:"toolbar-upload",title:I18N.toString("action.toolbar.uploadmachine"),app:t,graphController:i},o.a.createElement(M.a,null)),o.a.createElement(T.a,{className:"navicon",id:"toolbar-undo",title:I18N.toString("action.toolbar.undo"),disabled:!l.canUndo(),onClick:function(){return l.undo()}},o.a.createElement(B.a,null)),o.a.createElement(T.a,{className:"navicon",id:"toolbar-redo",title:I18N.toString("action.toolbar.redo"),disabled:!l.canRedo(),onClick:function(){return l.redo()}},o.a.createElement(U.a,null)),o.a.createElement(T.a,{className:"navicon",id:"toolbar-save",title:I18N.toString("action.toolbar.save"),onClick:function(){return r.setTab(je.EXPORTING_PANEL_TAB_INDEX)},disabled:u.isEmpty()},o.a.createElement(G.a,null)),o.a.createElement("div",{className:"toolbar-tray-alt"},o.a.createElement(T.a,{className:"navicon",id:"toolbar-bug",title:I18N.toString("action.toolbar.bug"),onClick:function(e){return window.open("https://goo.gl/forms/XSil43Xl5xLHsa0E2","_blank")}},o.a.createElement(fe,null)),o.a.createElement(O,{className:"navicon",id:"toolbar-help",title:I18N.toString("action.toolbar.help")},o.a.createElement(K,null)),o.a.createElement(T.a,{className:"navicon",id:"toolbar-lang",title:I18N.toString("action.toolbar.lang"),onClick:function(t){document.activeElement.blur(),e.langOnClick()}},o.a.createElement($,null)),o.a.createElement("select",{id:"toolbar-lang-select",style:{maxWidth:this.state.langOn?"10em":"0"},onChange:function(e){I18N.fetchLanguageFile(e.target.value)}},o.a.createElement("option",{value:"en_us"},"English"),o.a.createElement("option",{value:"xx_pirate"},"Pirate Speak")))))}}])&&Te(n.prototype,r),i&&Te(n,i),t}();n(113),n(115);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Fe(this,Ge(t).call(this,e))).state={active:!1},n.messageTimer=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.messageTimer=setTimeout(function(){e.setState({active:!0})},a.a.INIT_WAITTIME)}},{key:"render",value:function(){var e=!!this.state.active&&this.props.visible;return o.a.createElement("text",{y:"-1em",className:"graph-ui subtitle"+(e?" visible":""),textAnchor:"middle"},I18N.toString("message.workspace.empty"))}}])&&Re(n.prototype,r),i&&Re(n,i),t}();function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ye(this,Xe(t).call(this,e))).ref=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,o.a.Component),n=t,(r=[{key:"getSVGForExport",value:function(e,t){var n=this.ref;if(!n)return null;var r=this.props.currentModule,o=r.getInputController(),i=r.getGraphController(),a=o.getInputAdapter().getViewport(),l=a.getOffsetX(),u=a.getOffsetY(),s=i.getGraph().getBoundingRect(),c=s.minX+l-30,f=s.minY+u-0,p=s.width+60,h=s.height+0,y=n.cloneNode(!0);y.setAttribute("viewBox",c+" "+f+" "+p+" "+h),y.setAttribute("width",e),y.setAttribute("height",t),y.setAttribute("font-size","16px"),y.setAttribute("font-family","monospace"),y.setAttribute("style",".graph-ui {display: none;}");for(var v=y.getElementsByClassName("graph-ui");v.length>0;){v[0].remove()}return y}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphController(),r=t.getInputController(),i=(t.getMachineController(),t.getRenderer("graph")),l=t.getRenderer("graphoverlay"),u=n.getGraph(),s=r.getInputAdapter().getViewport(),c=a.a.DEFAULT_GRAPH_SIZE*Math.max(Number.MIN_VALUE,s.getScale()),f=c/2;return o.a.createElement("svg",{id:"workspace-content",ref:function(t){return e.ref=t},viewBox:0-f+" "+(0-f)+" "+c+" "+c,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement(Ue,{visible:u.isEmpty()}),o.a.createElement("g",{id:"workspace-content-elements",transform:"translate("+s.getOffsetX()+" "+s.getOffsetY()+")"},o.a.createElement("g",{className:"graph-ui"},o.a.createElement("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"#E6E6E6"}),o.a.createElement("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"#E6E6E6"})),i&&o.a.createElement(i,ze({},this.props,{parent:this})),l&&o.a.createElement(l,ze({},this.props,{parent:this}))))}}])&&Ve(n.prototype,r),i&&Ve(n,i),t}(),We=n(9);function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=null}var t,n,r;return t=e,(n=[{key:"start",value:function(e){"true"!==f.a.getStringFromStorage("skipWelcome")&&(p.a.addMessage(I18N.toString("message.tutorial.1")),p.a.addMessage(I18N.toString("message.intro.2")))}}])&&qe(t.prototype,n),r&&qe(t,r),e}(),Ze=n(46),$e=n(47),et=n(45);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var at=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=rt(t).call(this,e))||"object"!==tt(o)&&"function"!=typeof o?it(r):o).container=null,n.workspace=null,n.viewport=null,n.drawer=null,n.toolbar=null,n.inputAdapter=new Ze.a,n.inputAdapter.getViewport().setMinScale(a.a.MIN_SCALE).setMaxScale(a.a.MAX_SCALE).setOffsetDamping(a.a.SMOOTH_OFFSET_DAMPING),n.undoManager=new et.a;var i=e.moduleClass||l.default;return n._module=new i(it(it(n))),n.hotKeys=new c,n.tutorial=new Je,n.state={isOpen:!0,isDangerous:!1,isFullscreen:!1,isWaitingForFile:!1},n.onDragOver=n.onDragOver.bind(it(it(n))),n.onDragEnter=n.onDragEnter.bind(it(it(n))),n.onDragLeave=n.onDragLeave.bind(it(it(n))),n.onFileDrop=n.onFileDrop.bind(it(it(n))),n._init=!1,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.workspace.ref;this.inputAdapter.initialize(e),this.getCurrentModule().initialize(this),this.hotKeys.initialize(this),e.addEventListener("drop",this.onFileDrop),e.addEventListener("dragover",this.onDragOver),e.addEventListener("dragenter",this.onDragEnter),e.addEventListener("dragleave",this.onDragLeave),this.tutorial.start(this),f.a.registerHandler(this),this._init=!0}},{key:"componentWillUnmount",value:function(){f.a.unregisterHandler(this),this.hotKeys.destroy(),this._module.destroy(this),this.inputAdapter.destroy();var e=this.workspace.ref;e.removeEventListener("drop",this.onFileDrop),e.removeEventListener("dragover",this.onDragOver),e.removeEventListener("dragenter",this.onDragEnter),e.removeEventListener("dragleave",this.onDragLeave),this._init=!1}},{key:"onLoadSave",value:function(){var e=this._module.getModuleName(),t=f.a.loadFromStorage("graph-"+e);t&&this._module.getDefaultGraphExporter().importFromData(t,this._module)}},{key:"onAutoSave",value:function(){var e=this._module.getModuleName(),t=this._module.getDefaultGraphExporter().exportToData(this._module);f.a.saveToStorage("graph-"+e,t)}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragEnter",value:function(e){e.preventDefault(),this.setState({isWaitingForFile:!0}),this.viewport.setState(function(e,t){return{prevMode:e.mode,mode:We.a.DANGEROUS}})}},{key:"onDragLeave",value:function(e){e.preventDefault(),this.setState({isWaitingForFile:!1}),this.viewport.setState(function(e,t){return{prevMode:e.mode,mode:e.prevMode}})}},{key:"onFileDrop",value:function(e){e.preventDefault(),this.setState({isWaitingForFile:!1}),this.viewport.setState(function(e,t){return{prevMode:e.mode,mode:e.prevMode}});var t=null;if(e.dataTransfer.items){if(e.dataTransfer.items.length>=1){var n=e.dataTransfer.items[0];"file"===n.kind&&(t=n.getAsFile())}}else e.dataTransfer.files.length>=1&&(t=e.dataTransfer.files[0]);t&&this.props.app.getCurrentModule().getGraphImporter().importFile(t,this._module).catch(function(e){p.a.addErrorMessage("ERROR: Unable to load invalid JSON file.","errorUpload")}),e.dataTransfer.items?e.dataTransfer.items.clear():e.dataTransfer.clearData()}},{key:"openDrawer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"boolean"==typeof e?this.setState(function(t,n){return{isOpen:!0,isFullscreen:e}}):this.setState(function(e,t){return{isOpen:!0}})}},{key:"closeDrawer",value:function(){this.setState(function(e,t){return{isOpen:!1}})}},{key:"isDrawerOpen",value:function(){return this.state.isOpen}},{key:"shouldHideContent",value:function(){return this.state.isFullscreen&&this.state.isOpen}},{key:"getCurrentModule",value:function(){return this._module}},{key:"getInputController",value:function(){return this._module.getInputController()}},{key:"getGraphController",value:function(){return this._module.getGraphController()}},{key:"getMachineController",value:function(){return this._module.getMachineController()}},{key:"getInputAdapter",value:function(){return this.inputAdapter}},{key:"getUndoManager",value:function(){return this.undoManager}},{key:"render",value:function(){var e=this,t=this._module,n=this.workspace?this.workspace.ref:null;return this._init&&(this.inputAdapter.update(),t.update(this)),o.a.createElement("div",{className:"app-container",ref:function(t){return e.container=t},style:{animation:u.a.isModuleLoading()?"fadeout 1s":"fadein 1s"}},o.a.createElement(Le,{ref:function(t){return e.toolbar=t},app:this,currentModule:t,drawer:this.drawer}),o.a.createElement($e.a,{notificationManager:p.a}),o.a.createElement("div",{className:"workspace-container"},o.a.createElement("div",{className:"workspace-main"+(this.state.isOpen?" open":""),style:{visibility:this.shouldHideContent()?"hidden":"visible",opacity:this.state.isWaitingForFile?"0.1":"1"}},o.a.createElement(Qe,{ref:function(t){return e.workspace=t},currentModule:t})),o.a.createElement("div",{className:"workspace-viewport"+(this.state.isOpen?" open":""),style:{visibility:this.shouldHideContent()?"hidden":"visible"}},o.a.createElement(We.a,{ref:function(t){return e.viewport=t},app:this,currentModule:t,screen:n})),o.a.createElement("div",{className:"workspace-drawer"+(this.state.isOpen?" open":"")+(this.state.isFullscreen?" fullscreen":"")},o.a.createElement(je,{ref:function(t){return e.drawer=t},app:this,currentModule:t,toolbar:this.toolbar}))))}}])&&nt(n.prototype,r),i&&nt(n,i),t}();t.a=Object(i.hot)(at)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._module=t}var t,n,o;return t=e,(n=[{key:"importFile",value:function(e,t){if(!e)throw new Error("Unable to import null file");if(!(e instanceof File))throw new Error("Unable to import object as file");var n=Promise.reject(),r=e.name,o=t.getGraphExporters(),i=!0,a=!1,l=void 0;try{for(var u,s=function(){var o=u.value;o.canImport()&&o.doesSupportFile()&&r.endsWith(o.getFileType())&&(n=n.catch(function(n){return o.importFromFile(e,t)}))},c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)s()}catch(e){a=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}return n.catch(function(e){throw console.error(e),new Error("Cannot find valid exporter for file: "+r)})}},{key:"importData",value:function(e,t){if(!e)throw new Error("Unable to import null data");var n=Promise.reject(),r=t.getGraphExporters(),o=!0,i=!1,a=void 0;try{for(var l,u=function(){var r=l.value;r.canImport()&&r.doesSupportData()&&(n=n.catch(function(n){return r.importFromData(e,t)}))},s=r[Symbol.iterator]();!(o=(l=s.next()).done);o=!0)u()}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n.catch(function(t){throw new Error("Cannot find valid exporter for data: "+JSON.stringify(e))})}},{key:"getImportFileTypes",value:function(){return this._module.getGraphExporters().map(function(e){return e.canImport()&&e.doesSupportFile()?"."+e.getFileType():null})}}])&&r(t.prototype,n),o&&r(t,o),e}(),i=n(13),a=n(0),l=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,f(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,l.a.Component),n=t,(r=[{key:"render",value:function(){return l.a.createElement("svg",{className:"png-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},l.a.createElement("g",null,l.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),l.a.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),l.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),l.a.createElement("g",null,l.a.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),l.a.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),l.a.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"})),l.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),l.a.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"})))}}])&&s(n.prototype,r),o&&s(n,o),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,g(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,l.a.Component),n=t,(r=[{key:"render",value:function(){return l.a.createElement("svg",{className:"jpg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},l.a.createElement("g",null,l.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),l.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),l.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),l.a.createElement("polygon",{fill:"#26B99A",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}),l.a.createElement("path",{fill:"#14A085",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),l.a.createElement("g",null,l.a.createElement("path",{fill:"#FFFFFF",d:"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z"}),l.a.createElement("path",{fill:"#FFFFFF",d:"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z"}),l.a.createElement("path",{fill:"#FFFFFF",d:"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H39.5z"}))))}}])&&v(n.prototype,r),o&&v(n,o),t}(),w=n(11);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=S(this,k(t).call(this)))._imageType=n,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,i["a"]),n=t,(r=[{key:"exportToFile",value:function(e,t){var n=t._workspace,r=n.ref.viewBox.baseVal,o=r.width,i=r.height,a=n.getSVGForExport(o,i);Object(w.a)(e,this._imageType,a,o,i)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(){return!1}},{key:"getTitle",value:function(){switch(this._imageType){case"png":return I18N.toString("file.export.png.hint");case"jpg":return I18N.toString("file.export.jpg.hint");default:return O(k(t.prototype),"getTitle",this).call(this)}}},{key:"getLabel",value:function(){switch(this._imageType){case"png":return I18N.toString("file.export.png");case"jpg":return I18N.toString("file.export.jpg");default:return O(k(t.prototype),"getLabel",this).call(this)}}},{key:"getFileType",value:function(){return this._imageType}},{key:"getIconClass",value:function(){switch(this._imageType){case"png":return h;case"jpg":return b;default:return null}}}])&&E(n.prototype,r),o&&E(n,o),t}(),N=(n(42),n(58),n(4));function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,M(t).call(this,e))).container=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,l.a.Component),n=t,(r=[{key:"renderExporterButton",value:function(e){var t=this;return e.doesSupportFile()?l.a.createElement(N.a,{key:e.getFileType(),className:"export-button",id:"export-"+e.getFileType(),title:e.getTitle(),onClick:function(){var n=t.props.currentModule,r=n.getMachineController().getMachineName()||"Untitled";e.exportToFile(r,n)}},l.a.createElement(e.getIconClass()),l.a.createElement("label",null,e.getLabel())):null}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphExporters(),r=t.getImageExporters();return l.a.createElement("div",{className:"panel-container "+this.props.className,id:"exporting",ref:function(t){return e.container=t},style:this.props.style},l.a.createElement("div",{className:"panel-title"},l.a.createElement("h1",null,I18N.toString("component.exporting.title"))),l.a.createElement("div",{className:"panel-content"},n.map(function(t){return e.renderExporterButton(t)}),r.map(function(t){return e.renderExporterButton(t)}),l.a.createElement("hr",null),l.a.createElement("div",{className:"export-email"})),l.a.createElement("div",{className:"panel-bottom"}))}}])&&x(n.prototype,r),o&&x(n,o),t}();Object.defineProperty(D,"TITLE",{get:function(){return I18N.toString("component.exporting.title")}}),D.UNLOCALIZED_NAME="component.exporting.title";var L=D,A=(n(62),n(1),n(6)),R=[255,255,255],F=[0,0,0];function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.abs(e);return n||(n=e<0?F:R),r[0]=t[0]+Math.round(o*(n[0]-t[0])),r[1]=t[1]+Math.round(o*(n[1]-t[1])),r[2]=t[2]+Math.round(o*(n[2]-t[2])),r}function B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t?.299*e[0]+.587*e[1]+.114*e[2]>186?(n[0]=0,n[1]=0,n[2]=0):(n[0]=255,n[1]=255,n[2]=255):(n[0]=255-e[0],n[1]=255-e[1],n[2]=255-e[2]),n}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid hex color format");var n=e.substring(0,2),r=e.substring(2,4),o=e.substring(4,6);return t[0]=parseInt(n,16),t[1]=parseInt(r,16),t[2]=parseInt(o,16),t}function H(e){return"#"+(e[2]|e[1]<<8|e[0]<<16|1<<24).toString(16).slice(1)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}var X=function(){function e(t,n,r,o,i){z(this,e),this.element=t,this.prop=n,this.type=r,this.group=o,this._callback=i,this._value=null,this._defaultValue=null}return Y(e,[{key:"updateStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e||(e=window.getComputedStyle(this.element));var n=e.getPropertyValue(this.prop);if(!n)throw new Error("Cannot find style option with prop name '"+this.prop+"' for element");this._value=n.trim(),this._defaultValue=this._value,t&&this._callback&&this._callback(this,n)}},{key:"resetStyle",value:function(){this.setStyle(this._defaultValue)}},{key:"setStyle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._value=e,this.element.style.setProperty(this.prop,e),t&&this._callback&&this._callback.call(null,this,e)}},{key:"getStyle",value:function(){return this._value}},{key:"isDefaultStyle",value:function(){return this._value==this._defaultValue}}]),e}(),K=function(){function e(){z(this,e),this._options=new Map,this._groups=new Map,this._init=!1}return Y(e,[{key:"registerStyleOption",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(this._options.has(t))throw new Error("Style option with prop name '"+t+"' already registered");var i,a=new X(e,t,n,r,o);if(this._options.set(t,a),this._groups.has(r)){if(-1!=(i=this._groups.get(r)).indexOf(t))return}else i=[],this._groups.set(r,i);i.push(t)}},{key:"unregisterStyleOption",value:function(e){if(this._options.has(e)){var t=this._options.get(e);this._options.delete(e);var n=t.group;if(this._groups.has(n)){var r=this._groups.get(n),o=r.indexOf(e);o>=0&&r.splice(o,1)}}}},{key:"initialize",value:function(){if(this._init)throw new Error("Already initialized");var e,t={},n=!0,r=!1,o=void 0;try{for(var i,a=this._options.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,u=l.element;(e=t[u])||(e=window.getComputedStyle(u),t[u]=e),l.updateStyle(e,!1)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this._init=!0}},{key:"terminate",value:function(){if(!this._init)throw new Error("Not yet initialized");this._options.clear(),this._groups.clear(),this._init=!1}},{key:"getOptionByProp",value:function(e){return this._options.get(e)}},{key:"getPropsByGroup",value:function(e){return this._groups.get(e)||[]}},{key:"getOptions",value:function(){return this._options.values()}},{key:"isEmpty",value:function(){return this._options.size<=0}}]),e}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var $=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=q(t).call(this,e))||"object"!==Q(o)&&"function"!=typeof o?Z(r):o).onChange=n.onChange.bind(Z(Z(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,l.a.Component),n=t,(r=[{key:"onChange",value:function(e){var t=e.target.value,n=this.props.value,r=this.props.onChange;n.setStyle(t),r&&r(n)}},{key:"render",value:function(){var e=this.props.title,t=this.props.value,n=t.prop,r=t.type,o="styleopt-"+n;return l.a.createElement("span",{id:this.props.id,className:this.props.className,style:this.props.style},l.a.createElement("input",{id:o,type:r,value:t.getStyle(),onChange:this.onChange,disabled:this.props.disabled}),l.a.createElement("label",{htmlFor:o},e))}}])&&W(n.prototype,r),o&&W(n,o),t}(),ee=(n(64),n(22)),te=n(23);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=oe(this,ie(t).call(this,e))).dropdown=l.a.createRef(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,l.a.Component),n=t,(r=[{key:"isOpen",value:function(){return!!this.dropdown.state&&this.dropdown.state.open}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"option-group "+this.props.className},l.a.createElement("div",{className:"option-header",onClick:function(t){return e.dropdown.onClick(t)}},l.a.createElement("label",null,this.props.title),l.a.createElement("label",null,"(",this.props.label,")"),l.a.createElement(ee.a,{id:"collapse",ref:function(t){return e.dropdown=t},defaultValue:this.props.defaultValue,style:{pointerEvents:"none"}},l.a.createElement(te.a,null))),l.a.createElement("div",{className:"option-content",style:{display:this.isOpen()?"block":"none"}},this.props.children))}}])&&re(n.prototype,r),o&&re(n,o),t}();n(68);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var he=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,fe(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,l.a.Component),n=t,(r=[{key:"render",value:function(){return l.a.createElement("div",{className:"option-container option-hotkey "+this.props.className},l.a.createElement("label",null,this.props.label),l.a.createElement("span",null,this.props.keyName))}}])&&se(n.prototype,r),o&&se(n,o),t}(),ye=n(17),ve=n(24);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _e="skipWelcome",Ee=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=me(t).call(this,e))||"object"!==de(o)&&"function"!=typeof o?we(r):o).container=l.a.createRef(),n.styleOpts=new K,n.state={theme:"default",customTheme:!1,skipWelcome:"true"===A.a.getStringFromStorage(_e),disableExitWarning:"true"===A.a.getStringFromStorage("disableExitWarning")},n.onChangeTheme=n.onChangeTheme.bind(we(we(n))),n.onChangeModule=n.onChangeModule.bind(we(we(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,l.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=document.getElementById("root"),t=this.styleOpts,n=function(e,n){var r=[];U(n,r),B(r,!1,r);var o=H(r);t.getOptionByProp(e.prop+"-invert").setStyle(o)},r=function(e,n){var r=[],o=[];U(n,r),B(r,!0,o),G(.2,r,o,r);var i=H(r);t.getOptionByProp(e.prop+"-dark").setStyle(i)};t.registerStyleOption(e,"--color-toolbar-main","color","toolbar",r),t.registerStyleOption(e,"--color-toolbar-main-dark","color","hidden"),t.registerStyleOption(e,"--color-toolbar-accent","color","toolbar",r),t.registerStyleOption(e,"--color-toolbar-accent-dark","color","hidden"),t.registerStyleOption(e,"--color-toolbar-text","color","toolbar",n),t.registerStyleOption(e,"--color-toolbar-text-invert","color","hidden"),t.registerStyleOption(e,"--color-drawer-main","color","drawer",r),t.registerStyleOption(e,"--color-drawer-main-dark","color","hidden"),t.registerStyleOption(e,"--color-drawer-accent","color","drawer"),t.registerStyleOption(e,"--color-drawer-text","color","drawer",function(){(function(e,n){var r=[],o=[];U(n,r),B(r,!0,o),G(.39,r,o,r);var i=H(r);t.getOptionByProp(e.prop+"-subtle").setStyle(i)}).apply(void 0,arguments),function(e,n){var r=[],o=[];U(n,r),B(r,!0,o),G(.26,r,o,r);var i=H(r);t.getOptionByProp(e.prop+"-ghost").setStyle(i)}.apply(void 0,arguments),n.apply(void 0,arguments),function(e,n){var r=[],o=[];U(n,r),B(r,!0,o),G(.13,r,o,r);var i=H(r);t.getOptionByProp(e.prop+"-back").setStyle(i)}.apply(void 0,arguments)}),t.registerStyleOption(e,"--color-drawer-text-subtle","color","hidden"),t.registerStyleOption(e,"--color-drawer-text-ghost","color","hidden"),t.registerStyleOption(e,"--color-drawer-text-invert","color","hidden"),t.registerStyleOption(e,"--color-drawer-text-back","color","hidden"),t.registerStyleOption(e,"--color-drawer-error","color","drawer"),t.registerStyleOption(e,"--color-testing-success","color","testing"),t.registerStyleOption(e,"--color-testing-failure","color","testing"),t.registerStyleOption(e,"--color-testing-working","color","testing"),t.registerStyleOption(e,"--color-testing-text","color","testing"),t.registerStyleOption(e,"--color-notification-text","color","notification"),t.registerStyleOption(e,"--color-notification-info","color","notification",r),t.registerStyleOption(e,"--color-notification-info-dark","color","hidden"),t.registerStyleOption(e,"--color-notification-error","color","notification",r),t.registerStyleOption(e,"--color-notification-error-dark","color","hidden"),t.registerStyleOption(e,"--color-notification-warning","color","notification",r),t.registerStyleOption(e,"--color-notification-warning-dark","color","hidden"),t.registerStyleOption(e,"--color-graph-node","color","workspace"),t.registerStyleOption(e,"--color-workspace-text","color","workspace"),t.registerStyleOption(e,"--color-workspace-main","color","workspace"),t.registerStyleOption(e,"--color-labeleditor-text","color","labeleditor"),t.registerStyleOption(e,"--color-labeleditor-main","color","labeleditor"),t.registerStyleOption(e,"--color-viewport-error","color","viewport"),t.registerStyleOption(e,"--color-viewport-testing","color","viewport"),t.registerStyleOption(e,"--color-viewport-warning","color","viewport"),t.registerStyleOption(e,"--color-highlight-select","color","viewport"),t.initialize(),A.a.registerHandler(this),this.onLoadSave()}},{key:"componentWillUnmount",value:function(){this.styleOpts.terminate(),A.a.unregisterHandler(this)}},{key:"onLoadSave",value:function(){var e=this.styleOpts,t=A.a.loadFromStorage("prefs-color");for(var n in t){var r=e.getOptionByProp(n);r&&r.setStyle(t[n])}}},{key:"onAutoSave",value:function(){var e=this.styleOpts,t={},n=!0,r=!1,o=void 0;try{for(var i,a=e.getOptions()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.isDefaultStyle()||(t[l.prop]=l.getStyle())}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}A.a.saveToStorage("prefs-color",t)}},{key:"onChangeTheme",value:function(e){var t=this.state.theme,n=e.target.value;if(t!==n){if("default"===n){var r=!0,o=!1,i=void 0;try{for(var a,l=this.styleOpts.getOptions()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){a.value.resetStyle()}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}this.setState({theme:n})}}},{key:"onChangeModule",value:function(e){ve.a.loadModule(e.target.value)}},{key:"render",value:function(){var e=this,t=(document.getElementById("root"),this.styleOpts);return l.a.createElement("div",{className:"panel-container "+this.props.className,id:"option",ref:function(t){return e.container=t},style:this.props.style},l.a.createElement("div",{className:"panel-title"},l.a.createElement("h1",null,I18N.toString("component.options.title"))),l.a.createElement("div",{className:"panel-content"},l.a.createElement(le,{title:I18N.toString("component.workspace.title"),label:I18N.toString("options.category.shortcuts")},l.a.createElement(he,{label:I18N.toString("action.toolbar.savemachine"),keyName:"Ctrl + S"}),l.a.createElement(he,{label:I18N.toString("action.toolbar.undo.label"),keyName:"Ctrl + Z"}),l.a.createElement(he,{label:I18N.toString("action.toolbar.redo.label"),keyName:"Ctrl + Shift + Z"}),l.a.createElement(he,{label:I18N.toString("action.toolbar.saveimage"),keyName:"Ctrl + P"})),l.a.createElement(le,{title:I18N.toString("component.testing.title"),label:I18N.toString("options.category.shortcuts")},l.a.createElement(he,{label:"Add test input",keyName:"Enter"}),l.a.createElement(he,{label:"Run test input",keyName:"Shift + Enter"})),l.a.createElement(le,{title:I18N.toString("component.labeleditor.title"),label:I18N.toString("options.category.shortcuts")},l.a.createElement(he,{label:I18N.toString("action.workspace.submit.label"),keyName:"Enter"}),l.a.createElement(he,{label:I18N.toString("action.workspace.cancel.label"),keyName:"Escape"})),l.a.createElement("div",{className:"panel-checkbox",style:{marginTop:"10px"}},l.a.createElement("input",{id:"option-skipwelcome",type:"checkbox",checked:this.state.skipWelcome,onChange:function(t){var n=t.target.checked;e.setState({skipWelcome:t.target.checked}),A.a.setStringToStorage(_e,""+n)}}),l.a.createElement("label",{htmlFor:"option-skipwelcome"},I18N.toString("options.skipwelcome"))),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("div",{id:"options-theme-select-container"},l.a.createElement("label",{htmlFor:"options-theme-select"},"Theme"),l.a.createElement("select",{id:"options-theme-select",className:"panel-select",value:this.state.theme,onChange:this.onChangeTheme,disabled:this.state.customTheme},l.a.createElement("option",{value:"default"},"Default"),l.a.createElement("option",{value:"ucsd",disabled:!0},"UC San Diego (Coming Soon)"),l.a.createElement("option",{value:"duke",disabled:!0},"Duke University (Coming Soon)")),!this.state.customTheme&&l.a.createElement("button",{className:"panel-button",onClick:function(){return e.setState({customTheme:!0})}},I18N.toString("action.options.changetheme"))),this.state.customTheme&&l.a.createElement("div",null,l.a.createElement(le,{title:I18N.toString("component.toolbar.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("toolbar").map(function(e){return l.a.createElement("div",{key:e},l.a.createElement($,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),l.a.createElement(le,{title:I18N.toString("component.drawer.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("drawer").map(function(e){return l.a.createElement("div",{key:e},l.a.createElement($,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),l.a.createElement(le,{title:I18N.toString("component.testing.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("testing").map(function(e){return l.a.createElement("div",{key:e},l.a.createElement($,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),l.a.createElement(le,{title:I18N.toString("component.notification.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("notification").map(function(e){return l.a.createElement("div",{key:e},l.a.createElement($,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),l.a.createElement(le,{title:I18N.toString("component.graph.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("workspace").map(function(e){return l.a.createElement("div",{key:e},l.a.createElement($,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),l.a.createElement(le,{title:I18N.toString("component.labeleditor.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("labeleditor").map(function(e){return l.a.createElement("div",{key:e},l.a.createElement($,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),l.a.createElement(le,{title:I18N.toString("options.category.general"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("viewport").map(function(e){return l.a.createElement("div",{key:e},l.a.createElement($,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),l.a.createElement("button",{className:"panel-button",onClick:function(t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.styleOpts.getOptions()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.resetStyle()}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}e.setState({customTheme:!1})}},I18N.toString("action.options.reset")))),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("h2",null,"Experimental"),l.a.createElement("select",{id:"options-experimental-modules",className:"panel-select",value:this.props.currentModule.getModuleName(),onChange:this.onChangeModule,disabled:!0},Object.keys(ye.a).map(function(e){var t=ye.a[e];return l.a.createElement("option",{key:e,value:e},t.name+" ("+t.version+")")})),l.a.createElement("div",{className:"panel-checkbox",style:{marginTop:"10px"}},l.a.createElement("input",{id:"option-disableexitwarning",type:"checkbox",checked:this.state.disableExitWarning,onChange:function(t){var n=t.target.checked;e.setState({disableExitWarning:n}),A.a.setStringToStorage("disableExitWarning",""+n)}}),l.a.createElement("label",{htmlFor:"option-disableexitwarning"},"Disable Exit Warning")),l.a.createElement("button",{className:"panel-button",style:{marginTop:"10px"},onClick:function(e){"true"===A.a.getStringFromStorage("enableExperimental")?window.alert("Please restart to begin the awakening..."):window.confirm("Be careful! This will PERMANENTLY change your app and is intended only for debugging purposes. You should only enable this if you know what you are doing. Are you sure about this?")&&window.confirm("Seriously, THIS CAN BREAK THE APP PERMANENTLY! So only proceed if you are absolutely sure about this. Ask a member of the dev team for assistance.")&&("I solemnly swear I am up to no good."===window.prompt("Well, at this point, you are either a member of the dev team (welcome to the team) or you have been instructed to do so by a member of the dev team (hello human). Please ask them for the password:")?window.confirm("Alright, here we go. Last chance to leave. Cancel it now or restart and face the consequences.")&&A.a.setStringToStorage("enableExperimental","true"):window.alert("Sorry, it looks like you are a normal human. Have a hug. <3"))}},"Enable Experimental Mode"))),l.a.createElement("div",{className:"panel-bottom"}))}}])&&ge(n.prototype,r),o&&ge(n,o),t}();Object.defineProperty(Ee,"TITLE",{get:function(){return I18N.toString("component.options.title")}}),Ee.UNLOCALIZED_NAME="component.options.title";var Se=Ee;function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return Pe});var ke=[],Ce=[new P("png"),new P("jpg")],Pe=[L,Se],Ne=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Missing app for module class");this._importer=new o(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){if(!e)throw new Error("Missing app for module initialize");var t=this.getInputController(),n=this.getGraphController(),r=this.getMachineController();t.initialize(this),n.initialize(this),r.initialize(this)}},{key:"destroy",value:function(e){if(!e)throw new Error("Missing app for module destroy");var t=this.getInputController(),n=this.getGraphController();this.getMachineController().destroy(this),n.destroy(this),t.destroy(this)}},{key:"update",value:function(e){if(!e)throw new Error("Missing app for module update");var t=this.getInputController(),n=this.getGraphController(),r=this.getMachineController();t.update(this),n.update(this),r.update(this)}},{key:"getRenderer",value:function(e){return null}},{key:"getInputController",value:function(){throw new Error("Missing input controller for module '"+this.getModuleName()+"'")}},{key:"getGraphController",value:function(){throw new Error("Missing graph controller for module '"+this.getModuleName()+"'")}},{key:"getMachineController",value:function(){throw new Error("Missing machine controller for module '"+this.getModuleName()+"'")}},{key:"getDefaultGraphExporter",value:function(){var e=this.getGraphExporters();if(e.length>0)return e[0];throw new Error("Missing default graph exporter for module '"+this.getModuleName()+"'")}},{key:"getImageExporters",value:function(){return Ce}},{key:"getGraphExporters",value:function(){return ke}},{key:"getGraphImporter",value:function(){return this._importer}},{key:"getModulePanels",value:function(){return[]}},{key:"getModuleViews",value:function(){return[]}},{key:"getModuleMenus",value:function(){return[]}},{key:"getModuleVersion",value:function(){return"0.0.0"}},{key:"getModuleName",value:function(){throw new Error("Missing module name")}},{key:"getLocalizedModuleName",value:function(){return"Module"}}])&&Oe(t.prototype,n),r&&Oe(t,r),e}();t.b=Ne},function(e,t,n){"use strict";var r={};r.default={name:"Default",version:"1.0.0",fetch:function(e){Promise.all([n.e(0),n.e(3)]).then(n.bind(null,159)).then(function(t){var n=t.default;return e(n)})}},r.fsa={name:"Finite State Automata",version:"1.0.0",fetch:function(e){Promise.resolve().then(n.bind(null,30)).then(function(t){var n=t.default;return e(n)})}},r.pda={name:"Pushdown Automata",version:"1.0.0",fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.tm={name:"Turing Machine",version:"1.0.0",fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.dfs={name:"Depth-First Search",version:"1.0.0",fetch:function(e){Promise.all([n.e(0),n.e(4)]).then(n.bind(null,193)).then(function(t){var n=t.default;return e(n)})}},r.hlsm={name:"High Level State Machine",version:"1.0.0",fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.rbt={name:"Red-Black Tree",version:"1.0.0",fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.mealy={name:"Mealy Machine",version:"1.0.0",fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.moore={name:"Moore Machine",version:"1.0.0",fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},t.a=r},function(e,t,n){"use strict";var r=n(27);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=a(this,u(t).call(this,e))).x=n,o.y=r,o._label="",o}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(o=[{key:"setNodeLabel",value:function(e){return this._label=e,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?l(u(t.prototype),"getHashString",this).call(this,e)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:l(u(t.prototype),"getHashString",this).call(this,e)+":"+this._label}}])&&i(n.prototype,o),c&&i(n,c),t}();t.a=c},function(e,t,n){"use strict";var r=n(27);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=a(this,u(t).call(this,e)),!n)throw new Error("Source of edge cannot be null.");return r._from=n,r._to=o,r._label="",r}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(o=[{key:"setSourceNode",value:function(e){if(!e)throw new Error("Source of edge cannot be null.");return this._from=e,this}},{key:"getSourceNode",value:function(){return this._from}},{key:"setDestinationNode",value:function(e){return this._to=e,this}},{key:"changeDestinationNode",value:function(e){this._to=e}},{key:"getDestinationNode",value:function(){return this._to}},{key:"setEdgeLabel",value:function(e){this._label=e}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeDirection",value:function(){var e=this._from,t=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var o=t.y-e.y,i=t.x-e.x;r=Math.atan2(o,i)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from;return e.x=t.x,e.y=t.y,e}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;e.x=t.x+r,e.y=t.y+r}else e.x=t.x+(n.x-t.x)/2,e.y=t.y+(n.y-t.y)/2;return e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var t=this._from,n=this.getPlaceholderLength();e.x=t.x+n,e.y=t.y+n}else{var r=this._to;e.x=r.x,e.y=r.y}return e}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return!this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._from?this._from.getHashString(e):"",r=this._to?this._to.getHashString?this._to.getHashString(e):"0":"";return l(u(t.prototype),"getHashString",this).call(this,e)+":"+n+","+r+"."+this._label}}])&&i(n.prototype,o),c&&i(n,c),t}();t.a=c},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?s(r):o).element=null,n.ignoreSaveOnExit=!1;var a=e.defaultValue||"";return n.state={value:a,prevValue:a},n.onChange=n.onChange.bind(s(s(n))),n.onBlur=n.onBlur.bind(s(s(n))),n.onKeyUp=n.onKeyUp.bind(s(s(n))),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){this.hasFocus()||(!this.state.value||this.state.value.length<=0||this.state.value===this.props.defaultValue)&&this.setState({value:e.defaultValue})}},{key:"focus",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.element.select():this.element.focus()}},{key:"blur",value:function(){this.element.blur()}},{key:"hasFocus",value:function(){return this.element===document.activeElement}},{key:"onChange",value:function(e){if(this.props.filter){var t=e.target.value.replace(this.props.filter,"");this.setState({value:t})}else this.setState({value:e.target.value})}},{key:"onBlur",value:function(e){var t=this;if(this.ignoreSaveOnExit||"none"==this.props.captureOnExit){var n=this.formatValue(e.target.value);return this.setState({value:n}),void(this.ignoreSaveOnExit=!1)}if("save"==this.props.captureOnExit){var r=this.state.prevValue,o=e.target.value||this.props.defaultValue||"";this.resetValue(o,function(){t.props.onSubmit&&t.props.onSubmit(o,r)})}else"reset"==this.props.captureOnExit&&this.resetValue(null)}},{key:"onKeyUp",value:function(e){var t=this;if("Enter"==e.key){if(this.props.multiline&&e.shiftKey)return!0;var n=this.state.prevValue,r=e.target.value||this.props.defaultValue||"";return this.resetValue(r,function(){t.ignoreSaveOnExit=!0,t.props.onSubmit&&t.props.onSubmit(r,n),t.element.blur()}),e.preventDefault(),e.stopPropagation(),!1}if("Escape"==e.key){var o=this.state.prevValue;return this.resetValue(o,function(){t.ignoreSaveOnExit=!0,t.props.onSubmit&&t.props.onSubmit(o||"",o),t.element.blur()}),e.preventDefault(),e.stopPropagation(),!1}}},{key:"resetValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t){var r=this.formatValue(t);this.setState({value:r,prevValue:r},n)}else this.setState(function(t,n){return{value:e.formatValue(t.prevValue)}},n)}},{key:"setValue",value:function(e,t){e=e&&0!=e.length?this.formatValue(e):this.props.defaultValue||"",this.setState({value:e},t)}},{key:"appendValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=this.state.value;n=0==this.element.selectionStart&&this.element.selectionEnd==e.length?e:n&&0!=n.length?n+t+e:e,this.props.filter&&(n=n.replace(this.props.filter,"")),this.setState({value:this.formatValue(n)})}},{key:"formatValue",value:function(e){return(0,this.props.formatter)(e)||""}},{key:"render",value:function(){var e=this;return this.props.multiline?o.a.createElement("textarea",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(t){return e.element=t},type:"text",value:this.state.value,rows:"1",onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp}):o.a.createElement("input",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(t){return e.element=t},type:"text",value:this.state.value,onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp})}},{key:"value",get:function(){return this.state.value}}])&&a(n.prototype,r),c&&a(n,c),t}();t.a=c},,function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(66);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?s(r):o).state={open:n.props.defaultValue||!1},n.onClick=n.onClick.bind(s(s(n))),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){this.setState(function(e,t){return{open:!e.open}}),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){return o.a.createElement("button",{className:"icon-button icon-toggle "+(this.state.open?" open ":"")+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.onClick},this.props.children)}}])&&a(n.prototype,r),c&&a(n,c),t}();t.a=c},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"dropdown-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 10l5 5 5-5z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(8),a=n(15),l=n(17);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=null,y=!0,v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,f(t).call(this,e)))._timeout=null,n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.a.Component),n=t,u=[{key:"loadModule",value:function(e){var n=l.a[e];n?(h&&clearTimeout(h),h=setTimeout(function(){n.fetch(function(e){h=null,y=!1,i.a.routeTo(t,{moduleClass:e})})},300)):window.alert("Cannot find module with id '"+e+"'")}},{key:"isDefaultModule",value:function(){return y}},{key:"isModuleLoading",value:function(){return null!==h}}],(r=[{key:"componentDidMount",value:function(){var e=this;h=setTimeout(function(){h=null,i.a.routeTo(a.a,{moduleClass:e.props.moduleClass})},300)}},{key:"render",value:function(){return o.a.createElement("div",null)}}])&&s(n.prototype,r),u&&s(n,u),t}();t.a=v},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"upload-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"save-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t}var t,n,o;return t=e,(n=[{key:"setGraphElementID",value:function(e){return this._id=e,this}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._id}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"undo-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"redo-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";n.r(t);var r=n(16),o=n(5),i=n(0),a=n.n(i),l=(n(43),n(71),n(1)),u=n(20),s=(n(73),n(75),n(22)),c=n(23);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,y(t).call(this,e))).dropdown=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a.a.Component),n=t,(r=[{key:"isOpen",value:function(){return!!this.dropdown.state&&this.dropdown.state.open}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"infoblock-container "+this.props.className},a.a.createElement("div",{className:"infoblock-header",onClick:function(t){return e.dropdown.onClick(t)}},a.a.createElement("label",null,this.props.title),a.a.createElement(s.a,{id:"collapse",ref:function(t){return e.dropdown=t},defaultValue:this.props.defaultValue,style:{pointerEvents:"none"}},a.a.createElement(c.a,null))),a.a.createElement("div",{className:"infoblock-content",style:{display:this.isOpen()?"block":"none"}},this.props.children))}}])&&p(n.prototype,r),o&&p(n,o),t}(),g=n(4);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,_(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"boxadd-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&b(n.prototype,r),o&&b(n,o),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,P(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"triangle-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}}])&&k(n.prototype,r),o&&k(n,o),t}();n(77);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=M(t).call(this,e))||"object"!==x(o)&&"function"!=typeof o?D(r):o).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(D(D(n))),n.onFocus=n.onFocus.bind(D(D(n))),n.onBlur=n.onBlur.bind(D(D(n))),n.onKeyDown=n.onKeyDown.bind(D(D(n))),n.onKeyUp=n.onKeyUp.bind(D(D(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,a.a.Component),n=t,(r=[{key:"onFocus",value:function(e){var t=e.target;this.setState({value:this.props.label,error:!1},function(){t.select()}),this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){var t=this.props.graphController,n=this.state.value;if(null!=n){var r=this.props.src,o=t.getGraph();if(n.length>0)o.getNodesByLabel(n).length<=0&&t.renameNode(r,n);else t.deleteTargetNode(this.props.src);this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(e)}}},{key:"onKeyDown",value:function(e){e.keyCode!==l.a.SUBMIT_KEY&&e.keyCode!==l.a.CLEAR_KEY||e.preventDefault()}},{key:"onKeyUp",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY)e.target.blur();else if(e.keyCode===l.a.CLEAR_KEY){var t=e.target;this.setState({value:null,error:!1},function(){t.blur()})}}},{key:"onValueChange",value:function(e){var t=this.props.graphController.getGraph(),n=e.target.value.trim(),r=!1;if(n.length>0){var o=t.getNodesByLabel(n);o.length>0&&(o.length>1||o[0]!==this.props.src)&&(r=!0)}this.setState({value:n,error:r})}},{key:"render",value:function(){var e=this.props.src.getNodeCustom(),t=null!=this.state.value?this.state.value:this.props.label;return a.a.createElement("div",{className:"statetag-container"+(e?" customtag":"")+(0==t.length?" emptytag":"")+(this.state.value&&this.state.error?" errortag":"")},a.a.createElement("input",{type:"text",className:this.props.accept?" accept":"",spellCheck:"false",style:{width:t.length+"ch"},value:t,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown}))}}])&&T(n.prototype,r),o&&T(n,o),t}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var U=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=F(t).call(this,e))||"object"!==A(o)&&"function"!=typeof o?B(r):o).onStateCreate=n.onStateCreate.bind(B(B(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,a.a.Component),n=t,(r=[{key:"onStateCreate",value:function(e){var t=100*Math.random()*2-100,n=100*Math.random()*2-100;this.props.graphController.createNode(t,n)}},{key:"render",value:function(){var e=this.props.graphController,t=e.getGraph();return a.a.createElement(d,{title:I18N.toString("component.stateslist.title"),defaultValue:"true"},a.a.createElement("div",{className:"statelist-container"},a.a.createElement("div",{className:"statelist"},a.a.createElement(j,null),t.getNodes().map(function(t,n){return a.a.createElement(L,{key:t.getGraphElementID(),src:t,label:t.getNodeLabel(),accept:t.getNodeAccept(),graphController:e,onFocus:function(n){return e.focusOnNode(t)}})})),a.a.createElement(g.a,{onClick:this.onStateCreate},a.a.createElement(S,null))))}}])&&R(n.prototype,r),o&&R(n,o),t}();n(79),n(81);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var K=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=V(t).call(this,e))||"object"!==H(o)&&"function"!=typeof o?X(r):o).ref=null,n.state={symbol:null,error:!1},n.onValueChange=n.onValueChange.bind(X(X(n))),n.onFocus=n.onFocus.bind(X(X(n))),n.onBlur=n.onBlur.bind(X(X(n))),n.onKeyDown=n.onKeyDown.bind(X(X(n))),n.onKeyUp=n.onKeyUp.bind(X(X(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,a.a.Component),n=t,(r=[{key:"onFocus",value:function(e){var t=e.target;this.setState({symbol:this.props.src,error:!1},function(){return t.select()}),this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){var t=this.props.machineController,n=this.state.symbol;if(null!=n){var r=this.props.src;if(n.length>0)t.getAlphabet().includes(n)||(r?t.renameSymbol(r,n):t.createSymbol(n));else r&&t.deleteSymbol(r)}this.setState({symbol:null,error:!1}),this.props.onBlur&&this.props.onBlur(e)}},{key:"onKeyDown",value:function(e){e.keyCode!==l.a.SUBMIT_KEY&&e.keyCode!==l.a.CLEAR_KEY||e.preventDefault()}},{key:"onKeyUp",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY)e.target.blur();else if(e.keyCode===l.a.CLEAR_KEY){var t=e.target;this.setState({symbol:null,error:!1},function(){t.blur()})}}},{key:"onValueChange",value:function(e){var t=this.props.machineController,n=e.target.value.trim(),r=!1;n.length>0&&(t.getAlphabet().includes(n)&&n!=this.props.src&&(r=!0));this.setState({symbol:n,error:r})}},{key:"render",value:function(){var e=this,t=null!=this.state.symbol?this.state.symbol:this.props.src;return a.a.createElement("div",{className:"alphatag-container"+(!this.props.src||t&&0!=t.length?"":" emptytag")+(this.state.symbol&&this.state.error?" errortag":"")},a.a.createElement("input",{type:"text",ref:function(t){return e.ref=t},className:"alphatag-input",spellCheck:"false",maxLength:"1",value:t,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown}))}}])&&z(n.prototype,r),o&&z(n,o),t}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var $=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=q(t).call(this,e))||"object"!==Q(o)&&"function"!=typeof o?Z(r):o).editingTag=null,n.state={editing:!1},n.onSymbolCreate=n.onSymbolCreate.bind(Z(Z(n))),n.onStopEditing=n.onStopEditing.bind(Z(Z(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,a.a.Component),n=t,(r=[{key:"onSymbolCreate",value:function(e){var t=this;this.setState({editing:!0},function(){t.editingTag.ref.focus()})}},{key:"onStopEditing",value:function(e){this.setState({editing:!1})}},{key:"render",value:function(){var e=this,t=this.props.machineController,n=t.getAlphabet();return a.a.createElement(d,{title:I18N.toString("component.alphabetlist.title")},a.a.createElement("div",{className:"alphalist-container"},a.a.createElement("div",{className:"alphalist"},n.map(function(e,n){return a.a.createElement(K,{key:e+"."+n,src:e,machineController:t})}),this.state.editing&&a.a.createElement(K,{ref:function(t){return e.editingTag=t},src:"",machineController:t,onBlur:this.onStopEditing})),a.a.createElement(g.a,{onClick:this.onSymbolCreate},a.a.createElement(S,null))))}}])&&W(n.prototype,r),o&&W(n,o),t}();n(83);function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._states=[],this._transitions=[],this._finalStates=[],this._customAlphabet=[]}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this._states.length=0,this._transitions.length=0,this._finalStates.length=0,this._customAlphabet.length=0}},{key:"copy",value:function(e){this._states.length=0;var t=!0,n=!1,r=void 0;try{for(var o,i=e._states[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._states.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this._transitions.length=0;var l=!0,u=!1,s=void 0;try{for(var c,f=e._transitions[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;this._transitions.push(p.slice())}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}this._finalStates.length=0;var h=!0,y=!1,v=void 0;try{for(var d,g=e._finalStates[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var m=d.value;this._finalStates.push(m)}}catch(e){y=!0,v=e}finally{try{h||null==g.return||g.return()}finally{if(y)throw v}}this._customAlphabet.length=0;var b=!0,w=!1,_=void 0;try{for(var E,S=e._customAlphabet[Symbol.iterator]();!(b=(E=S.next()).done);b=!0){var O=E.value;this._customAlphabet.push(O)}}catch(e){w=!0,_=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw _}}}},{key:"newState",value:function(e){if(this._states.includes(e))throw new Error("State '"+e+"' already added to states.");return this._states.push(e),e}},{key:"deleteState",value:function(e){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");this._states.splice(this._states.indexOf(e),1)}},{key:"renameState",value:function(e,t){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(this._states.includes(t))throw new Error("State '"+t+"' already exists.");var n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l[0]==e&&(l[0]=t),l[2]==e&&(l[2]=t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var u=this._states.indexOf(e);this._states[u]=t}},{key:"newTransition",value:function(e,t,n){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(!this._states.includes(t))throw new Error("State '"+t+"' does not exist.");var r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u[0]==e&&u[1]==n&&u[2]==t)return}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}this._transitions.push([e,n,t])}},{key:"deleteTransition",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._transitions.length-1;r>=0;--r){var o=this._transitions[r];o[0]==e&&o[2]==t&&(null!=n&&o[1]!=n||this._transitions.splice(r,1))}}},{key:"newSymbol",value:function(e){if(this._customAlphabet.includes(e))throw new Error("Symbol '"+e+"' already added to alphabet.");this._customAlphabet.push(e)}},{key:"deleteSymbol",value:function(e){if(!this._customAlphabet.includes(e))throw new Error("Unable to remove symbol '"+e+"'.");this._customAlphabet.splice(this._customAlphabet.indexOf(e),1)}},{key:"setStartState",value:function(e){if(this._states.length<=0)throw new Error("Not enough states.");if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");this.getStartState()!=e&&(this._states.splice(this._states.indexOf(e),1),this._states.unshift(e))}},{key:"setFinalState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(t){if(this._finalStates.includes(e))return;this._finalStates.push(e)}else{if(!this._finalStates.includes(e))return;this._finalStates.splice(this._finalStates.indexOf(e),1)}}},{key:"doTransition",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l[0]==e&&l[1]==t)return l[2]}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"isFinalState",value:function(e){return this._finalStates.includes(e)}},{key:"hasState",value:function(e){return this._states.includes(e)}},{key:"getStates",value:function(){return this._states}},{key:"isUsedAlphabet",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._transitions[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(o.value[1]==e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"isAlphabet",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._customAlphabet[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(o.value==e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return this.isUsedAlphabet(e)}},{key:"getUsedAlphabet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,n=!1,r=void 0;try{for(var o,i=this._transitions[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value[1];a.length>0&&!e.includes(a)&&e.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"getAlphabet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,n=!1,r=void 0;try{for(var o,i=this._customAlphabet[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return this.getUsedAlphabet(e)}},{key:"getOutgoingTransitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l[0]==e&&t.push(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"getTransitions",value:function(){return this._transitions}},{key:"getStartState",value:function(){return this._states.length<=0?null:this._states[0]}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"isValidDFA",value:function(){var e=this.getAlphabet(),t=new Array(e.length);t.fill(!1);var n=!0,r=!1,o=void 0;try{for(var i,a=this._states[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,u=this.getOutgoingTransitions(l),s=!0,c=!1,f=void 0;try{for(var p,h=u[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value,v=e.indexOf(y[1]);if(0!=t[v])return!1;t[v]=!0}}catch(e){c=!0,f=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}for(var d=t.length,g=0;g<d;++g){if(0==t[g])return!1;t[g]=!1}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!0}},{key:"toJSON",value:function(){var e={};return this instanceof DFA?e.type="DFA":this instanceof NFA?e.type="NFA":e.type="FSA",e.states=this._states.slice(),e.alphabet=this._customAlphabet.slice(),e.usedAlphabet=this.getUsedAlphabet(),e.transitions=this._transitions.slice(),e.startState=this.getStartState(),e.finalStates=this._finalStates.slice(),e}}])&&ee(t.prototype,n),r&&ee(t,r),e}(),ne="Îµ",re="â";function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ae(this,le(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,te),n=t,(r=[{key:"getUsedAlphabet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,n=!1,r=void 0;try{for(var o,i=this._transitions[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value[1];e.includes(a)||a==ne||e.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"doTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;u[0]==e&&u[1]==t&&n.push(u[2])}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}},{key:"doClosureTransition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push(e);for(var n=0;n<t.length;++n){var r=this.getOutgoingTransitions(t[n]),o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;if(s[1]==ne){var c=s[2];t.includes(c)||t.push(c)}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return t}},{key:"doTerminalTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u[0]==e&&u[1]==t){var s=this.doClosureTransition(u[2]),c=!0,f=!1,p=void 0;try{for(var h,y=s[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;n.includes(v)||n.push(v)}}catch(e){f=!0,p=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}},{key:"getPowerSet",value:function(){for(var e=[[]],t=this.getStates(),n=0;n<t.length;n++)for(var r=0,o=e.length;r<o;r++)e.push(e[r].concat(t[n]));return e}}])&&ie(n.prototype,r),o&&ie(n,o),t}();function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=0,de=1,ge=2,me="symbols";function be(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.doTransition(t,n);return Array.isArray(o)?r||1!=o.length?o.length>0?"{"+o.join(", ")+"}":"-":o[0]:o||"-"}var we=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pe(this,he(t).call(this,e))).state={rowAxis:me},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.machineBuilder,n=t.getMachine(),r=n.getStates(),o=n.getAlphabet(),i=(n.getTransitions(),this.state.rowAxis),l="NFA"==t.getMachineType(),u=i===me&&l;return a.a.createElement(d,{title:I18N.toString("component.transitiontable.title")},a.a.createElement("div",{className:"transitiontable-container"},a.a.createElement("table",{className:"transitiontable"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"emptycell"},a.a.createElement("button",{className:"panel-button",onClick:function(){return e.setState(function(e,t){return{rowAxis:e.rowAxis==me?"states":me}})}},this.state.rowAxis==me?"Q/Î£":"Q/Q")),i===me?o.map(function(e,t){return a.a.createElement("th",{key:e,scope:"col",className:"col"},e)}):"states"===i?r.map(function(e,t){return a.a.createElement("th",{key:e,scope:"col",className:"col"},e)}):null,u&&a.a.createElement("th",{scope:"col"},ne)),r.map(function(e,t){return a.a.createElement("tr",{key:e},a.a.createElement("th",{scope:"row",className:"row"},e),i===me?o.map(function(t,r){var o="",i=be(n,e,t,l);return l||!i.startsWith("{")&&"-"!=i||(o+=" error"),a.a.createElement("td",{key:e+","+t,className:o},i)}):"states"===i?r.map(function(t,r){var o=function(e,t,n){var r=[],o=e.getTransitions(),i=!0,a=!1,l=void 0;try{for(var u,s=o[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;c[ve]==t&&c[ge]==n&&r.push(c[de])}}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}return 1===r.length?r[0]:r.length>0?"{"+r.join(", ")+"}":"-"}(n,e,t);return a.a.createElement("td",{key:e+","+t},o)}):null,u&&a.a.createElement("td",null,be(n,e,ne)))})))))}}])&&fe(n.prototype,r),o&&fe(n,o),t}();n(85);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,Oe(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.machineBuilder,t=e.getMachine(),n=t.getStates(),r=t.getAlphabet().sort(),o="NFA"==e.getMachineType();return a.a.createElement(d,{title:"Transition Chart"},a.a.createElement("div",{className:"transitionfunction-container"},a.a.createElement("table",{className:"transitionfunction-table"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Q","Ã","Î£"),a.a.createElement("th",null,o?"â(Q)":"Q")),n.map(function(e,n){var i=t.doTransition(e,ne),l="",u=r.map(function(n,r){var i="",l=t.doTransition(e,n);if(!o||l.length)return o||l.length||(i="error",l="-"),!o&&l.length>1&&(i="error",l="{"+l+"}"),l=o?"{"+l+"}":""+l,a.a.createElement("tr",{key:""+e+n},a.a.createElement("td",{className:"transitionfunction-key"},"("+e+","+n+")"),a.a.createElement("td",{className:"transitionfunction-value "+i},l))});i.length>0&&(o||(l="error"),i=o||i.length>1?"{"+i+"}":""+i,u.unshift(a.a.createElement("tr",{key:""+e+ne},a.a.createElement("td",{className:"transitionfunction-key "+l},"("+e+","+ne+")"),a.a.createElement("td",{className:"transitionfunction-value"},i))));return u})))))}}])&&Ee(n.prototype,r),o&&Ee(n,o),t}();n(87);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Me=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,xe(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.machineBuilder,t=e.getMachine(),n=t.getStates(),r=t.getFinalStates(),o=t.getAlphabet().sort(),i="NFA"==e.getMachineType();return a.a.createElement("div",{className:"formaldef-container"},a.a.createElement("h2",null,"M = (Q, Î£, Î´, q0, F)"),a.a.createElement("div",null,a.a.createElement("h3",null,"Q ="),a.a.createElement("span",{className:"formaldef-values"},n.length>0?"{ "+n.join(", ")+" }":"â")),a.a.createElement("div",null,a.a.createElement("h3",null,"Î£ ="),a.a.createElement("span",{className:"formaldef-values"},o.length>0?"{ "+o.join(", ")+" }":"â")),a.a.createElement("div",null,a.a.createElement("h3",null,"Î´"),a.a.createElement("div",{className:"formaldef-values"},n.map(function(e,n){var r=t.doTransition(e,ne),l="",u=o.map(function(n,r){var o="",l=t.doTransition(e,n);if(!i||l.length)return i||l.length||(o="error",l="-"),!i&&l.length>1&&(o="error",l="{ "+l+" }"),l=i?"{ "+l+" }":""+l,a.a.createElement("div",{key:""+e+n,className:o},"Î´( ( "+e+", "+n+" ) ) = "+l)});r.length>0&&(i||(l="error"),r=i||r.length>1?"{ "+r+" }":""+r,u.unshift(a.a.createElement("div",{key:""+e+ne,className:l},"Î´( ( "+e+", "+ne+" ) ) = "+r)));return u}),i&&a.a.createElement("div",{id:"formaldef-otherinputs"},a.a.createElement("div",null,"For all other inputs (q, x),"),a.a.createElement("div",null,"Î´( (q, x) ) = â")))),a.a.createElement("div",null,a.a.createElement("h3",null,"q0 ="),a.a.createElement("span",{className:"formaldef-values"},n[0])),a.a.createElement("div",null,a.a.createElement("h3",null,"F ="),a.a.createElement("span",{className:"formaldef-values"},r.length>0?"{ "+r.join(",")+" }":"â")))}}])&&Ne(n.prototype,r),o&&Ne(n,o),t}();function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Fe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Le(t).call(this,e))||"object"!==Ie(o)&&"function"!=typeof o?Re(r):o).container=null,n.state={viewFormal:!1},n.onChangeMachineType=n.onChangeMachineType.bind(Re(Re(n))),n.onAutoLayout=n.onAutoLayout.bind(Re(Re(n))),n.onChangeAutoRename=n.onChangeAutoRename.bind(Re(Re(n))),n.onSubmitAutoStatePrefix=n.onSubmitAutoStatePrefix.bind(Re(Re(n))),n.onAutoStateFormat=n.onAutoStateFormat.bind(Re(Re(n))),n.switchDefinition=n.switchDefinition.bind(Re(Re(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,a.a.Component),n=t,(r=[{key:"onAutoLayout",value:function(e){this.props.currentModule.getGraphController().applyAutoLayout()}},{key:"onChangeMachineType",value:function(e){var t=e.target.value;this.props.currentModule.getMachineController().changeMachineTo(t)}},{key:"onChangeAutoRename",value:function(e){this.props.currentModule.getGraphController().setAutoRenameNodes(e.target.checked)}},{key:"onSubmitAutoStatePrefix",value:function(e,t){var n=this.props.currentModule.getGraphController(),r=n.getGraphLabeler();r.getDefaultNodeLabelPrefix()!=e&&(r.setDefaultNodeLabelPrefix(e),n.applyAutoRename())}},{key:"onAutoStateFormat",value:function(e){return e&&e.length>0?e:l.a.STR_STATE_LABEL}},{key:"switchDefinition",value:function(){this.setState(function(e,t){return{viewFormal:!e.viewFormal}})}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphController(),r=t.getMachineController(),o=n.getGraph(),i=r.getMachineBuilder();return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"overview",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,I18N.toString("component.overview.title"))),a.a.createElement("div",{className:"panel-content"},a.a.createElement("select",{className:"machine-type panel-select",value:r.getMachineType(),onChange:this.onChangeMachineType},a.a.createElement("option",{value:"DFA"},"DFA"),a.a.createElement("option",{value:"NFA"},"NFA")),this.state.viewFormal&&a.a.createElement(Me,{machineBuilder:i}),!this.state.viewFormal&&a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",{className:"graphinfo-important"},a.a.createElement(U,{graphController:n}),a.a.createElement($,{machineController:r})),a.a.createElement("div",{className:"graphinfo"},a.a.createElement(Ce,{machineBuilder:i}),a.a.createElement(we,{machineBuilder:i}))),a.a.createElement("hr",null),a.a.createElement("div",{style:{paddingBottom:"0.5em"}},a.a.createElement("h3",{style:{marginBottom:"0"}},"State Labels"),a.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.a.createElement("div",{className:"statetag-container"},a.a.createElement(u.a,{defaultValue:n.getGraphLabeler().getDefaultNodeLabelPrefix(),style:{width:"4em"},formatter:this.onAutoStateFormat,captureOnExit:"save",onSubmit:this.onSubmitAutoStatePrefix})),a.a.createElement("select",{style:{background:"none",outline:"none",border:"none",padding:"0",margin:"0",appearance:"none",color:"white"},disabled:!0},a.a.createElement("option",null,"0-9"),a.a.createElement("option",null,"a-z"),a.a.createElement("option",null,"A-Z"))),a.a.createElement("div",{className:"panel-checkbox"},a.a.createElement("input",{type:"checkbox",id:"auto-statename",onChange:this.onChangeAutoRename,checked:n.shouldAutoRenameNodes()}),a.a.createElement("label",{htmlFor:"auto-statename"},I18N.toString("options.autolabel")))),a.a.createElement("hr",null),a.a.createElement("button",{className:"panel-button",onClick:this.onAutoLayout,disabled:o.isEmpty()},I18N.toString("action.overview.autolayout"))),a.a.createElement("button",{className:"panel-button",onClick:this.switchDefinition},this.state.viewFormal?"Back":"View Definition")),a.a.createElement("div",{className:"panel-bottom"}))}}])&&De(n.prototype,r),o&&De(n,o),t}();Object.defineProperty(Fe,"TITLE",{get:function(){return I18N.toString("component.overview.title")}}),Fe.UNLOCALIZED_NAME="component.overview.title";var Ge=Fe,Be=(n(89),n(11)),Ue=n(9);function He(e,t,n,r,o){var i=null,a=[],l=0;null!=t&&r.push(t);var u=!0,s=!1,c=void 0;try{for(var f,p=n[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;if(i=h.state,null!=(t=h.index<r.length?r[h.index]:null)){l=h.index+1;var y=!0,v=!1,d=void 0;try{for(var g,m=e.doTerminalTransition(i,t)[Symbol.iterator]();!(y=(g=m.next()).done);y=!0){var b=g.value;a.push({state:b,index:l})}}catch(e){v=!0,d=e}finally{try{y||null==m.return||m.return()}finally{if(v)throw d}}}else{if(e.isFinalState(i))return!0;o.push(i)}l=h.index}}catch(e){s=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}return n.length=0,n.push.apply(n,a),!1}function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,Xe(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,te),n=t,(r=[{key:"validate",value:function(){return console.error("This is deprecated, please use FSA.isValidDFA()"),this.isValidDFA()}},{key:"newTransition",value:function(e,t,n){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(!this._states.includes(t))throw new Error("State '"+t+"' does not exist.");var r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u[0]==e&&u[1]==n&&u[2]==t)return;if(u[0]==e&&u[1]==n)throw new Error("Unable to create illegal nondeterministic transition for DFA.")}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}this._transitions.push([e,n,t])}}])&&Ve(n.prototype,r),o&&Ve(n,o),t}();function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graphController=null,this.machineController=null,this.testingManager=t,this.targets=[],this.history=[],this.indexofString=-1,this.result=!1,this.cachedStates=[],this.cachedSymbols=[],this.checkedStates=[],this.running=!1,this.started=!1,this.skipToEnd=!1,this.timer=null,this.onNodeDestroy=this.onNodeDestroy.bind(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){this.graphController=e.getGraphController(),this.machineController=e.getMachineController()}},{key:"destroy",value:function(){}},{key:"onNodeDestroy",value:function(e){}},{key:"onStart",value:function(){this.prepareForNewTest(),this.started=!0,this.skipToEnd=!1}},{key:"onResume",value:function(){var e=this;this.hasNextStep()||this.testingManager.inputList.resetTests(!1),this.running=!0;this.timer=setTimeout(function t(){e.running&&(e.hasNextStep()?(e.onNextStep(),e.timer=setTimeout(t,500)):e.onPause())},500)}},{key:"onPause",value:function(){this.running=!1}},{key:"onStop",value:function(){this.targets.length=0,this.running=!1,this.started=!1,this.skipToEnd=!1}},{key:"isRunning",value:function(){return this.running}},{key:"isStarted",value:function(){return this.started}},{key:"isSkipping",value:function(){return this.skipToEnd}},{key:"hasPrevStep",value:function(){return this.history.length>0||this.testingManager.inputList.hasPrevInput()}},{key:"onPreviousStep",value:function(){if(this.history.length>0){var e=this.history.pop();this.targets.length=0,this.cachedStates.length=0,this.cachedSymbols.length=0,this.checkedStates.length=0;var t=!0,n=!1,r=void 0;try{for(var o,i=e.targets[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!a)throw new Error("Found null target");this.targets.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var l=!0,u=!1,s=void 0;try{for(var c,f=e.cachedStates[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;this.cachedStates.push(p)}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}var h=!0,y=!1,v=void 0;try{for(var d,g=e.cachedSymbols[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var m=d.value;this.cachedSymbols.push(m)}}catch(e){y=!0,v=e}finally{try{h||null==g.return||g.return()}finally{if(y)throw v}}var b=!0,w=!1,_=void 0;try{for(var E,S=e.checkedStates[Symbol.iterator]();!(b=(E=S.next()).done);b=!0){var O=E.value;this.checkedStates.push(O)}}catch(e){w=!0,_=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw _}}this.indexofString--}else this.indexofString=-1,this.testingManager.inputList.prevInput()}},{key:"hasNextStep",value:function(){return this.indexofString<this.testingManager.inputList.getCurrentInput().value.length||this.testingManager.inputList.hasNextInput()}},{key:"onNextStep",value:function(){var e=this,t=this.testingManager.inputList.getCurrentInput(),n=this.machineController.getMachineBuilder().getMachine();if(this.indexofString+=1,this.indexofString>=t.value.length){if(this.result=He(n,null,this.cachedStates,this.cachedSymbols,this.checkedStates),t.setResult(this.result),this.testingManager.inputList.hasNextInput()){this.testingManager.inputList.nextInput();return this.prepareForNewTest(),!0}return this.onPause(),!1}var r=this.getCurrentCache();this.history.push(r);var o=t.value[this.indexofString];this.result=He(n,o,this.cachedStates,this.cachedSymbols,this.checkedStates),this.targets.length=0;var i=!0,a=!1,l=void 0;try{for(var u,s=this.cachedStates[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,f=this.machineController.getFirstGraphNodeByLabel(this.graphController.getGraph(),c.state);if(!f)throw new Error("Found null target");this.targets.includes(f)||this.targets.push(f)}}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}if(this.targets.length<=0&&!this.running){this.skipToEnd=!0;setTimeout(function n(){e.skipToEnd&&(e.indexofString+=1,e.indexofString>=t.value.length?e.skipToEnd=!1:setTimeout(n,50))},50)}return!0}},{key:"getCurrentCache",value:function(){return{targets:this.targets.slice(),cachedStates:this.cachedStates.slice(),cachedSymbols:this.cachedSymbols.slice(),checkedStates:this.checkedStates.slice()}}},{key:"getCurrentTestStringIndex",value:function(){return this.indexofString+1}},{key:"prepareForNewTest",value:function(){this.cachedStates.length=0;var e=this.graphController.getGraph();if(!e.isEmpty()){var t=this.machineController.getMachineBuilder().getMachine();this.targets.length=0;var n=t.getStartState(),r=!0,o=!1,i=void 0;try{for(var a,l=t.doClosureTransition(n)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;this.cachedStates.push({state:u,index:0});var s=this.machineController.getFirstGraphNodeByLabel(e,u);if(!s)throw new Error("Found null target");this.targets.push(s)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}this.cachedSymbols.length=0,this.checkedStates.length=0,this.indexofString=-1,this.history.length=0,this.skipToEnd=!1}}}])&&We(t.prototype,n),r&&We(t,r),e}(),Je=n(10);function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputList=[],this.addInput(""),this.inputIndex=0}var t,n,r;return t=e,(n=[{key:"isEmpty",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.inputList[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){if(r.value.value.length>0)return!1}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return!0}},{key:"testByIndex",value:function(e,t){if(e<0||e>=this.inputList.length)throw new Error("Cannot find test input for index");var n=this.inputList[e];n.setResult(null);var r=function(e,t){"string"==typeof t&&(t=t[Symbol.iterator]());var n=[],r=[];n.push({state:e.getStartState(),index:0});var o=!0,i=!1,a=void 0;try{for(var l,u=e.doClosureTransition(e.getStartState())[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n.push({state:s,index:0})}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}for(var c=[],f=0;n.length>0;){if(He(e,t.next().value,n,r,c))return!0;if(++f>1e3)return!1}return!1}(t,n.value);return n.setResult(r),r}},{key:"importTests",value:function(e){var t=this,n=new FileReader;n.onload=function(e){try{t.inputList.length=0,t.inputIndex=0;var r=e.target.result.split("\n"),o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;(s=s.trim()).length>0&&t.addInput(s)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}t.inputList.length<0&&t.addInput("")}catch(e){n.abort()}},n.readAsText(e)}},{key:"getTestsAsStrings",value:function(){return this.inputList.map(function(e,t){return e.value})}},{key:"clearTests",value:function(){var e=this.inputList[0];e.value="",e.result=null,e.dirty=!0,this.inputList.length=1,this.inputIndex=0}},{key:"resetTests",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.inputIndex=0,e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.inputList[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.dirty=!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"getTests",value:function(){return this.inputList}},{key:"addInput",value:function(e){var t={value:e,result:null,dirty:!0,id:Object(Je.a)(),setResult:function(e){this.dirty=!1,this.result=e}};return this.inputList.push(t),t}},{key:"getInputByIndex",value:function(e){if(e<0||e>=this.inputList.length)throw new Error("Cannot find test input for index");return this.inputList[e]}},{key:"removeInputByIndex",value:function(e){if(e<0||e>=this.inputList.length)throw new Error("Cannot find test input for index");if(0===e)throw new Error("Cannot delete the first test input");e<=this.inputIndex&&--this.inputIndex,this.inputList.splice(e,1)}},{key:"nextInput",value:function(){return++this.inputIndex,this.inputIndex>=this.inputList.length&&(this.inputIndex=0),this.inputList[this.inputIndex]}},{key:"prevInput",value:function(){return--this.inputIndex,this.inputIndex<0&&(this.inputIndex=this.inputList.length-1),this.inputList[this.inputIndex]}},{key:"resetInput",value:function(){this.inputIndex=0}},{key:"hasNextInput",value:function(){return this.inputIndex<this.inputList.length}},{key:"hasPrevInput",value:function(){return this.inputIndex>0}},{key:"getCurrentInput",value:function(){return this.inputList[this.inputIndex]}},{key:"getCurrentInputIndex",value:function(){return this.inputIndex}}])&&Ze(t.prototype,n),r&&Ze(t,r),e}();function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.machineController=null,this.viewport=null,this.inputList=new $e,this.shouldCheckError=!1,this.isImmediateErrorCheck=!1,this.errorCheckMode=e.NO_ERROR_CHECK,this.stepByStepMode=!1,this.testMode=new qe(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e,t){this.machineController=e.getMachineController(),this.viewport=t,this.testMode.initialize(e)}},{key:"destroy",value:function(){}},{key:"setErrorCheckMode",value:function(t){if(this.machineController.setMachineType(this.machineController.getMachineType()),t==e.NO_ERROR_CHECK)this.shouldCheckError=!1,this.errorCheckMode=t;else if(t==e.DELAYED_ERROR_CHECK)this.shouldCheckError=!0,this.isImmediateErrorCheck=!1,this.errorCheckMode=t;else{if(t!=e.IMMEDIATE_ERROR_CHECK)throw new Error("Unknown error check mode '"+t+"'");this.shouldCheckError=!0,this.isImmediateErrorCheck=!0,this.errorCheckMode=t}}},{key:"getErrorCheckMode",value:function(){return this.errorCheckMode}},{key:"setStepByStepMode",value:function(e){this.stepByStepMode=!!e,e?(this.testMode.isStarted()&&this.testMode.onStop(),this.testMode.onStart(),this.viewport.setState(function(e,t){if(e.mode!=Ue.a.TESTING)return{prevMode:e.mode,mode:Ue.a.TESTING}})):(this.testMode.isStarted()&&this.testMode.onStop(),this.viewport.setState(function(e,t){return{mode:e.prevMode}}))}},{key:"getStepByStepMode",value:function(){return this.stepByStepMode}}])&&et(t.prototype,n),r&&et(t,r),e}();tt.NO_ERROR_CHECK="none",tt.DELAYED_ERROR_CHECK="delayed",tt.IMMEDIATE_ERROR_CHECK="immediate";var nt=tt;n(93);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),it(this,at(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"add-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&ot(n.prototype,r),o&&ot(n,o),t}();function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,pt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"remove-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&ct(n.prototype,r),o&&ct(n,o),t}();n(95);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,mt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"success-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),a.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&dt(n.prototype,r),o&&dt(n,o),t}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),St(this,Ot(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"failure-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&Et(n.prototype,r),o&&Et(n,o),t}();function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jt(this,xt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),a.a.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&Nt(n.prototype,r),o&&Nt(n,o),t}();function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lt(this,At(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.active;return!0===this.props.mode?a.a.createElement(g.a,{className:"status-icon success"+(e?" active":""),onClick:this.props.onClick},a.a.createElement(wt,null)):!1===this.props.mode?a.a.createElement(g.a,{className:"status-icon failure"+(e?" active":""),onClick:this.props.onClick},a.a.createElement(Ct,null)):a.a.createElement(g.a,{className:"status-icon"+(e?" active":""),onClick:this.props.onClick},a.a.createElement(Mt,null))}}])&&Dt(n.prototype,r),o&&Dt(n,o),t}();function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Vt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ut(t).call(this,e))||"object"!==Gt(o)&&"function"!=typeof o?zt(r):o).ref=a.a.createRef(),n.onStatusClick=n.onStatusClick.bind(zt(zt(n))),n.onSubmitClick=n.onSubmitClick.bind(zt(zt(n))),n.onValueChange=n.onValueChange.bind(zt(zt(n))),n.onKeyDown=n.onKeyDown.bind(zt(zt(n))),n.onKeyUp=n.onKeyUp.bind(zt(zt(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,a.a.Component),n=t,(r=[{key:"getInput",value:function(){return this.props.testList.getInputByIndex(this.props.index)}},{key:"isInputFirst",value:function(){return 0===this.props.index}},{key:"onStatusClick",value:function(e){this.props.testList.testByIndex(this.props.index,this.props.machineBuilder.getMachine())}},{key:"onSubmitClick",value:function(e){if(this.isInputFirst()){var t=this.getInput(),n=this.props.testList.addInput(t.value);n.result=t.result,n.dirty=t.dirty,t.value="",t.result=null,t.dirty=!0,this.ref.focus()}else this.props.testList.removeInputByIndex(this.props.index)}},{key:"onValueChange",value:function(e){var t=e.target.value.trim(),n=this.getInput();n.value=t,n.dirty=!0}},{key:"onKeyDown",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY)e.preventDefault();else if(e.keyCode===l.a.DELETE_KEY){var t=this.getInput();if(t.value.length<=0){var n=this.props.index+1;if(this.props.testList.getTests().length>n){var r=this.props.testList.getInputByIndex(n);t.value=r.value,t.result=r.result,t.dirty=r.dirty,this.props.testList.removeInputByIndex(n)}}}}},{key:"onKeyUp",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY){var t=e.shiftKey;if(this.isInputFirst()&&!t){var n=this.getInput(),r=this.props.testList.addInput(n.value);r.result=n.result,r.dirty=n.dirty,n.value="",n.result=null,n.dirty=!0,this.ref.focus()}else this.props.testList.testByIndex(this.props.index,this.props.machineBuilder.getMachine()),this.ref.select()}else e.keyCode===l.a.CLEAR_KEY&&e.target.blur()}},{key:"render",value:function(){var e=this,t=this.getInput(),n=this.isInputFirst();return a.a.createElement("div",{className:"testinginput-container "+(this.props.testList.getCurrentInputIndex()===this.props.index?" active":"")},a.a.createElement(Ft,{active:!t.dirty,mode:t.result,onClick:this.onStatusClick}),a.a.createElement("input",{ref:function(t){return e.ref=t},className:"testinginput-field",value:t.value,placeholder:ne,onChange:this.onValueChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onFocus:function(e){return e.target.select()}}),a.a.createElement(g.a,{className:"testinginput-submit",onClick:this.onSubmitClick},n?a.a.createElement(ut,null):a.a.createElement(yt,null)))}}])&&Bt(n.prototype,r),o&&Bt(n,o),t}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kt(this,Qt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("button",{className:"icon-button "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.props.onClick},a.a.createElement("input",{ref:function(t){return e.uploadInput=t},id:"test-upload-input",type:"file",name:"import",style:{display:"none"},onChange:this.props.onChange,accept:".txt"}),a.a.createElement("label",{htmlFor:"test-upload-input"},this.props.children))}}])&&Xt(n.prototype,r),o&&Xt(n,o),t}(),Jt=n(25);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,tn(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"pagenewcontent-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))}}])&&$t(n.prototype,r),o&&$t(n,o),t}(),on=n(26);function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),un(this,sn(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"close-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&ln(n.prototype,r),o&&ln(n,o),t}();function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var gn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=yn(t).call(this,e))||"object"!==pn(o)&&"function"!=typeof o?dn(r):o).container=a.a.createRef(),n.uploadInput=a.a.createRef(),n.state={errorCheckMode:n.props.currentModule.getTestingManager().getErrorCheckMode(),noTestMode:!0},n._savedGraphHash=0,n._ticksSinceHash=0,n.stepByStepModeChecked=!1,n.onChangeErrorCheckMode=n.onChangeErrorCheckMode.bind(dn(dn(n))),n.onUploadFileChange=n.onUploadFileChange.bind(dn(dn(n))),n.onGraphChange=n.onGraphChange.bind(dn(dn(n))),n.onTestsRunAll=n.onTestsRunAll.bind(dn(dn(n))),n.onTestsClear=n.onTestsClear.bind(dn(dn(n))),n.onTestsSave=n.onTestsSave.bind(dn(dn(n))),n.onTestsNew=n.onTestsNew.bind(dn(dn(n))),n.onTestsUpload=n.onTestsUpload.bind(dn(dn(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){var e=this.props.currentModule.getGraphController().getGraph();this._savedGraphHash=e.getHashCode(),this._ticksSinceHash=0}},{key:"componentWillUnmount",value:function(){this.props.currentModule.getGraphController().getGraph();this._savedGraphHash=0}},{key:"onGraphChange",value:function(e){this.props.currentModule.getTestingManager().inputList.resetTests()}},{key:"onUploadFileChange",value:function(e){var t=e.target.files;t.length>0&&(this.props.currentModule.getTestingManager().inputList.importTests(t[0]),document.getElementById("test-name").innerHTML=t[0].name,e.target.value="")}},{key:"onChangeErrorCheckMode",value:function(e){var t=e.target.value,n=this.props.currentModule,r=n.getGraphController(),o=n.getMachineController(),i=n.getTestingManager(),a=r.getGraph(),l=o.getMachineBuilder();i.setErrorCheckMode(t),i.shouldCheckError?l.onGraphChange(a):l.machineErrorChecker.clear(),this.setState({errorCheckMode:t})}},{key:"onTestsRunAll",value:function(e){var t=this.props.currentModule,n=t.getMachineController().getMachineBuilder().getMachine(),r=t.getTestingManager();if(r.testMode.isStarted())r.setStepByStepMode(!1);else{var o=r.inputList,i=o.getTests().length;r.setStepByStepMode(this.stepByStepModeChecked);for(var a=0;a<i;++a)o.testByIndex(a,n)}}},{key:"onTestsClear",value:function(e){this.props.currentModule.getTestingManager().inputList.clearTests(),this.clearTestName(),this.hideTestInputList(),this.setState({noTestMode:!0})}},{key:"onTestsSave",value:function(e){var t=this.props.currentModule.getTestingManager();Object(Be.b)("test.txt",t.inputList.getTestsAsStrings().join("\n"))}},{key:"onTestsNew",value:function(e){this.onTestsClear(),this.showTestInputList(),this.clearTestName(),this.setState({noTestMode:!1})}},{key:"onTestsUpload",value:function(e){this.onTestsNew(),this.showTestInputList()}},{key:"showTestInputList",value:function(){document.getElementById("test-inputlist-container").style.display="block"}},{key:"hideTestInputList",value:function(){document.getElementById("test-inputlist-container").style.display="none"}},{key:"clearTestName",value:function(){document.getElementById("test-name").innerHTML=""}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getTestingManager(),r=n.inputList,o=t.getMachineController().getMachineBuilder(),i=!o.isValidMachine();if(--this._ticksSinceHash<=0){this._ticksSinceHash=30;var l=t.getGraphController().getGraph(),u=l.getHashCode();this._savedGraphHash!==u&&(this.onGraphChange(l),this._savedGraphHash=u)}return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"testing",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,I18N.toString("component.testing.title"))),a.a.createElement("div",{className:"test-icon-row"},a.a.createElement(g.a,{className:"testicon",id:"testing-new",title:I18N.toString("action.testing.new"),onClick:this.onTestsNew},a.a.createElement(rn,null)),a.a.createElement(qt,{className:"testicon",id:"testing-upload",title:I18N.toString("action.testing.import"),onClick:this.onTestsUpload,onChange:this.onUploadFileChange},a.a.createElement(Jt.a,null)),a.a.createElement(g.a,{className:"testicon",id:"testing-save",title:I18N.toString("action.testing.save"),onClick:this.onTestsSave,disabled:n.inputList.isEmpty()},a.a.createElement(on.a,null)),a.a.createElement(g.a,{className:"testicon",id:"testing-clear",title:I18N.toString("action.testing.clear"),onClick:this.onTestsClear,disabled:this.state.noTestMode},a.a.createElement(fn,null))),a.a.createElement("div",{className:"panel-content"},a.a.createElement("div",{className:"test-inputlist-container",id:"test-inputlist-container",style:{display:"none"}},a.a.createElement("div",{className:"scrollbar-container"},a.a.createElement("h3",{id:"test-name"},"Test Name"),a.a.createElement("div",{className:"test-inputlist-content"},i&&a.a.createElement("label",{className:"test-inputlist-content-warning"},"Not a valid machine!"),r.getTests().map(function(e,t){return a.a.createElement(Vt,{key:e.id,index:t,testList:r,machineBuilder:o})}))),a.a.createElement("button",{className:"panel-button",onClick:this.onTestsRunAll},n.testMode.isStarted()?I18N.toString("action.testing.stoprun"):I18N.toString("action.testing.runall")),a.a.createElement("div",{className:"panel-checkbox"},a.a.createElement("input",{id:"test-step",type:"checkbox",checked:this.stepByStepModeChecked,onChange:function(t){e.stepByStepModeChecked=t.target.checked,e.stepByStepModeChecked||n.setStepByStepMode(!1)},disabled:n.testMode.isStarted()}),a.a.createElement("label",{htmlFor:"test-step"},I18N.toString("options.testing.stepmode")))),a.a.createElement("hr",null),a.a.createElement("div",{id:"test-errorcheck"},a.a.createElement("label",null,I18N.toString("options.checkerrors")),a.a.createElement("select",{className:"panel-select",value:this.state.errorCheckMode,onChange:this.onChangeErrorCheckMode},a.a.createElement("option",{value:nt.NO_ERROR_CHECK},I18N.toString("options.checkerrors.mode.none")),a.a.createElement("option",{value:nt.DELAYED_ERROR_CHECK},I18N.toString("options.checkerrors.mode.delayed")),a.a.createElement("option",{value:nt.IMMEDIATE_ERROR_CHECK},I18N.toString("options.checkerrors.mode.immediate"))))),a.a.createElement("div",{className:"panel-bottom"}))}}])&&hn(n.prototype,r),o&&hn(n,o),t}();Object.defineProperty(gn,"TITLE",{get:function(){return I18N.toString("component.testing.title")}}),gn.UNLOCALIZED_NAME="component.testing.title";var mn=gn,bn=n(44);function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=En(t).call(this,e))||"object"!==wn(o)&&"function"!=typeof o?On(r):o).container=null,n.optimizeUnreachOption=null,n.optimizeRedundOption=null,n.onConvertToDFA=n.onConvertToDFA.bind(On(On(n))),n.onConvertToNFA=n.onConvertToNFA.bind(On(On(n))),n.onOptimizeMachine=n.onOptimizeMachine.bind(On(On(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,a.a.Component),n=t,(r=[{key:"onDeleteAllUnreachable",value:function(e){var t=this.props.currentModule,n=t.getGraphController(),r=t.getMachineController().getUnreachableNodes();n.deleteTargetNodes(r)}},{key:"onConvertToDFA",value:function(e){var t=this.props.currentModule,n={graphController:t.getGraphController(),machineController:t.getMachineController()},r=l.a.MACHINE_CONVERSION_MESSAGE_TAG;o.a.addMessage(I18N.toString("message.warning.convertNFAToDFA"),"warning",r,bn.a,n)}},{key:"onConvertToNFA",value:function(e){this.props.currentModule.getMachineController().convertMachineTo("NFA")}},{key:"onOptimizeMachine",value:function(e){this.optimizeUnreachOption.checked&&this.onDeleteAllUnreachable(e)}},{key:"canOptimize",value:function(){return this.optimizeRedundOption&&this.optimizeRedundOption.checked||this.optimizeUnreachOption&&this.optimizeUnreachOption.checked}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphController(),r=t.getMachineController(),o=(n.getGraph(),r.getMachineBuilder());return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"analysis",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,I18N.toString("component.analysis.title"))),a.a.createElement("div",{className:"panel-content"},a.a.createElement("div",{style:{paddingBottom:"0.5em"}},a.a.createElement("h3",{style:{marginBottom:"0"}},"Optimizations"),a.a.createElement("div",{style:{paddingBottom:"0.5em"}},a.a.createElement("div",null,a.a.createElement("input",{ref:function(t){return e.optimizeUnreachOption=t},id:"opt-unreach",type:"checkbox"}),a.a.createElement("label",{htmlFor:"opt-unreach"},"Unreachables")),a.a.createElement("div",null,a.a.createElement("input",{ref:function(t){return e.optimizeRedundOption=t},id:"opt-redund",type:"checkbox",disabled:!0}),a.a.createElement("label",{htmlFor:"opt-redund"},"Redundant States"))),a.a.createElement("button",{className:"panel-button",onClick:this.onOptimizeMachine,disabled:!this.canOptimize()},"Optimize")),a.a.createElement("hr",null),"DFA"==o.getMachineType()?a.a.createElement("button",{className:"panel-button",onClick:this.onConvertToNFA,disabled:this.props.currentModule.getGraphController().getGraph().isEmpty()},I18N.toString("action.overview.convertnfa")):"NFA"==o.getMachineType()?a.a.createElement("button",{className:"panel-button",onClick:this.onConvertToDFA,disabled:this.props.currentModule.getGraphController().getGraph().isEmpty()},I18N.toString("action.overview.convertdfa")):null),a.a.createElement("div",{className:"panel-bottom"}))}}])&&_n(n.prototype,r),i&&_n(n,i),t}();Object.defineProperty(kn,"TITLE",{get:function(){return I18N.toString("component.analysis.title")}}),kn.UNLOCALIZED_NAME="component.analysis.title";var Cn=kn;function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=jn(this,xn(t).call(this,e))).container=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"about",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,"Finite State Automata")),a.a.createElement("div",{className:"panel-content"},a.a.createElement("p",null,"Brought to you with â¤ by the Flap.js team."),a.a.createElement("p",null,"<- Tap on a tab to begin!")),a.a.createElement("div",{className:"panel-bottom"}))}}])&&Nn(n.prototype,r),o&&Nn(n,o),t}(),In=n(39);function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ln=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selectionBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[],this.target=null,this.targetType="",this.initialTarget=null,this.initialTargetType=""}var t,n,r;return t=e,(n=[{key:"setInitialTarget",value:function(e,t){this.initialTarget=e,this.initialTargetType=t}},{key:"updateTarget",value:function(e,t,n){return(this.target=this.getNodeByInitialMarkerAt(e,t,n))?this.targetType="initial":(this.target=this.getEdgeByEndPointAt(e,t,n))?this.targetType="endpoint":(this.target=this.getNodeAt(e,t,n))?this.targetType="node":(this.target=this.getEdgeAt(e,t,n))?this.targetType="edge":(this.target=null,this.targetType="none"),this.target}},{key:"clearTarget",value:function(){this.target=null,this.targetType="none"}},{key:"hasTarget",value:function(){return null!=this.target}},{key:"getNodeAt",value:function(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,l=e.getNodes()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,s=u.getNodeSize(),c=t-u.x,f=n-u.y;if(c*c+f*f<s*s)return u}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return null}},{key:"getNodeByInitialMarkerAt",value:function(e,t,n){var r=e.getStartNode();if(!r)return null;var o=r.getNodeSize(),i=-(o+o/2),a=t-(r.x+i),l=n-r.y;return a*a+l*l<144?r:null}},{key:"getEdgeAt",value:function(e,t,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var l,u=e.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;s.getCenterPoint(r);var c=t-r.x,f=n-r.y;if(c*c+f*f<144)return s}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return null}},{key:"getEdgeByEndPointAt",value:function(e,t,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var l,u=e.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;s.getEndPoint(r);var c=t-r.x,f=n-r.y;if(c*c+f*f<36)return s}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return null}},{key:"getSelectionBox",value:function(){return this.selectionBox}},{key:"getSelection",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var t=this.selectionBox,n=Math.max(t.toX,t.fromX),r=Math.max(t.toY,t.fromY),o=Math.min(t.toX,t.fromX),i=Math.min(t.toY,t.fromY);this.clearSelection(),function(e,t,n,r,o,i){var a=Math.min(t,r),l=Math.min(n,o),u=Math.max(t,r),s=Math.max(n,o),c=!0,f=!1,p=void 0;try{for(var h,y=e.getNodes()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.x>=a&&v.x<u&&v.y>=l&&v.y<s&&i.push(v)}}catch(e){f=!0,p=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}(e,o,i,n,r,this.targets)}return this.targets}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isTargetInSelection",value:function(e){return this.targets.includes(e||this.target)}},{key:"isTarget",value:function(e){return this.target==e}},{key:"beginSelection",value:function(e,t,n){var r=this.selectionBox;r.fromX=r.toX=t,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(e,t,n){var r=this.selectionBox;r.toX=t,r.toY=n,this.getSelection(e,!0)}},{key:"endSelection",value:function(e,t,n){var r=this.selectionBox;r.toX=t,r.toY=n,this.getSelection(e,!0),r.visible=!1}},{key:"isSelecting",value:function(){return this.selectionBox.visible}}])&&Dn(t.prototype,n),r&&Dn(t,r),e}(),An=n(18);function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e,t,n){return(Bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Un(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zn=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Gn(this,Un(t).call(this,e,n,r)))._accept=!1,o._custom=!1,o}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,An["a"]),n=t,(r=[{key:"setNodeAccept",value:function(e){this._accept=e}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(e){this._custom=e}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getNodeSize",value:function(){return l.a.NODE_RADIUS}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Bn(Un(t.prototype),"getHashString",this).call(this,e)+":"+(this._accept?"1":"0")}}])&&Fn(n.prototype,r),o&&Fn(n,o),t}(),Vn=n(7);function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return!t||"object"!==Yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qn(e,t,n){return(Qn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jn=!0,Zn=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Kn(this,Wn(t).call(this,e,n)))._picker=new Ln,r._graphController=null,r.prevPointerX=0,r.prevPointerY=0,r.isNewEdge=!1,r.ghostInitialMarker=null,r.shouldDestroyPointlessEdges=Jn,r._swapMouseScheme=!0,//!navigator.platform.startsWith("Mac");
r._trashMode=!1,r._disabled=!1,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,In["a"]),n=t,(r=[{key:"initialize",value:function(e){Qn(Wn(t.prototype),"initialize",this).call(this,e),this._graphController=e.getGraphController()}},{key:"destroy",value:function(e){Qn(Wn(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){Qn(Wn(t.prototype),"update",this).call(this,e);var n=this._graphController.getGraph(),r=this._picker,o=this._inputAdapter.getPointerX(),i=this._inputAdapter.getPointerY();o==this.prevPointerX&&i==this.prevPointerY||(this.prevPointerX=o,this.prevPointerY=i,r.updateTarget(n,o,i),r.hasTarget()?document.body.style.cursor="pointer":document.body.style.cursor="auto")}},{key:"setDisabled",value:function(e){this._disabled=e}},{key:"isDisabled",value:function(){return this._disabled}},{key:"onPreInputEvent",value:function(e){if(this._disabled)return Qn(Wn(t.prototype),"onPreInputEvent",this).call(this,e);var n=this._graphController,r=n.getGraph(),o=this.getPicker();o.updateTarget(r,e.x,e.y),o.setInitialTarget(o.target,o.targetType);var i=o.initialTarget,a=o.initialTargetType;return o.hasSelection()&&("node"==a&&o.isTargetInSelection(i)||o.clearSelection()),!!n.tester.getStepByStepMode()||Qn(Wn(t.prototype),"onPreInputEvent",this).call(this,e)}},{key:"onInputEvent",value:function(e){if(this._disabled)return Qn(Wn(t.prototype),"onInputEvent",this).call(this,e);var n=this._graphController,r=e.x,o=e.y,i=n.getGraph(),a=this.getPicker();a.updateTarget(i,r,o);var l=a.initialTarget,u=a.initialTargetType;return this.isTrashMode()?"node"===u?(n.prevX=l.x,n.prevY=l.y,a.hasSelection()?n.deleteSelectedNodes(l):n.deleteTargetNode(l),!0):("edge"===u||"endpoint"===u)&&(n.deleteTargetEdge(l),!0):this.isMoveMode()||"node"!==u?"edge"===u?(n.openLabelEditor(l,r,o),!0):"none"!==u||Qn(Wn(t.prototype),"onInputEvent",this).call(this,e):(n.toggleNode(l),!0)}},{key:"onDblInputEvent",value:function(e){if(this._disabled)return Qn(Wn(t.prototype),"onDblInputEvent",this).call(this,e);var n=this._graphController,r=e.x,o=e.y;return this.isTrashMode()?(n.emit("tryCreateWhileTrash"),!0):(n.createNode(r,o),!0)}},{key:"onDragStart",value:function(e){if(this._disabled)return Qn(Wn(t.prototype),"onDragStart",this).call(this,e);var n=this._graphController,r=n.getGraph(),o=this.getPicker(),i=e.x,a=e.y,l=o.initialTarget,u=o.initialTargetType;this.getInputAdapter().getViewport();if(this.isMoveMode()){if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;if(this.isNewEdge=!1,"edge"===u&&l.isPlaceholder())return!1;if("node"===u){if(!(l instanceof zn))throw new Error("Invalid target "+l+" for type '"+u+"'. Must be an instance of Node.");return n.prevX=l.x,n.prevY=l.y,!0}if("edge"===u){if(!(l instanceof Vn.c))throw new Error("Invalid target "+l+" for type '"+u+"'. Must be an instance of Edge.");if(l.isPlaceholder())return!1;var s=l.getQuadratic();return n.prevQuad.radians=s.radians,n.prevQuad.length=s.length,!0}if("initial"===u)return this.ghostInitialMarker=e,!0}else{if("node"===u){if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var c=r.createEdge(l,e);c.setEdgeLabel(n.getGraphLabeler().getDefaultEdgeLabel()),o.setInitialTarget(c,"endpoint"),this.isNewEdge=!0;var f=c.getQuadratic();return n.prevQuad.radians=f.radians,n.prevQuad.length=f.length,!0}if("edge"==u)return!1;if("none"===u)return o.beginSelection(r,i,a),!0}if("endpoint"===u){if(!(l instanceof Vn.c))throw new Error("Invalid target "+l+" for type '"+u+"'. Must be an instance of Edge.");var p=l.getQuadratic();return n.prevQuad.radians=p.radians,n.prevQuad.length=p.length,n.prevEdgeTo=l.getDestinationNode(),this.isNewEdge=!this.isMoveMode(),!0}return Qn(Wn(t.prototype),"onDragStart",this).call(this,e)}},{key:"onDragMove",value:function(e){if(this._disabled)return Qn(Wn(t.prototype),"onDragMove",this).call(this,e);var n=this._graphController,r=n.getGraph(),o=this.getPicker(),i=e.x,a=e.y,l=o.initialTarget,u=o.initialTargetType;if(this.isMoveMode()){if("node"===u)return o.hasSelection()?n.moveMultipleNodesTo(e,o.getSelection(r),i,a):n.moveNodeTo(e,l,i,a),!0;if("edge"===u)return n.moveEdgeTo(e,l,i,a),!0;if("endpoint"===u)return n.moveEndpointTo(e,l,i,a),!0;if("initial"===u){var s=o.getNodeAt(r,i,a)||e;return this.ghostInitialMarker=s,!0}if("none"!==u)throw new Error("Unknown target type '"+u+"'.")}else{if(this.isNewEdge)return n.moveEndpointTo(e,l,i,a),!0;if(o.isSelecting())return o.updateSelection(r,i,a),!0}return Qn(Wn(t.prototype),"onDragMove",this).call(this,e)}},{key:"onDragStop",value:function(e){if(this._disabled)return Qn(Wn(t.prototype),"onDragStop",this).call(this,e);var n=this._graphController,r=n.getGraph(),o=this.getPicker(),i=e.x,a=e.y;o.updateTarget(r,i,a);var l=o.initialTarget,u=o.initialTargetType;if(this.isMoveMode()||this.isNewEdge){if("node"===u){if(this.isTrashMode())return o.hasSelection()?n.deleteSelectedNodes(l):n.deleteTargetNode(l),!0;if(o.hasSelection()){var s=i-n.prevX,c=a-n.prevY;n.emit("nodeMoveAll",r,o.getSelection(r),s,c)}else n.emit("nodeMove",r,l,i,a,n.prevX,n.prevY);return!0}if("edge"===u)return this.isTrashMode()?n.deleteTargetEdge(l):n.emit("edgeMove",r,l,l.getQuadratic(),n.prevQuad),!0;if(this.isNewEdge||"endpoint"===u){if(this.isTrashMode())return n.deleteTargetEdge(l),!0;if(l.getDestinationNode()instanceof zn){var f=r.formatEdge(l);return f!==l?(n.openLabelEditor(f,i,a,f.getEdgeLabel(),!1),r.deleteEdge(l),!0):(this.isNewEdge?n.openLabelEditor(l,i,a,null,!0,function(){n.emit("userPostCreateEdge",r,l)}):n.openLabelEditor(l,i,a),this.isNewEdge?(this.isNewEdge=!1,n.emit("userCreateEdge",r,l)):null!==n.prevEdgeTo&&n.emit("edgeDestination",r,l,l.getDestinationNode(),n.prevEdgeTo,n.prevQuad),!0)}return this.shouldDestroyPointlessEdges?(this.isNewEdge?r.deleteEdge(l):n.deleteTargetEdge(l),!0):(l.changeDestinationNode(null),l.getEdgeLabel().length<=0&&n.openLabelEditor(l,i,a),!0)}if("initial"===u){if(this.ghostInitialMarker instanceof zn){var p=r.getStartNode();r.setStartNode(this.ghostInitialMarker),n.emit("nodeInitial",r,this.ghostInitialMarker,p)}return this.ghostInitialMarker=null,!0}if("none"!==u){if(Qn(Wn(t.prototype),"onDragStop",this).call(this,e))return!0;throw new Error("Unknown target type '"+u+"'.")}}else if(o.isSelecting())return o.endSelection(r,i,a),!0;return Qn(Wn(t.prototype),"onDragStop",this).call(this,e)}},{key:"onPostInputEvent",value:function(e){if(this._disabled)return Qn(Wn(t.prototype),"onPostInputEvent",this).call(this,e);var n=this._graphController.getGraph(),r=this.getPicker();r.clearTarget(),r.updateTarget(n,e.x,e.y),Qn(Wn(t.prototype),"onPostInputEvent",this).call(this,e)}},{key:"setTrashMode",value:function(e){this._trashMode=e}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"setInputScheme",value:function(e){this._swapMouseScheme=!e}},{key:"getInputScheme",value:function(){return this._swapMouseScheme}},{key:"isMoveMode",value:function(){var e=this._inputAdapter.isAltInput();return this._swapMouseScheme?!e:e}},{key:"isDragging",value:function(){return this._inputAdapter.isDragging()}},{key:"isActionMode",value:function(e){return this._inputAdapter.isPointerActive()?e.isNewEdge||!this.isMoveMode():!this._swapMouseScheme}},{key:"getPicker",value:function(){return this._picker}}])&&Xn(n.prototype,r),o&&Xn(n,o),t}(),$n=n(33),er=n(14);function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"applyLayout",value:function(e){if("circle"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"circle"))throw new Error("Invalid layout type");var t=function(e){var t=[],n=e.getStartNode();t.push(n);for(var r=0;r<t.length;r++){var o=!0,i=!1,a=void 0;try{for(var l,u=e.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;s._from==t[r]&&(t.includes(s._to)||t.push(s._to))}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return t}(e);var n=e.getNodes().filter(function(e){return!t.includes(e)}),r=t.length,o=n.length,i=e.getNodes().length,a=Math.max(r,o);if(0!=i){var l;l=r<10&&o<10?a/4*50+30:a/5*40+30;var u=0;if(1==r){var s=2*Math.PI/i,c=!0,f=!1,p=void 0;try{for(var h,y=e.getNodes()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.y=Math.sin(s*u+Math.PI)*l,v.x=Math.cos(s*u+Math.PI)*l,u+=1}}catch(e){f=!0,p=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}else{var d=2*Math.PI/r,g=2*Math.PI/o;u=0;var m=!0,b=!1,w=void 0;try{for(var _,E=t[Symbol.iterator]();!(m=(_=E.next()).done);m=!0){var S=_.value;S.y=Math.sin(d*u+Math.PI)*l,S.x=Math.cos(d*u+Math.PI)*l,u+=1}}catch(e){b=!0,w=e}finally{try{m||null==E.return||E.return()}finally{if(b)throw w}}u=0;var O=!0,k=!1,C=void 0;try{for(var P,N=n[Symbol.iterator]();!(O=(P=N.next()).done);O=!0){var j=P.value;j.y=Math.sin(g*u+Math.PI)*(l+100),j.x=Math.cos(g*u+Math.PI)*(l+100),u+=1}}catch(e){k=!0,C=e}finally{try{O||null==N.return||N.return()}finally{if(k)throw C}}}}}}],(n=null)&&tr(t.prototype,n),r&&tr(t,r),e}(),rr=n(32);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ar(this,lr(t).call(this,zn,Vn.c))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,rr["a"]),n=t,(r=[{key:"setStartNode",value:function(e){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var t=this._nodes.indexOf(e);if(t>0){var n=this._nodes[0];this._nodes[0]=e,this._nodes[t]=n}else if(t<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"formatEdge",value:function(e){var t=e.getSourceNode(),n=e.getDestinationNode(),r=e.getEdgeSymbolsFromLabel(),o=!0,i=!1,a=void 0;try{for(var l,u=this._edges[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;if(s!==e&&(s.getSourceNode()===t&&s.getDestinationNode()===n)){var c=s.getEdgeSymbolsFromLabel();if(r.length>0){var f=c.concat(r);s.setEdgeLabel(f.join(Vn.b))}return s}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}if(!e.isSelfLoop()){var p=!1,h=Math.PI/2,y=!0,v=!1,d=void 0;try{for(var g,m=this._edges[Symbol.iterator]();!(y=(g=m.next()).done);y=!0){var b=g.value;if(!(b.isQuadratic()&&Math.abs(b.getQuadratic().length)>=20)&&(b.getDestinationNode()===t&&b.getSourceNode()===n)){e.setQuadratic(h,10),b.setQuadratic(h,10),p=!0;break}}}catch(e){v=!0,d=e}finally{try{y||null==m.return||m.return()}finally{if(v)throw d}}if(!p){var w=Math.max(t.getNodeSize(),n.getNodeSize()),_=t.x,E=t.y,S=n.x,O=n.y,k=(S-_)*(S-_)+(O-E)*(O-E),C=!1,P=0,N=0;_>S?N=O-(P=(E-O)/(_-S))*S:_<S?N=E-(P=(O-E)/(S-_))*_:C=!0;var j=!0,x=!1,T=void 0;try{for(var M,I=this._nodes[Symbol.iterator]();!(j=(M=I.next()).done);j=!0){var D=M.value;if(D!==t&&D!==n){var L=D.x,A=D.y;if(!((_-L)*(_-L)+(E-A)*(E-A)>k||(S-L)*(S-L)+(O-A)*(O-A)>k)){if((C?Math.abs(_-L):Math.abs(N+P*L-A)/Math.sqrt(1+P*P))<D.getNodeSize()){p=!0;break}}}}}catch(e){x=!0,T=e}finally{try{j||null==I.return||I.return()}finally{if(x)throw T}}p&&e.setQuadratic(-Math.PI/2,w+10)}}return e}}])&&ir(n.prototype,r),o&&ir(n,o),t}(),cr=n(34);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dr="q";function gr(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split(Vn.b),r=new Set,o="",i=0,a=n.length,l=0;l<a;++l)if(1!==(i=(o=n[l].trim()).length)){if(i>1){var u=!0,s=!1,c=void 0;try{for(var f,p=o.split("")[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;h=h.trim(),r.has(h)||r.add(h)}}catch(e){s=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}}}else r.add(o);return r.size<=0?t?null:ne:Array.from(r).join(Vn.b)}var mr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=hr(this,yr(t).call(this)))._prefix=dr,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,cr["a"]),n=t,(r=[{key:"setDefaultNodeLabelPrefix",value:function(e){this._prefix=e}},{key:"getDefaultNodeLabelPrefix",value:function(){return this._prefix}},{key:"getDefaultNodeLabel",value:function(){var e=this.getGraphController().getGraph(),t=[],n=0,r=e.getStartNode();r&&r.getNodeCustom()&&(n=1);for(var o=this.getDefaultNodeLabelPrefix()+n;e.getNodesByLabel(o,t).length>0;)t.length=0,++n,o=this.getDefaultNodeLabelPrefix()+n;return o}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getEdgeLabelFormatter",value:function(){return gr}}])&&pr(n.prototype,r),o&&pr(n,o),t}();function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t,n){return(_r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Er(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Er(t).call(this,e,new sr,new mr))||"object"!==br(o)&&"function"!=typeof o?Or(r):o).inputController=null,n.machineController=null,n.labelEditorElement=null,n.tester=null,n.prevQuad={radians:0,length:0,x:0,y:0},n.prevEdgeTo=null,n.prevX=0,n.prevY=0,n.shouldAutoLabel=!1,n.onGraphNodeLabelChange=n.onGraphNodeLabelChange.bind(Or(Or(n))),n.registerEvent("userCreateNode"),n.registerEvent("userPreCreateNode"),n.registerEvent("userPostCreateNode"),n.registerEvent("userToggleNode"),n.registerEvent("userDeleteNodes"),n.registerEvent("userPreDeleteNodes"),n.registerEvent("userPostDeleteNodes"),n.registerEvent("userDeleteEdge"),n.registerEvent("userPreDeleteEdge"),n.registerEvent("userPostDeleteEdge"),n.registerEvent("userCreateEdge"),n.registerEvent("userPostCreateEdge"),n.registerEvent("userRenameNode"),n.registerEvent("userChangeLayout"),n.registerEvent("userPreChangeLayout"),n.registerEvent("userPostChangeLayout"),n.registerEvent("userImportGraph"),n.registerEvent("userPreImportGraph"),n.registerEvent("userPostImportGraph"),n.registerEvent("nodeMove"),n.registerEvent("nodeMoveAll"),n.registerEvent("nodeInitial"),n.registerEvent("edgeDestination"),n.registerEvent("edgeMove"),n.registerEvent("edgeLabel"),n.registerEvent("tryCreateWhileTrash"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(t,$n["a"]),n=t,(r=[{key:"initialize",value:function(e){_r(Er(t.prototype),"initialize",this).call(this,e),this.tester=e.getTestingManager(),this.inputController=e.getInputController(),this.machineController=e.getMachineController(),this.setAutoRenameNodes(!0)}},{key:"destroy",value:function(e){_r(Er(t.prototype),"destroy",this).call(this,e)}},{key:"applyAutoLayout",value:function(){this.emit("userPreChangeLayout",this.getGraph()),nr.applyLayout(this.getGraph()),this.emit("userChangeLayout",this.getGraph()),this.emit("userPostChangeLayout",this.getGraph())}},{key:"applyAutoRename",value:function(){var e=this._labeler,t=this._graph;if(!t.isEmpty()){var n=!0,r=!1,o=void 0;try{for(var i,a=t.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.getNodeCustom()||l.setNodeLabel("")}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var u=!0,s=!1,c=void 0;try{for(var f,p=t.getNodes()[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;h.getNodeCustom()||h.setNodeLabel(e.getDefaultNodeLabel())}}catch(e){s=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}}}},{key:"onGraphNodeLabelChange",value:function(e,t,n,r,o){this.applyAutoRename()}},{key:"setAutoRenameNodes",value:function(e){var t=this.shouldAutoLabel;this.shouldAutoLabel=e,t!=e&&e?this.on("userDeleteNodes",this.onGraphNodeLabelChange):this.removeEventListener("userDeleteNodes",this.onGraphNodeLabelChange)}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"renameNode",value:function(e,t){var n=e.getNodeLabel(),r=e.getNodeCustom();e.setNodeLabel(t),e.setNodeCustom(!0),this.emit("userRenameNode",this.getGraph(),e,t,n,r)}},{key:"createNode",value:function(e,t){var n=this.getGraphLabeler().getDefaultNodeLabel();void 0===e&&(e=64*Math.random()*2-64),void 0===t&&(t=64*Math.random()*2-64),this.emit("userPreCreateNode",this.getGraph(),n,e,t);var r=this.getGraph().createNode(e,t);return r.setNodeLabel(n),this.emit("userCreateNode",this.getGraph(),r),this.emit("userPostCreateNode",this.getGraph(),r),r}},{key:"toggleNode",value:function(e){var t=e.getNodeAccept(),n=!t;e.setNodeAccept(n),this.emit("userToggleNode",this.getGraph(),e,t)}},{key:"deleteSelectedNodes",value:function(e){var t=this.inputController.getPicker(),n=t.getSelection(this.getGraph()).slice();this.emit("userPreDeleteNodes",this.getGraph(),e,n,this.prevX,this.prevY);var r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;this.getGraph().deleteNode(u)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}t.clearSelection(),this.emit("userDeleteNodes",this.getGraph(),e,n,this.prevX,this.prevY),this.emit("userPostDeleteNodes",this.getGraph(),e,n,this.prevX,this.prevY)}},{key:"deleteTargetNode",value:function(e){this.emit("userPreDeleteNodes",this.getGraph(),e,[e],this.prevX,this.prevY),this.getGraph().deleteNode(e),this.emit("userDeleteNodes",this.getGraph(),e,[e],this.prevX,this.prevY),this.emit("userPostDeleteNodes",this.getGraph(),e,[e],this.prevX,this.prevY)}},{key:"deleteTargetNodes",value:function(e){if(e&&!(e.length<=0)){this.emit("userPreDeleteNodes",this.getGraph(),e[0],e,this.prevX,this.prevY);var t=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;t.deleteNode(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.emit("userDeleteNodes",this.getGraph(),e[0],e,this.prevX,this.prevY),this.emit("userPostDeleteNodes",this.getGraph(),e[0],e,this.prevX,this.prevY)}}},{key:"deleteTargetEdge",value:function(e){this.emit("userPreDeleteEdge",this.getGraph(),e,this.prevEdgeTo,this.prevQuad),this.getGraph().deleteEdge(e),this.emit("userDeleteEdge",this.getGraph(),e,this.prevEdgeTo,this.prevQuad),this.emit("userPostDeleteEdge",this.getGraph(),e,this.prevEdgeTo,this.prevQuad)}},{key:"deleteTargetEdges",value:function(e){if(e&&!(e.length<=0)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"moveNodeTo",value:function(e,t,n,r){var o=t.getNodeSize(),i=!0,a=!1,l=void 0;try{for(var u,s=this.getGraph().getNodes()[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;if(t!==c){var f=n-c.x,p=r-c.y,h=Math.atan2(p,f),y=2*o,v=c.x+Math.cos(h)*y-n,d=c.y+Math.sin(h)*y-r;f*f+p*p<o*o*4&&(n+=v,r+=d)}}}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}t.x=n,t.y=r}},{key:"moveMultipleNodesTo",value:function(e,t,n,r){var o=e.getInputEventPosition(),i=n-o.x,a=r-o.y,l=!0,u=!1,s=void 0;try{for(var c,f=t[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;p.x+=i,p.y+=a}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}e.changeInputEventPosition(n,r)}},{key:"moveEdgeTo",value:function(e,t,n,r){t.setQuadraticByCoords(n,r)}},{key:"moveEndpointTo",value:function(e,t,n,r){var o=this.inputController.getPicker().getNodeAt(this.getGraph(),n,r)||e;if(t.changeDestinationNode(o),t.isSelfLoop()){var i=t.getSourceNode(),a=i.x-n,l=i.y-r,u=Math.atan2(l,a)+Math.PI;t.setQuadratic(u)}else t.setQuadratic(this.prevQuad.radians,this.prevQuad.length)}},{key:"openLabelEditor",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(this.labelEditorElement){var l=o||e.getEdgeLabel();this.labelEditorElement.openEditor(e,o,i,function(){var t=e.getEdgeLabel();l.length>0&&t!=l&&r.emit("edgeLabel",r.getGraph(),e,t,l),a&&a()})}else a&&a()}},{key:"focusOnNode",value:function(e){this.inputController.getInputAdapter().getViewport().setOffset(-e.x,-e.y)}},{key:"focusOnEdge",value:function(e){var t=e.getCenterPoint();this.inputController.getInputAdapter().getViewport().setOffset(-t.x,-t.y)}},{key:"focusOnNodes",value:function(e){var t=e.length,n=0,r=0,o=!0,i=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n+=s.x,r+=s.y}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}this.inputController.getInputAdapter().getViewport().setOffset(-n/t,-r/t)}}])&&wr(n.prototype,r),o&&wr(n,o),t}();er.a.mixin(kr);var Cr=kr,Pr=n(35);function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=null,this.graphController=null}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){this.graphController=e.getGraphController(),this.graph=this.graphController.getGraph()}},{key:"destroy",value:function(e){}},{key:"update",value:function(e){}}])&&Nr(t.prototype,n),r&&Nr(t,r),e}();function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Lr=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Mr(t).call(this,e))||"object"!==xr(o)&&"function"!=typeof o?Dr(r):o).targetIndex=0,n.targetLabel="";var i=e.message.value,a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(Dr(Dr(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,a.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.graphController,n=(this.props.machineController,e.target.value),r=this.props.message;switch(n){case"locate":var o=r.value[this.targetIndex++];this.targetIndex>=r.value.length&&(this.targetIndex=0),t.focusOnNode(o);break;case"deleteall":var i=r.value;t.deleteTargetNodes(i),t.applyAutoRename(),r.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),a.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),a.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&Tr(n.prototype,r),o&&Tr(n,o),t}();function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ur=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Fr(t).call(this,e))||"object"!==Ar(o)&&"function"!=typeof o?Br(r):o).targetIndex=0,n.targetLabel="";var i=e.message.value.targets,a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+="("+f.getSourceNode().getNodeLabel()+", "+(f.getDestinationNode()?f.getDestinationNode().getNodeLabel():"null")+") "+re+" "+f.getEdgeLabel()}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(Br(Br(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,a.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.graphController,n=(this.props.machineController,e.target.value),r=this.props.message;switch(n){case"locate":var o=r.value.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),t.focusOnEdge(a)}break;case"deleteall":var l=r.value.targets;t.deleteTargetEdges(l),r.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,this.props.message.value.text+": "+this.targetLabel),a.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),a.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&Rr(n.prototype,r),o&&Rr(n,o),t}();function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Kr=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vr(t).call(this,e))||"object"!==Hr(o)&&"function"!=typeof o?Xr(r):o).targetIndex=0,n.targetLabel="";var i=e.message.value.targets,a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(Xr(Xr(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(t,a.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.graphController,n=(this.props.machineController,e.target.value),r=this.props.message;switch(n){case"locate":var o=r.value.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),t.focusOnNode(a)}break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,I18N.toString("message.error.missing")+": "+this.targetLabel),a.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")))}}])&&zr(n.prototype,r),o&&zr(n,o),t}();function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorNodes=[],this.errorEdges=[],this.warningNodes=[],this.warningEdges=[]}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.errorNodes.length=0,this.errorEdges.length=0,this.warningNodes.length=0,this.warningEdges.length=0}},{key:"checkErrors",value:function(e,t,n){var r="DFA"===n.getMachineType(),i=n.getMachineBuilder().getMachine(),a=t.getGraph(),u=i.getAlphabet(),s=this.errorNodes,c=this.errorEdges,f=this.warningNodes,p=this.warningEdges;this.clear();var h=new Map,y=(a.getStartNode(),n.getUnreachableNodes()),v=!0,d=!1,g=void 0;try{for(var m,b=y[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var w=m.value;f.push(w)}}catch(e){d=!0,g=e}finally{try{v||null==b.return||b.return()}finally{if(d)throw g}}var _=[],E=[],S=[],O=!0,k=!1,C=void 0;try{for(var P,N=a.getEdges()[Symbol.iterator]();!(O=(P=N.next()).done);O=!0){var j=P.value;if(j.isPlaceholder())_.push(j),-1==c.indexOf(j)&&c.push(j);else if(r){var x=j.getSourceNode(),T=(j.getDestinationNode(),j.getEdgeSymbolsFromLabel()),M=!0,I=!1,D=void 0;try{for(var L,A=T[Symbol.iterator]();!(M=(L=A.next()).done);M=!0){var R=L.value;if(R==ne)E.push(j),-1==c.indexOf(j)&&c.push(j);else if(h.has(x)){var F=h.get(x);F.includes(R)?(S.push(j),-1==c.indexOf(j)&&c.push(j)):F.push(R)}else h.set(x,[R])}}catch(e){I=!0,D=e}finally{try{M||null==A.return||A.return()}finally{if(I)throw D}}}}}catch(e){k=!0,C=e}finally{try{O||null==N.return||N.return()}finally{if(k)throw C}}var G=[];if(r){var B=!0,U=!1,H=void 0;try{for(var z,V=a.getNodes()[Symbol.iterator]();!(B=(z=V.next()).done);B=!0){var Y=z.value,X=h.get(Y);(!X&&0!=u.length||X&&X.length<u.length)&&(G.push(Y),-1==s.indexOf(Y)&&s.push(Y))}}catch(e){U=!0,H=e}finally{try{B||null==V.return||V.return()}finally{if(U)throw H}}}var K=!(0===s.length&&0===c.length&&0===f.length&&0===p.length);if(e){var Q=l.a.MACHINE_ERRORS_MESSAGE_TAG;if(o.a.clearMessages(Q),K){var W={graphController:t,machineController:n};y.length>0&&o.a.addMessage(y,"warning",Q,Lr,W,!1),_.length>0&&o.a.addMessage({text:I18N.toString("message.error.incomplete"),targets:_},"error",Q,Ur,W,!1),E.length>0&&o.a.addMessage({text:I18N.toString("message.error.empty"),targets:E},"error",Q,Ur,W,!1),S.length>0&&o.a.addMessage({text:I18N.toString("message.error.dupe"),targets:S},"error",Q,Ur,W,!1),G.length>0&&o.a.addMessage({targets:G},"error",Q,Kr,W,!1)}else o.a.addMessage(I18N.toString("message.error.none"),"success",Q,null,null,!1)}return K}}])&&Qr(t.prototype,n),r&&Qr(t,r),e}();function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e,t,n){return(Zr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$r(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e,t){if(e.getNodes().length<=0)return t;var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;try{var u=l.getNodeLabel();t.newState(u),l.getNodeAccept()&&t.setFinalState(u,!0)}catch(e){throw e}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s=!0,c=!1,f=void 0;try{for(var p,h=e.getEdges()[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;if(!y.isPlaceholder()){var v=y.getSourceNode(),d=y.getDestinationNode();if(v instanceof zn&&d instanceof zn){var g=y.getEdgeSymbolsFromLabel(),m=!0,b=!1,w=void 0;try{for(var _,E=g[Symbol.iterator]();!(m=(_=E.next()).done);m=!0){var S=_.value;try{t.newTransition(v.getNodeLabel(),d.getNodeLabel(),S)}catch(e){throw e}}}catch(e){b=!0,w=e}finally{try{m||null==E.return||E.return()}finally{if(b)throw w}}}}}}catch(e){c=!0,f=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}var O=e.getStartNode().getNodeLabel();return t.setStartState(O),t}var ro=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=$r(t).call(this))||"object"!==qr(r)&&"function"!=typeof r?to(n):r)._machine=new se,e._machineType="DFA",e._machineValidDFA=!1,e._alphabet=[],e._symbols=[],e._savedGraphHash=0,e._timer=null,e._errorTimer=null,e.machineErrorChecker=new Wr,e.tester=null,e.graphController=null,e.machineController=null,e.onGraphChange=e.onGraphChange.bind(to(to(e))),e.onDelayedGraphChange=e.onDelayedGraphChange.bind(to(to(e))),e.onDelayedErrorCheck=e.onDelayedErrorCheck.bind(to(to(e))),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(t,jr),n=t,(r=[{key:"initialize",value:function(e){Zr($r(t.prototype),"initialize",this).call(this,e),this.tester=e.getTestingManager(),this.graphController=e.getGraphController(),this.machineController=e.getMachineController();var n=this.graphController.getGraph();this._savedGraphHash=n.getHashCode(!1),this.onGraphChange()}},{key:"destroy",value:function(){var e=this.graphController.getGraph();this._savedGraphHash=e.getHashCode(!1),this.onGraphChange(),Zr($r(t.prototype),"destroy",this).call(this)}},{key:"update",value:function(){var e=this.graphController.getGraph(),t=e.getHashCode(!1);t!==this._savedGraphHash&&(this._savedGraphHash=t,this.onGraphChange(e))}},{key:"onGraphChange",value:function(e){this.tester&&(this._timer&&(clearTimeout(this._timer),this._timer=null),this._errorTimer&&(clearTimeout(this._errorTimer),this._errorTimer=null),this._timer=setTimeout(this.onDelayedGraphChange,l.a.GRAPH_IMMEDIATE_INTERVAL),this._errorTimer=setTimeout(this.onDelayedErrorCheck,this.tester.isImmediateErrorCheck?2*l.a.GRAPH_IMMEDIATE_INTERVAL:l.a.ERROR_CHECK_INTERVAL))}},{key:"onDelayedGraphChange",value:function(){this._machine.clear();this.toNFA(this._machine);var e=!0,t=!1,n=void 0;try{for(var r,o=this._symbols[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this._machine.newSymbol(i)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this._machineValidDFA=this._machine.isValidDFA()}},{key:"onDelayedErrorCheck",value:function(){this.tester.shouldCheckError&&this.machineErrorChecker.checkErrors(!0,this.graphController,this.machineController)}},{key:"setMachineType",value:function(e){this._machineType!=e&&(this._machineType=e,this.onGraphChange())}},{key:"getMachineType",value:function(){return this._machineType}},{key:"addCustomSymbol",value:function(e){this._symbols.push(e),this.onGraphChange()}},{key:"removeCustomSymbol",value:function(e){this._symbols.splice(this._symbols.indexOf(e),1),this.onGraphChange()}},{key:"renameCustomSymbol",value:function(e,t){var n=this._symbols.indexOf(e);if(n<=0)throw new Error("Trying to rename unknown symbol '"+e+"'");this._symbols[n]=t,this.onGraphChange()}},{key:"isCustomSymbol",value:function(e){return this._symbols.includes(e)}},{key:"getAlphabet",value:function(){var e=this.getMachine();return this._alphabet.length=0,e.getAlphabet(this._alphabet),this._alphabet}},{key:"isValidMachine",value:function(){return"DFA"!=this._machineType||this._machineValidDFA}},{key:"toDFA",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||new Qe;if(!(e instanceof Qe))throw new Error("Trying to parse graph mismatched machine type.");return no(this.graphController.getGraph(),e),e}},{key:"toNFA",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||new se;if(!(e instanceof se))throw new Error("Trying to parse graph mismatched machine type.");return no(this.graphController.getGraph(),e),e}},{key:"getMachine",value:function(){return this._machine}}])&&Jr(n.prototype,r),o&&Jr(n,o),t}();function oo(e,t,n){var r=[],o=t.getAlphabet(),i=ao(e);n.hasState(i)||r.push(io(n,t,e));var a=[],l=null,u=!0,s=!1,c=void 0;try{for(var f,p=o[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value,y=!0,v=!1,d=void 0;try{for(var g,m=e[Symbol.iterator]();!(y=(g=m.next()).done);y=!0){var b=g.value;t.doTerminalTransition(b,h,a)}}catch(e){v=!0,d=e}finally{try{y||null==m.return||m.return()}finally{if(v)throw d}}a.length>0&&(l=ao(a),n.hasState(l)||(l=io(n,t,a),r.push(l)),n.newTransition(i,l,h)),a.length=0}}catch(e){s=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}return r}function io(e,t,n){var r=e.newState(ao(n)),o=!0,i=!1,a=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;if(t.isFinalState(s)){e.setFinalState(r);break}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return r}function ao(e){return e.sort(),"{"+e.join(",")+"}"}function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function co(e,t,n){return(co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ho=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=so(this,fo(t).call(this,e))).machineName=null,n.graphController=null,n._machineBuilder=new ro,n._refreshRate=60,n._ticks=0,n.registerEvent("userChangeMachine"),n.registerEvent("userConvertMachine"),n.registerEvent("userPreConvertMachine"),n.registerEvent("userPostConvertMachine"),n.registerEvent("userRenameMachine"),n.registerEvent("userCreateSymbol"),n.registerEvent("userDeleteSymbol"),n.registerEvent("userPreDeleteSymbol"),n.registerEvent("userPostDeleteSymbol"),n.registerEvent("userRenameSymbol"),n.registerEvent("userPreRenameSymbol"),n.registerEvent("userPostRenameSymbol"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,Pr["a"]),n=t,(r=[{key:"initialize",value:function(e){co(fo(t.prototype),"initialize",this).call(this,e),this.graphController=e.getGraphController(),this._machineBuilder.initialize(e)}},{key:"destroy",value:function(e){this._machineBuilder.destroy(),co(fo(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){co(fo(t.prototype),"update",this).call(this,e),--this._ticks<=0&&(this._machineBuilder.update(this),this._ticks=this._refreshRate)}},{key:"getMachineBuilder",value:function(){return this._machineBuilder}},{key:"getMachineType",value:function(){return this.getMachineBuilder().getMachineType()}},{key:"setMachineType",value:function(e){this._machineBuilder.setMachineType(e)}},{key:"getMachineName",value:function(){return this.machineName||I18N.toString("file.untitled")}},{key:"setMachineName",value:function(e){!e||e.length<=0?this.machineName=null:this.machineName=e;var t=this.getMachineName(),n=document.getElementById("window-title"),r=n.innerHTML,o=r.indexOf("-");n.innerHTML=-1!==o?t+" - "+r.substring(o+1).trim():t+" - "+r}},{key:"renameMachine",value:function(e){var t=this.machineName;this.setMachineName(e),this.emit("userRenameMachine",this.getMachineBuilder(),e,t)}},{key:"changeMachineTo",value:function(e){var t=this.getMachineBuilder().getMachineType();t!=e&&(this.setMachineType(e),this.emit("userChangeMachine",this.getMachineBuilder(),e,t))}},{key:"getFirstGraphNodeByLabel",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.getNodeLabel()==t)return l}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"setGraphToMachine",value:function(e,t){var n;e.clear();var r,o,i,a,l=!0,u=!1,s=void 0;try{for(var c,f=t.getStates()[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;(n=e.createNode(0,0)).setNodeLabel(p),t.isFinalState(p)&&n.setNodeAccept(!0)}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}var h=!0,y=!1,v=void 0;try{for(var d,g=t.getTransitions()[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var m=d.value;o=this.getFirstGraphNodeByLabel(e,m[0]),a=m[1],i=this.getFirstGraphNodeByLabel(e,m[2]),(r=e.createEdge(o,i)).setEdgeLabel(a),r!=e.formatEdge(r)&&e.deleteEdge(r)}}catch(e){y=!0,v=e}finally{try{h||null==g.return||g.return()}finally{if(y)throw v}}var b=t.getStartState();e.setStartNode(this.getFirstGraphNodeByLabel(e,b)),nr.applyLayout(e)}},{key:"convertMachineTo",value:function(e){var t=this.getMachineType();if(t!==e)if("DFA"==e&&"NFA"==t){this.emit("userPreConvertMachine",this.getMachineBuilder(),e,t);var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!=e.getStates().length){var n=t||new Qe,r=(e.getAlphabet(),e.getStartState()),o=e.doClosureTransition(r),i=(io(n,e,o),e.getPowerSet()),a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;console.log("Adding to DFA: "+ao(f)),0!=f.length&&oo(f,e,n)}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}var p=n.newState("{}"),h=n.getAlphabet(),y=!0,v=!1,d=void 0;try{for(var g,m=n.getStates()[Symbol.iterator]();!(y=(g=m.next()).done);y=!0){var b=g.value,w=!0,_=!1,E=void 0;try{for(var S,O=h[Symbol.iterator]();!(w=(S=O.next()).done);w=!0){var k=S.value;n.doTransition(b,k)||n.newTransition(b,p,k)}}catch(e){_=!0,E=e}finally{try{w||null==O.return||O.return()}finally{if(_)throw E}}}}catch(e){v=!0,d=e}finally{try{y||null==m.return||m.return()}finally{if(v)throw d}}return n}}(this.getMachineBuilder().getMachine(),new Qe);this.setGraphToMachine(this.graphController.getGraph(),n),this.setMachineType(e),this.emit("userConvertMachine",this.getMachineBuilder(),e,t),this.emit("userPostConvertMachine",this.getMachineBuilder(),e,t)}else{if("NFA"!=e||"DFA"!=t)throw new Error("Conversion scheme between '"+t+"' to '"+e+"' is not supported");this.changeMachineTo(e)}}},{key:"getUnreachableNodes",value:function(){var e=this.graphController.getGraph();if(e.getNodeCount()<=1)return[];var t=e.getEdges(),n=e.getNodes().slice(),r=n.shift(),o=[];for(o.push(r);o.length>0;){var i=o.pop(),a=!0,l=!1,u=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.getSourceNode()===i){var p=n.indexOf(f.getDestinationNode());if(p>=0){var h=n.splice(p,1)[0];o.push(h)}}}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}}return n}},{key:"getMachineType",value:function(){return this._machineBuilder.getMachineType()}},{key:"getAlphabet",value:function(){return this._machineBuilder.getAlphabet()}},{key:"isUsedSymbol",value:function(e){return!this.isCustomSymbol(e)}},{key:"createSymbol",value:function(e){this.getMachineBuilder().addCustomSymbol(e),this.emit("userCreateSymbol",this.getMachineBuilder(),e)}},{key:"deleteSymbol",value:function(e){var t=null,n=null,r=null,o=[];this.emit("userPreDeleteSymbol",this.getMachineBuilder(),e);for(var i=this.graphController.getGraph(),a=i.getEdges().length-1;a>=0;--a)(n=(t=i.getEdges()[a]).getEdgeLabel().indexOf(e))>=0&&((r=t.getEdgeLabel().substring(0,n)+t.getEdgeLabel().substring(n+1)).length>0?t.setEdgeLabel(r):(t.setEdgeLabel(""),i.deleteEdge(t)),o.push(t));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(e),this.emit("userDeleteSymbol",this.getMachineBuilder(),e,o),this.emit("userPostDeleteSymbol",this.getMachineBuilder(),e,o)}},{key:"renameSymbol",value:function(e,t){var n=null,r=[];this.emit("userPreRenameSymbol",this.getMachineBuilder(),t,e);for(var o=this.graphController.getGraph(),i=o.getEdges().length,a=0;a<i;++a){var l=(n=o.getEdges()[a]).getEdgeLabel().replace(e,t);l!=n.getEdgeLabel()&&r.push(n),n.setEdgeLabel(l)}r.length<=0&&this.getMachineBuilder().renameCustomSymbol(e,t),this.emit("userRenameSymbol",this.getMachineBuilder(),t,e,r),this.emit("userPostRenameSymbol",this.getMachineBuilder(),t,e,r)}},{key:"getCustomSymbols",value:function(){return this.getMachineBuilder()._symbols}},{key:"isCustomSymbol",value:function(e){return this.getMachineBuilder().isCustomSymbol(e)}},{key:"addCustomSymbol",value:function(e){this.getMachineBuilder().addCustomSymbol(e)}},{key:"clearCustomSymbols",value:function(){this.getMachineBuilder()._symbols.length=0}}])&&uo(n.prototype,r),o&&uo(n,o),t}();er.a.mixin(ho);var yo=ho;n(97);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mo(this,bo(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.node;return a.a.createElement("g",{className:"graph-node-container"},a.a.createElement("circle",{className:"graph-node",cx:e.x,cy:e.y,r:l.a.NODE_RADIUS,fill:"#FEE781",stroke:"#000000"}),e.getNodeAccept()&&a.a.createElement("circle",{className:"graph-node-inner",cx:e.x,cy:e.y,r:l.a.NODE_RADIUS_INNER,fill:"none",stroke:"#000000"}),"//Label",a.a.createElement("text",{className:"graph-node-label",x:e.x,y:e.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:1-Math.min(Math.max(e.getNodeLabel().length-2,0)/6,.5)+"em"},textAnchor:"middle"},e.getNodeLabel()))}}])&&go(n.prototype,r),o&&go(n,o),t}();function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t){return!t||"object"!==Eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Po=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oo(this,ko(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=Math.PI/6,t=0,n=this.props.edge,r=n.getStartPoint(),o=n.getEndPoint(),i=n.getCenterPoint(),u=(n.getEdgeLabel(),n.getQuadratic(),n.getQuadraticAsCoords()),s=n.getEdgeDirection(),c=u.y>0,f=null;if(n.isQuadratic()){var p=i.x+u.x,h=i.y+u.y;t=Math.atan2(p-o.x,h-o.y)+Math.PI,f="Q "+p+" "+h+" "+o.x+" "+o.y}else t=Math.atan2(r.x-o.x,r.y-o.y)+Math.PI,f="L "+o.x+" "+o.y;var y=n.getEdgeSymbolsFromLabel(),v=i&&i.x||0,d=i&&i.y||0;return a.a.createElement("g",{className:"graph-edge-container"},"//Draw lines",a.a.createElement("path",{className:"graph-edge",id:"edge:"+n.getGraphElementID(),d:"M "+r.x+" "+r.y+" "+f+" M "+(o.x-l.a.ARROW_WIDTH*Math.sin(t-e))+" "+(o.y-l.a.ARROW_WIDTH*Math.cos(t-e))+" L "+o.x+" "+o.y+" L "+(o.x-l.a.ARROW_WIDTH*Math.sin(t+e))+" "+(o.y-l.a.ARROW_WIDTH*Math.cos(t+e)),fill:"none",stroke:"#000000"}),a.a.createElement("g",{transform:"translate("+v+","+d+") rotate("+180*s/Math.PI+")"},y.length>0&&y.map(function(e,t){var n=-15*(t+1);return a.a.createElement("text",{key:e+"."+t,className:"graph-edge-label",transform:"translate(0, "+n+")"+(c?" scale(-1, -1)":""),alignmentBaseline:"central",pointerEvents:"none",style:{userSelect:"none"},textAnchor:"middle"},e)})))}}])&&So(n.prototype,r),o&&So(n,o),t}();function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t){return!t||"object"!==No(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Io=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xo(this,To(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.node,t=e.x+(e instanceof zn?0:-l.a.INITIAL_MARKER_OFFSET_X),n=e.y,r=l.a.NODE_RADIUS,o=2*r;return a.a.createElement("g",{className:"graph-initial-container"},a.a.createElement("path",{className:"graph-initial",d:"M"+(t-r)+" "+n+" L"+(t-o)+" "+(n-r)+" L"+(t-o)+" "+(n+r)+" Z",fill:"none",stroke:"#000000"}))}}])&&jo(n.prototype,r),o&&jo(n,o),t}();function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Go=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ao(this,Ro(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.currentModule,t=e.getInputController(),n=e.getGraphController().getGraph();return a.a.createElement("g",null,n.getNodes().map(function(e,t){return a.a.createElement(_o,{key:e.getGraphElementID()||t,node:e})}),n.getEdges().map(function(e,t){return a.a.createElement(Po,{key:e.getGraphElementID()||t,edge:e})}),n.getStartNode()&&(null==t.ghostInitialMarker?a.a.createElement(Io,{node:n.getStartNode()}):a.a.createElement(Io,{node:t.ghostInitialMarker})))}}])&&Lo(n.prototype,r),o&&Lo(n,o),t}(),Bo=n(36),Uo=n(12);function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return!t||"object"!==Ho(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ko=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vo(this,Yo(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){this.props.parent;var e=this.props.currentModule,t=e.getGraphController(),n=e.getInputController(),r=e.getMachineController(),o=e.getTestingManager(),i=t.getGraph(),l=(n.getInputAdapter().getViewport(),r.getMachineBuilder().machineErrorChecker),u=n.getPicker(),s=u.getSelectionBox();return a.a.createElement("g",null,u.hasSelection()&&u.getSelection(i).map(function(e,t){return a.a.createElement(Uo.a,{key:e.getGraphElementID(),className:n.isTrashMode()?"highlight-error":"highlight-select",target:e,type:"node"})}),a.a.createElement(Bo.a,{visible:s.visible,fromX:s.fromX,fromY:s.fromY,toX:s.toX,toY:s.toY}),l&&l.warningNodes.map(function(e,t){return a.a.createElement(Uo.a,{key:e.getGraphElementID(),className:"highlight-warning graph-gui",target:e,type:"node",offset:"6"})}),l&&l.warningEdges.map(function(e,t){return a.a.createElement(Uo.a,{key:e.getGraphElementID(),className:"highlight-warning graph-gui",target:e,type:"edge",offset:"6"})}),l&&l.errorNodes.map(function(e,t){return a.a.createElement(Uo.a,{key:e.getGraphElementID(),className:"highlight-error graph-gui",target:e,type:"node",offset:"6"})}),l&&l.errorEdges.map(function(e,t){return a.a.createElement(Uo.a,{key:e.getGraphElementID(),className:"highlight-error graph-gui",target:e,type:"edge",offset:"6"})}),o.testMode.targets.map(function(e,t){return a.a.createElement(Uo.a,{key:e.getGraphElementID(),className:"highlight-test graph-gui",target:e,type:"node",offset:"6"})}),u.hasTarget()&&!u.isTargetInSelection()&&a.a.createElement(Uo.a,{className:n.isTrashMode()?"highlight-error":"highlight-select",target:u.target,type:u.targetType}))}}])&&zo(n.prototype,r),o&&zo(n,o),t}(),Qo=n(37);n(101);function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jo(e,t){return!t||"object"!==Wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ei=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jo(this,Zo(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"play-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M8 5v14l11-7z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&qo(n.prototype,r),o&&qo(n,o),t}();function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ri(e,t){return!t||"object"!==ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ii(e,t){return(ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ai=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ri(this,oi(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ii(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"pause-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&ni(n.prototype,r),o&&ni(n,o),t}();function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){return!t||"object"!==li(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fi(e,t){return(fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),si(this,ci(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fi(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"stop-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M6 6h12v12H6z"}))}}])&&ui(n.prototype,r),o&&ui(n,o),t}(),hi=n(28),yi=n(29);function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return!t||"object"!==vi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gi(this,mi(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){this.props.graphController;var e=this.props.tester,t=this.props.tester.inputList,n=this.props.tester.testMode,r=t.getCurrentInput(),o=n.getCurrentTestStringIndex();return a.a.createElement("div",{className:"test-tray-container"},a.a.createElement("div",{className:"test-tray-input-string-container"},r&&o>=0&&r.value.split("").map(function(e,t){var n=o-t;if(!(n>5))return n>2?a.a.createElement("span",{key:e+"."+t,className:"test-tray-input-placeholder"},"."):a.a.createElement("span",{key:e+"."+t,className:"test-tray-input-char"+(o==t?" active":"")},e)})),a.a.createElement("div",{className:"test-tray-control"},a.a.createElement(g.a,{onClick:function(e){n.onResume()},disabled:n.isRunning()},a.a.createElement(ei,null)),a.a.createElement(g.a,{onClick:function(e){n.onPause()},disabled:!n.isRunning()},a.a.createElement(ai,null)),a.a.createElement(g.a,{onClick:function(e){n.onPreviousStep()},disabled:!n.hasPrevStep()||n.isSkipping()},a.a.createElement(hi.a,null)),a.a.createElement(g.a,{onClick:function(e){n.onNextStep()},disabled:!e.testMode.hasNextStep()||n.isSkipping()},a.a.createElement(yi.a,null)),a.a.createElement(g.a,{onClick:function(t){e.setStepByStepMode(!1)}},a.a.createElement(pi,null)),a.a.createElement("div",{className:"trash-placeholder"})))}}])&&di(n.prototype,r),o&&di(n,o),t}(),_i=n(40);function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return!t||"object"!==Ei(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oi(this,ki(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.parent,t=this.props.currentModule,n=this.props.screen,r=t.getInputController(),o=t.getGraphController(),i=t.getMachineController(),l=t.getTestingManager(),u=t.getLabelEditor();return a.a.createElement("span",null,u&&a.a.createElement(u,{ref:function(e){return o.labelEditorElement=e},inputController:r,graphController:o,machineController:i,screen:n}),l.getStepByStepMode()?a.a.createElement("div",{className:"anchor-bottom-left",style:{width:"100%"}},a.a.createElement(wi,{tester:l,graphController:o})):a.a.createElement("span",null,a.a.createElement("div",{className:"anchor-bottom-left",style:{width:"100%"}},a.a.createElement(_i.a,{inputController:r,graphController:o})),a.a.createElement("div",{className:"anchor-bottom-right"},a.a.createElement(Qo.a,{inputController:r,viewport:e}))))}}])&&Si(n.prototype,r),o&&Si(n,o),t}();function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ji=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventLogger=t,this.controller=n,this.eventName=r,this.postEventName=o||null,this.onEvent=this.onEvent.bind(this),this.controller.on(this.eventName,this.onEvent)}var t,n,r;return t=e,(n=[{key:"destroy",value:function(){this.controller.removeEventListener(this.eventName,this.onEvent)}},{key:"onEvent",value:function(){var e=this,t={};t.applyUndo=this.applyUndo.bind(this,t),t.applyRedo=this.applyRedo.bind(this,t),t.eventData=this.captureEvent.apply(this,arguments),this.postEventName?this.controller.once(this.postEventName,function(){t.postData=e.capturePostEvent.apply(e,arguments),e.eventLogger.captureEvent(t)}):(t.postData=t.eventData,this.eventLogger.captureEvent(t))}},{key:"captureEvent",value:function(){return{}}},{key:"capturePostEvent",value:function(){return{}}},{key:"applyUndo",value:function(e){}},{key:"applyRedo",value:function(e){}}])&&Ni(t.prototype,n),r&&Ni(t,r),e}();function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e,t){return!t||"object"!==xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Li=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mi(this,Ii(t).call(this,e,n,"nodeInitial"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n){return{graph:e,nodeID:t.getGraphElementID(),prevID:n.getGraphElementID()}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph(),n=t.getNodeByElementID(e.eventData.prevID);if(!n)throw new Error("Unable to find target in graph");t.setStartNode(n)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph(),n=t.getNodeByElementID(e.eventData.nodeID);if(!n)throw new Error("Unable to find target in graph");t.setStartNode(n)}}])&&Ti(n.prototype,r),o&&Ti(n,o),t}();function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e,t){return(Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ui=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fi(this,Gi(t).call(this,e,n,"nodeMove"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r,o,i){return{graph:e,nodeID:t.getGraphElementID(),nextX:n,nextY:r,prevX:o,prevY:i}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph().getNodeByElementID(e.eventData.nodeID);if(!t)throw new Error("Unable to find target in graph");t.x=e.eventData.prevX,t.y=e.eventData.prevY}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph().getNodeByElementID(e.eventData.nodeID);if(!t)throw new Error("Unable to find target in graph");t.x=e.eventData.nextX,t.y=e.eventData.nextY}}])&&Ri(n.prototype,r),o&&Ri(n,o),t}();function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return!t||"object"!==Hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ki=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vi(this,Yi(t).call(this,e,n,"nodeMoveAll"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r){return{graph:e,nodeIDs:t.map(function(e){return e.getGraphElementID()}),dx:n,dy:r}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph(),n=null,r=!0,o=!1,i=void 0;try{for(var a,l=e.eventData.nodeIDs[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(!(n=t.getNodeByElementID(u)))throw new Error("Unable to find target in graph");n.x-=e.eventData.dx,n.y-=e.eventData.dy}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph(),n=null,r=!0,o=!1,i=void 0;try{for(var a,l=e.eventData.nodeIDs[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(!(n=t.getNodeByElementID(u)))throw new Error("Unable to find target in graph");n.x+=e.eventData.dx,n.y+=e.eventData.dy}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}}])&&zi(n.prototype,r),o&&zi(n,o),t}();function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zi(e,t){return(Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qi(this,Ji(t).call(this,e,n,"edgeMove"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zi(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r){return{graph:e,edgeID:t.getGraphElementID(),nextQuad:Object.assign({},n),prevQuad:Object.assign({},r)}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph().getEdgeByElementID(e.eventData.edgeID);if(!t)throw new Error("Unable to find target in graph");t.setQuadratic(e.eventData.prevQuad.radians,e.eventData.prevQuad.length)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph().getEdgeByElementID(e.eventData.edgeID);if(!t)throw new Error("Unable to find target in graph");t.setQuadratic(e.eventData.nextQuad.radians,e.eventData.nextQuad.length)}}])&&Wi(n.prototype,r),o&&Wi(n,o),t}();function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ia=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),na(this,ra(t).call(this,e,n,"edgeDestination"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r,o){return{graph:e,edgeID:t.getGraphElementID(),nextDestination:n,prevDestination:r,nextQuad:Object.assign({},t.getQuadratic()),prevQuad:Object.assign({},o)}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph().getEdgeByElementID(e.eventData.edgeID);if(!t)throw new Error("Unable to find target in graph");var n=e.eventData.prevQuad.radians,r=e.eventData.prevQuad.length;t.changeDestinationNode(e.eventData.prevDestination),t.isSelfLoop()&&(n=-n),t.setQuadratic(n,r)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph().getEdgeByElementID(e.eventData.edgeID);if(!t)throw new Error("Unable to find target in graph");var n=e.eventData.nextQuad.radians,r=e.eventData.nextQuad.length;t.changeDestinationNode(e.eventData.nextDestination),t.setQuadratic(n,r)}}])&&ta(n.prototype,r),o&&ta(n,o),t}();function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ca(e,t){return(ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fa=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ua(this,sa(t).call(this,e,n,"edgeLabel"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ca(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r){return{graph:e,edgeID:t.getGraphElementID(),nextLabel:n,prevLabel:r}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph().getEdgeByElementID(e.eventData.edgeID);if(!t)throw new Error("Unable to find target in graph");t.setEdgeLabel(e.eventData.prevLabel)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph().getEdgeByElementID(e.eventData.edgeID);if(!t)throw new Error("Unable to find target in graph");t.setEdgeLabel(e.eventData.nextLabel)}}])&&la(n.prototype,r),o&&la(n,o),t}();function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ya(e,t){return!t||"object"!==pa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function da(e,t){return(da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ga=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ya(this,va(t).call(this,e,n,"userPostCreateNode"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t){return{nodeID:t.getGraphElementID(),x:t.x,y:t.y,accept:t.getNodeAccept(),label:t.getNodeLabel(),custom:t.getNodeCustom()}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph(),n=t.getNodeByElementID(e.eventData.nodeID);if(!n)throw new Error("Unable to find target in graph");t.deleteNode(n)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph(),n=t.getNodeByElementID(e.eventData.nodeID);n?(n.x=e.postData.x,n.y=e.postData.y):n=t.createNode(e.postData.x,e.postData.y,e.postData.nodeID),n.setNodeLabel(e.postData.label),n.setNodeAccept(e.postData.accept),n.setNodeCustom(e.postData.custom)}}])&&ha(n.prototype,r),o&&ha(n,o),t}();function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wa(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sa=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wa(this,_a(t).call(this,e,n,"userToggleNode"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n){return{nodeID:t.getGraphElementID(),prevAccept:n}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph().getNodeByElementID(e.eventData.nodeID);if(!t)throw new Error("Unable to find target in graph");t.setNodeAccept(e.eventData.prevAccept)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph().getNodeByElementID(e.eventData.nodeID);if(!t)throw new Error("Unable to find target in graph");t.setNodeAccept(!e.eventData.prevAccept)}}])&&ba(n.prototype,r),o&&ba(n,o),t}(),Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?t.clear():t=new sr;for(var n=e.nodes||[],r=Math.min(n.length||0,e.nodeCount||0),o=e.edges||[],i=Math.min(o.length||0,e.edgeCount||0),a=e.initial||0,l=new Map,u=0;u<r;++u){var s=n[u];if(s){var c=t.createNode(s.x||0,s.y||0,s.id);c.setNodeLabel(s.label||""),c.setNodeAccept(s.accept||!1),c.setNodeCustom(s.custom||!1),l.set(u,c)}}var f=l.get(a);f&&t.setStartNode(f);for(var p=0;p<i;++p){var h=o[p];if(h){var y=l.get(h.from)||null;if(y){var v=l.get(h.to)||null,d=t.createEdge(y,v,h.id),g=h.quad||{};d.setEdgeLabel(h.label||""),d.setQuadratic(g.radians||0,g.length||0)}}}return t},ka=function(e){for(var t=e.getNodes()||[],n=t.length||0,r=e.getEdges()||[],o=r.length||0,i=e.getStartNode(),a=new Array(n),l=new Map,u=0;u<n;++u){var s=t[u];if(s){var c=s.getGraphElementID();l.set(s,u),a[u]={id:c,x:s.x||0,y:s.y||0,label:s.getNodeLabel()||"",accept:s.getNodeAccept()||!1,custom:s.getNodeCustom()||!1}}}for(var f=new Array(o),p=0;p<o;++p){var h=r[p];if(h){var y=h.getGraphElementID(),v=h.getQuadratic()||{},d=h.getSourceNode(),g=h.getDestinationNode(),m=l.has(d)?l.get(d):-1,b=l.has(g)?l.get(g):-1;f[p]={id:y,from:m,to:b,quad:{radians:v.radians||0,length:v.length||0},label:h.getEdgeLabel()||""}}}return{nodeCount:n,nodes:a,edgeCount:o,edges:f,initial:l.get(i)||0,_version:"1.0.0"}},Ca=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NULL;t?t.clear():t=new sr;for(var n=e.getElementsByTagName("state")||[],r=n.length,o=e.getElementsByTagName("transition")||[],i=o.length,a="0",l=new Map,u=0;u<r;++u){var s=n[u];if(s){var c=s.getAttribute("id");if(c){var f=0,p=s.getElementsByTagName("x");if(p.length>0){var h=p[0];if(h.hasChildNodes()){var y=h.childNodes[0];if(y)try{f=parseFloat(y.nodeValue)||0}catch(e){f=0}}}var v=0,d=s.getElementsByTagName("y");if(d.length>0){var g=d[0];if(g.hasChildNodes()){var m=g.childNodes[0];if(m)try{v=parseFloat(m.nodeValue)||0}catch(e){v=0}}}var b=s.getElementsByTagName("initial").length>0,w=s.getElementsByTagName("final").length>0,_=t.createNode(f,v);_.setNodeLabel(s.getAttribute("name")||""),_.setNodeAccept(w),b&&(a=c),l.set(c,_)}}}var E=l.get(a);E&&t.setStartNode(E);for(var S=t.getBoundingRect(),O=S.minX,k=S.minY,C=S.width,P=S.height,N=t.getNodes(),j=0,x=N.length;j<x;++j)N[j].x-=O+C/2,N[j].y-=k+P/2;for(var T=new Map,M=0;M<i;++M){var I=o[M];if(I){var D=null,L=I.getElementsByTagName("from");if(L.length>0){var A=L[0];if(A.hasChildNodes()){var R=A.childNodes[0];R&&(D=R.nodeValue)}}if(l.has(D)){var F="",G=I.getElementsByTagName("to");if(G.length>0){var B=G[0];if(B.hasChildNodes()){var U=B.childNodes[0];U&&(F=U.nodeValue||"")}}var H="",z=I.getElementsByTagName("read");if(z.length>0){var V=z[0];if(V.hasChildNodes()){var Y=V.childNodes[0];Y&&(H=Y.nodeValue||"")}}var X=D+"\n"+F,K=void 0;T.has(X)?K=T.get(X):(K=[],T.set(X,K)),K.push(H)}}}var Q=!0,W=!1,q=void 0;try{for(var J,Z=T.keys()[Symbol.iterator]();!(Q=(J=Z.next()).done);Q=!0){var $=J.value,ee=$.split("\n");if(2===ee.length){var te=T.get($).join(Vn.b),ne=l.get(ee[0]),re=l.get(ee[1]);t.createEdge(ne,re).setEdgeLabel(te)}}}catch(e){W=!0,q=e}finally{try{Q||null==Z.return||Z.return()}finally{if(W)throw q}}return t},Pa=function(e){var t=e.getNodes()||[],n=t.length||0,r=e.getEdges()||[],o=(r.length,e.getStartNode()),i=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created with flap.js 1.0.0--\x3e<structure></structure>',"application/xml"),a=i.getElementsByTagName("structure")[0],l=i.createElement("type");l.innerHTML="fa",a.appendChild(l);var u=i.createElement("automaton");a.appendChild(u);for(var s=new Map,c=0;c<n;++c){var f=t[c];s.set(f,c);var p=i.createElement("state");p.id=""+c,p.setAttribute("name",f.getNodeLabel()),u.appendChild(p);var h=i.createElement("x");h.innerHTML=""+(f.x||0),p.appendChild(h);var y=i.createElement("y");y.innerHTML=""+(f.y||0),p.appendChild(y),o===f&&p.appendChild(i.createElement("initial")),f.getNodeAccept()&&p.appendChild(i.createElement("final"))}var v=!0,d=!1,g=void 0;try{for(var m,b=r[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var w=m.value,_=w.getEdgeSymbolsFromLabel(),E=!0,S=!1,O=void 0;try{for(var k,C=_[Symbol.iterator]();!(E=(k=C.next()).done);E=!0){var P=k.value,N=i.createElement("transition");u.appendChild(N);var j=i.createElement("from");j.innerHTML=""+(s.get(w.getSourceNode())||0),N.appendChild(j);var x=i.createElement("to");x.innerHTML=""+(s.get(w.getDestinationNode())||0),N.appendChild(x);var T=i.createElement("read");T.innerHTML=""+(P||""),N.appendChild(T)}}catch(e){S=!0,O=e}finally{try{E||null==C.return||C.return()}finally{if(S)throw O}}}}catch(e){d=!0,g=e}finally{try{v||null==b.return||b.return()}finally{if(d)throw g}}return i};function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e,t){return(Ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ia=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xa(this,Ta(t).call(this,e,n,"userPreDeleteNodes","userPostDeleteNodes"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ma(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r,o){var i=[],a=!0,l=!1,u=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;i.push(f.getGraphElementID())}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}var p=t.x-r,h=t.y-o;return{graphData:ka(e),targets:i,dx:p,dy:h}}},{key:"capturePostEvent",value:function(e,t,n,r,o){return{graphData:ka(e)}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph();Oa(e.eventData.graphData,this.controller.getGraph());var n=!0,r=!1,o=void 0;try{for(var i,a=e.eventData.targets[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,u=t.getNodeByElementID(l);if(!u)throw new Error("Unable to find target in graph");u.x-=e.eventData.dx,u.y-=e.eventData.dy}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"applyRedo",value:function(e){Oa(e.postData.graphData,this.controller.getGraph())}}])&&ja(n.prototype,r),o&&ja(n,o),t}();function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t){return!t||"object"!==Da(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fa(e,t){return(Fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ga=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Aa(this,Ra(t).call(this,e,n,"userRenameNode"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fa(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r,o){return{node:t,nodeID:t.getGraphElementID(),nextLabel:n,prevLabel:r,prevCustom:o}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph().getNodeByElementID(e.eventData.nodeID);if(!t)throw new Error("Unable to find target in graph");t.setNodeLabel(e.eventData.prevLabel),t.setNodeCustom(e.eventData.prevCustom)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph().getNodeByElementID(e.eventData.nodeID);if(!t)throw new Error("Unable to find target in graph");t.setNodeLabel(e.eventData.nextLabel),t.setNodeCustom(!0)}}])&&La(n.prototype,r),o&&La(n,o),t}();function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return!t||"object"!==Ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Va(e,t){return(Va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ya=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ha(this,za(t).call(this,e,n,"userPostCreateEdge"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Va(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t){var n=t.getQuadratic();return{edge:t,edgeID:t.getGraphElementID(),fromID:t.getSourceNode().getGraphElementID(),toID:t.getDestinationNode()?t.getDestinationNode().getGraphElementID():null,label:t.getEdgeLabel(),quad:{radians:n.radians,length:n.length}}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph(),n=t.getEdgeByElementID(e.eventData.edgeID);if(!n)throw new Error("Unable to find target in graph");t.deleteEdge(n)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph(),n=t.getEdgeByElementID(e.postData.edgeID),r=t.getNodeByElementID(e.postData.fromID);if(!r)throw new Error("Trying to create a sourceless edge");var o=t.getNodeByElementID(e.postData.toID)||null;n?(n.setSourceNode(r),n.changeDestinationNode(o)):n=t.createEdge(r,o,e.postData.edgeID),n.setEdgeLabel(e.postData.label),n.setQuadratic(e.postData.quad.radians,e.postData.quad.length)}}])&&Ua(n.prototype,r),o&&Ua(n,o),t}();function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ja=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qa(this,Wa(t).call(this,e,n,"userPreDeleteEdge"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n,r){return{edge:t,edgeID:t.getGraphElementID(),fromID:t.getSourceNode().getGraphElementID(),toID:n?n.getGraphElementID():null,label:t.getEdgeLabel(),quad:Object.assign({},r)}}},{key:"applyUndo",value:function(e){var t=this.controller.getGraph(),n=t.getEdgeByElementID(e.eventData.edgeID),r=t.getNodeByElementID(e.eventData.fromID);if(!r)throw new Error("Trying to create a sourceless edge");var o=t.getNodeByElementID(e.eventData.toID)||null;n?(n.setSourceNode(r),n.changeDestinationNode(o)):n=t.createEdge(r,o,e.eventData.edgeID),n.setEdgeLabel(e.eventData.label),n.setQuadratic(e.eventData.quad.radians,e.eventData.quad.length)}},{key:"applyRedo",value:function(e){var t=this.controller.getGraph(),n=t.getEdgeByElementID(e.eventData.edgeID);if(!n)throw new Error("Unable to find target in graph");t.deleteEdge(n)}}])&&Ka(n.prototype,r),o&&Ka(n,o),t}();function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return!t||"object"!==Za(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tl(e){return(tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nl(e,t){return(nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rl=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=el(this,tl(t).call(this,e,n,"userPreImportGraph","userPostImportGraph"))).machineController=r,o}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nl(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e){return{graphName:this.machineController.getMachineName(),graphData:ka(e)}}},{key:"capturePostEvent",value:function(e){return{graphName:this.machineController.getMachineName(),graphData:ka(e)}}},{key:"applyUndo",value:function(e){Oa(e.eventData.graphData,this.controller.getGraph()),this.machineController.setMachineName(e.eventData.graphName)}},{key:"applyRedo",value:function(e){Oa(e.postData.graphData,this.controller.getGraph()),this.machineController.setMachineName(e.postData.graphName)}}])&&$a(n.prototype,r),o&&$a(n,o),t}();function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t){return!t||"object"!==ol(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ll(e){return(ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ul(e,t){return(ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sl=function(e){function t(e,n,r,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),al(this,ll(t).call(this,e,n,r,o))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ul(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e){return{graphData:ka(e)}}},{key:"capturePostEvent",value:function(e){return{graphData:ka(e)}}},{key:"applyUndo",value:function(e){Oa(e.eventData.graphData,this.controller.getGraph())}},{key:"applyRedo",value:function(e){Oa(e.postData.graphData,this.controller.getGraph())}}])&&il(n.prototype,r),o&&il(n,o),t}();function cl(e){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(e,t){return!t||"object"!==cl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hl(e){return(hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vl=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pl(this,hl(t).call(this,e,n,"userChangeMachine"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n){return{prevType:n,nextType:t}}},{key:"applyUndo",value:function(e){this.controller.setMachineType(e.eventData.prevType)}},{key:"applyRedo",value:function(e){this.controller.setMachineType(e.postData.nextType)}}])&&fl(n.prototype,r),o&&fl(n,o),t}();function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return!t||"object"!==dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bl(e){return(bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _l=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=ml(this,bl(t).call(this,e,n,"userPreConvertMachine","userPostConvertMachine"))).graphController=r,o}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wl(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n){var r=this.graphController.getGraph();return{graphData:ka(r),prevType:n}}},{key:"capturePostEvent",value:function(e,t,n){var r=this.graphController.getGraph();return{graphData:ka(r),nextType:t}}},{key:"applyUndo",value:function(e){Oa(e.eventData.graphData,this.graphController.getGraph()),this.controller.setMachineType(e.eventData.prevType)}},{key:"applyRedo",value:function(e){Oa(e.postData.graphData,this.graphController.getGraph()),this.controller.setMachineType(e.postData.nextType)}}])&&gl(n.prototype,r),o&&gl(n,o),t}();function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e,t){return!t||"object"!==El(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kl(e){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pl=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ol(this,kl(t).call(this,e,n,"userRenameMachine"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n){return{prevName:n,nextName:t}}},{key:"applyUndo",value:function(e){this.controller.setMachineName(e.eventData.prevName)}},{key:"applyRedo",value:function(e){this.controller.setMachineName(e.postData.nextName)}}])&&Sl(n.prototype,r),o&&Sl(n,o),t}();function Nl(e){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t){return!t||"object"!==Nl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ml(e,t){return(Ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Il=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=xl(this,Tl(t).call(this,e,n,"userPreRenameSymbol","userPostRenameSymbol"))).graphController=r,o}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ml(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t,n){var r=this.graphController.getGraph();return{graphData:ka(r),symbol:t,prevSymbol:n}}},{key:"capturePostEvent",value:function(e,t,n,r){var o=this.graphController.getGraph(),i=[],a=!0,l=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;i.push(f.getGraphElementID())}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return{graphData:ka(o),symbol:t,prevSymbol:n,targets:i}}},{key:"applyUndo",value:function(e){Oa(e.eventData.graphData,this.graphController.getGraph())}},{key:"applyRedo",value:function(e){Oa(e.postData.graphData,this.graphController.getGraph())}}])&&jl(n.prototype,r),o&&jl(n,o),t}();function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Al(e,t){return!t||"object"!==Dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rl(e){return(Rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fl(e,t){return(Fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gl=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Al(this,Rl(t).call(this,e,n,"userPreDeleteSymbol","userPostDeleteSymbol"))).graphController=r,o}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fl(e,t)}(t,ji),n=t,(r=[{key:"captureEvent",value:function(e,t){var n=this.graphController.getGraph();return{graphData:ka(n),symbol:t}}},{key:"capturePostEvent",value:function(e,t,n){var r=this.graphController.getGraph(),o=[],i=!0,a=!1,l=void 0;try{for(var u,s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;o.push(c.getGraphElementID())}}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}return{graphData:ka(r),symbol:t,targets:o}}},{key:"applyUndo",value:function(e){Oa(e.eventData.graphData,this.graphController.getGraph())}},{key:"applyRedo",value:function(e){Oa(e.postData.graphData,this.graphController.getGraph())}}])&&Ll(n.prototype,r),o&&Ll(n,o),t}();function Bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ul=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graphController=null,this.machineController=null,this.eventHandlers=[],this.undoManager=t}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){this.graphController=e.getGraphController(),this.machineController=e.getMachineController();this.graphController.getGraph();var t=this.undoManager;this.eventHandlers.push(new Ui(t,this.graphController)),this.eventHandlers.push(new Ki(t,this.graphController)),this.eventHandlers.push(new $i(t,this.graphController)),this.eventHandlers.push(new ia(t,this.graphController)),this.eventHandlers.push(new Li(t,this.graphController)),this.eventHandlers.push(new fa(t,this.graphController)),this.eventHandlers.push(new ga(t,this.graphController)),this.eventHandlers.push(new Ga(t,this.graphController)),this.eventHandlers.push(new Sa(t,this.graphController)),this.eventHandlers.push(new Ia(t,this.graphController)),this.eventHandlers.push(new Ya(t,this.graphController)),this.eventHandlers.push(new Ja(t,this.graphController)),this.eventHandlers.push(new rl(t,this.graphController,this.machineController)),this.eventHandlers.push(new sl(t,this.graphController,"userPreChangeLayout","userPostChangeLayout")),this.eventHandlers.push(new vl(t,this.machineController)),this.eventHandlers.push(new _l(t,this.machineController,this.graphController)),this.eventHandlers.push(new Pl(t,this.machineController)),this.eventHandlers.push(new Il(t,this.machineController,this.graphController)),this.eventHandlers.push(new Gl(t,this.machineController,this.graphController))}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.eventHandlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.destroy()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this.graphController.clearEventListeners()}}])&&Bl(t.prototype,n),r&&Bl(t,r),e}();n(105);function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Kl=["0","1"],Ql=[Vn.a];var Wl=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vl(t).call(this,e))||"object"!==Hl(o)&&"function"!=typeof o?Xl(r):o).parentElement=null,n.inputElement=null,n._timer=null,n._prevValue="",n.state={target:null,callback:null},n.onContextMenu=n.onContextMenu.bind(Xl(Xl(n))),n.onFormat=n.onFormat.bind(Xl(Xl(n))),n.onSubmit=n.onSubmit.bind(Xl(Xl(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yl(e,t)}(t,a.a.Component),n=t,(r=[{key:"openEditor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!this.inputElement||!this.parentElement)throw new Error("Trying to open editor that has not yet mounted");this.setState(function(t,n){return{target:e,callback:o}}),this.inputElement.resetValue(e.getEdgeLabel(),function(){n&&t.inputElement.setValue(n),t._prevValue=e.getEdgeLabel(),t.parentElement.focus(),t.inputElement.focus(r)})}},{key:"closeEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.inputElement||!this.parentElement)throw new Error("Trying to open editor that has not yet mounted");if(null!==this.state.target){if(e){var t=this.inputElement.value;this.state.target.setEdgeLabel(t)}else this.state.target.getEdgeLabel()||(this.state.target.setEdgeLabel(null),this.props.graphController.getGraph().deleteEdge(this.state.target));this.setState({target:null}),this.state.callback&&this.state.callback()}this.inputElement.blur()}},{key:"hasFocus",value:function(){return this.inputElement.hasFocus()}},{key:"isEditorOpen",value:function(){return null!==this.state.target}},{key:"onContextMenu",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"appendSymbol",value:function(e){this.inputElement.appendValue(e,Vn.b),this.inputElement.focus(!1)}},{key:"onSubmit",value:function(e,t){e!=t||this.closeEditor(!1)}},{key:"onFormat",value:function(e){return this.props.graphController.getGraphLabeler().getEdgeLabelFormatter().call(null,e)}},{key:"render",value:function(){var e=this,t=this.props.inputController.getInputAdapter().getViewport(),n=(this.props.graphController,this.props.machineController),r=this.props.screen,o={visibility:"hidden"},i=this.state.target;if(i){o.visibility="visible";var l=i.getCenterPoint(),s=function(e,t,n){var r=e.getScreenCTM();return{x:t*r.a+r.e,y:n*r.d+r.f}}(r,l.x+t.getOffsetX(),l.y+t.getOffsetY()),c=s.x,f=s.y+-64+-36,p=-this.parentElement.offsetWidth/2,h=-this.parentElement.offsetHeight/2;o.top=f+h+"px",o.left=c+p+"px"}var y=n.getAlphabet();return a.a.createElement("div",{className:"bubble",id:"label-editor",ref:function(t){return e.parentElement=t},tabIndex:"0",style:o,onContextMenu:this.onContextMenu,onFocus:function(t){clearTimeout(e._timer)},onBlur:function(t){e._timer=setTimeout(function(){return e.closeEditor(!0)},10)}},a.a.createElement(u.a,{className:"label-editor-input",ref:function(t){return e.inputElement=t},formatter:this.onFormat,onSubmit:this.onSubmit,captureOnExit:"none"}),a.a.createElement("div",{className:"label-editor-tray"},y&&a.a.createElement("span",{className:"label-editor-tray-used"},y.map(function(t,n){return t.length<1?null:a.a.createElement("button",{key:n,onClick:function(n){return e.appendSymbol(t)}},t)})),a.a.createElement("span",{className:"label-editor-tray-default"},y&&y.length<=1&&Kl.map(function(t,n){return a.a.createElement("button",{key:n,onClick:function(n){return e.appendSymbol(t)}},t)}),Ql.map(function(t,n){return a.a.createElement("button",{key:n,onClick:function(n){return e.appendSymbol(t)}},t)}))))}}])&&zl(n.prototype,r),o&&zl(n,o),t}();function ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tapeInput=t?t.split(""):[],this._left=n,this._right=r,this._index=0}var t,n,r;return t=e,(n=[{key:"stepForward",value:function(){++this._index}},{key:"stepBackward",value:function(){--this._index}},{key:"finish",value:function(){this._index=2*this._tapeInput.length}},{key:"reset",value:function(){this._index=-1}},{key:"stop",value:function(){this.finish(),this.reset()}},{key:"changeTapeSymbol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._tapeInput[e]=t}},{key:"getTapeSourceStatesByIndex",value:function(e){return null}},{key:"getTapeSymbolByIndex",value:function(e){return e<0||e>=this._tapeInput.length?"":this._tapeInput[e]||""}},{key:"isTapeLeftInfinite",value:function(){return this._left}},{key:"isTapeRightInfinite",value:function(){return this._right}},{key:"setCurrentTapeIndex",value:function(e){this._index=e}},{key:"getCurrentTapeIndex",value:function(){return this._index}},{key:"getTapeInput",value:function(){return this._tapeInput}}])&&ql(t.prototype,n),r&&ql(t,r),e}();function Zl(e){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tu(e,t,n){return t&&eu(e.prototype,t),n&&eu(e,n),e}function nu(e,t){return!t||"object"!==Zl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ru(e){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ou(e,t){return(ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iu=function(e){function t(e,n,r){var o;return $l(this,t),(o=nu(this,ru(t).call(this,e.getTestString(),!1,!0)))._tester=e,o._graphController=n,o._machineController=r,o._cachedGraphHash=n.getGraph().getHashCode(!1),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ou(e,t)}(t,Jl),tu(t,[{key:"stepForward",value:function(){var e=this._graphController,t=this._machineController;this._tester.stepForward(e,t)}},{key:"stepBackward",value:function(){var e=this._graphController,t=this._machineController;this._tester.stepBackward(e,t)}},{key:"reset",value:function(){this._tester.resetPosition()}},{key:"finish",value:function(){var e=this._graphController,t=this._machineController;this._tester.runTest(e,t,!1)}},{key:"stop",value:function(){this._tester.stopTest()}},{key:"changeTapeSymbol",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Operation not yet supported")}},{key:"getTapeSourceStatesByIndex",value:function(e){return e<0||e>=this._tapeInput.length?null:this._tester.getNodesAtPosition(e)}},{key:"getTapeSymbolByIndex",value:function(e){return e<0||e>=this._tapeInput.length?[]:this._tapeInput[e]||""}},{key:"setCurrentTapeIndex",value:function(e){this._tester.changePosition(e)}},{key:"getCurrentTapeIndex",value:function(){return this._tester.getPosition()}}]),t}(),au=function(){function e(){$l(this,e),this._testString=null,this._testIndex=-1,this._tapeContext=null,this._cachePath=[],this._cachedResult=null,this._resolve=null,this._reject=null,this.registerEvent("startTest"),this.registerEvent("stepTest"),this.registerEvent("stopTest")}return tu(e,[{key:"startTest",value:function(e,t,n){var r=this;if(e||(e=""),this._tapeContext)throw new Error("Unable to start an already running test");return t.getGraph().isEmpty()?Promise.reject():(this._testString=e,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=new iu(this,t,n),this.emit("startTest",this),new Promise(function(e,t){r._resolve=e,r._reject=t}))}},{key:"stopTest",value:function(){if(!this._tapeContext)throw new Error("Unable to stop null test");if(this.emit("stopTest",this),!this._resolve)throw new Error("Must call startTest() before anything else");if(!this._reject)throw new Error("Must call startTest() before anything else");var e=null;return this._cachePath.length>=this._testString.length?(e=this._cachedResult,this._resolve(e)):(e=null,this._reject()),this._testString=null,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=null,Promise.resolve(e)}},{key:"runTest",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._tapeContext)throw new Error("Unable to run null test");return new Promise(function(o,i){var a=!1;do{a=n.stepForward(e,t,!r)}while(a);o(n._cachedResult)}).then(function(e){return r?n.stopTest():e})}},{key:"stepForward",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this._testIndex>=this._testString.length)return!1;if(++this._testIndex,this._cachePath.length<=this._testIndex){var n,r,o=new Set,i=null;if(this._testIndex===this._testString.length&&null===this._cachedResult){if(this._testIndex<=0){n=[],r=[],i=[];e.getGraph();var a=t.getMachineBuilder().getMachine(),l=a.getStartState(),u=!0,s=!1,c=void 0;try{for(var f,p=a.doClosureTransition(l)[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;n.push({state:h,index:0})}}catch(e){s=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}}else{var y=this._cachePath[this._testIndex-1];n=y.states.slice(),r=y.symbols.slice(),i=y.checked.slice()}var v=t.getMachineBuilder().getMachine(),d=e.getGraph();this._cachedResult=He(v,null,n,r,i);var g=!0,m=!1,b=void 0;try{for(var w,_=n[Symbol.iterator]();!(g=(w=_.next()).done);g=!0){var E=w.value,S=t.getFirstGraphNodeByLabel(d,E.state);if(!S)throw new Error("Could not find node by label '"+E.state+"'");o.add(S)}}catch(e){m=!0,b=e}finally{try{g||null==_.return||_.return()}finally{if(m)throw b}}}else{var O=this._testString[this._testIndex];if(this._testIndex<=0){n=[],r=[],i=[];var k=e.getGraph(),C=t.getMachineBuilder().getMachine(),P=C.getStartState(),N=!0,j=!1,x=void 0;try{for(var T,M=C.doClosureTransition(P)[Symbol.iterator]();!(N=(T=M.next()).done);N=!0){var I=T.value;n.push({state:I,index:0});var D=t.getFirstGraphNodeByLabel(k,I);if(!D)throw new Error("Could not find node by label '"+state.state+"'");o.add(D)}}catch(e){j=!0,x=e}finally{try{N||null==M.return||M.return()}finally{if(j)throw x}}}else{var L=this._cachePath[this._testIndex-1];n=L.states.slice(),r=L.symbols.slice(),i=L.checked.slice();var A=t.getMachineBuilder().getMachine(),R=e.getGraph();He(A,O,n,r,i);var F=!0,G=!1,B=void 0;try{for(var U,H=n[Symbol.iterator]();!(F=(U=H.next()).done);F=!0){var z=U.value,V=t.getFirstGraphNodeByLabel(R,z.state);if(!V)throw new Error("Could not find node by label '"+z.state+"'");o.add(V)}}catch(e){G=!0,B=e}finally{try{F||null==H.return||H.return()}finally{if(G)throw B}}}}var Y={targets:Array.from(o),states:n,symbols:r,checked:i};this._cachePath.push(Y)}return this.emit("stepTest"),!0}},{key:"stepBackward",value:function(e,t){return!(this._testIndex<=0)&&(--this._testIndex,this.emit("stepTest"),!0)}},{key:"isTesting",value:function(){return null!==this._testString}},{key:"changePosition",value:function(e){e>=this._cachePath.length?this._testIndex=this._cachePath.length-1:e<0?this._testIndex=0:e>=this._testString.length?this._testIndex=this._testString.length-1:this._testIndex=e}},{key:"resetPosition",value:function(){this._testIndex=-1}},{key:"getPosition",value:function(){return this._testIndex}},{key:"isComputedPosition",value:function(e){return this._cachePath.length>e}},{key:"getCurrentNodes",value:function(){return this._testIndex>=0&&this._testIndex<this._cachePath.length?this._cachePath[this._testIndex]:null}},{key:"getNodesAtPosition",value:function(e){return e>=0&&e<this._cachePath.length?this._cachePath[e].targets:null}},{key:"getTestString",value:function(){return this._testString}},{key:"getTapeContext",value:function(){return this._tapeContext}}]),e}();er.a.mixin(au);var lu=au,uu=n(13),su=n(38);function cu(e){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t){return!t||"object"!==cu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hu(e){return(hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yu(e,t){return(yu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pu(this,hu(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yu(e,t)}(t,uu["a"]),n=t,(r=[{key:"fromJSON",value:function(e,t){var n=t.getGraphController(),r=t.getMachineController(),o=n.getGraph(),i=("_metadata"in e&&e._metadata,Oa(e.graphData,o)),a=e.machineData,l=a.name;l&&r.setMachineName(l);var u=a.type;u&&r.setMachineType(u);var s=a.symbols;if(s){r.clearCustomSymbols();var c=!0,f=!1,p=void 0;try{for(var h,y=s[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;r.addCustomSymbol(v)}}catch(e){f=!0,p=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}var d=a.statePrefix;return d&&n.getGraphLabeler().setDefaultNodeLabelPrefix(d),i}},{key:"toJSON",value:function(e,t){var n=t.getGraphController(),r=t.getMachineController(),o={};return o._metadata={module:t.getModuleName(),version:"0.3.2:"+t.getModuleVersion(),timestamp:(new Date).toString()},o.graphData=e,o.machineData={name:r.getMachineName(),type:r.getMachineType(),symbols:r.getCustomSymbols(),statePrefix:n.getGraphLabeler().getDefaultNodeLabelPrefix()},o}},{key:"importFromData",value:function(e,t){this.fromJSON(e,t)}},{key:"exportToData",value:function(e){var t=e.getGraphController().getGraph(),n=ka(t);return this.toJSON(n,e)}},{key:"doesSupportData",value:function(){return!0}},{key:"importFromFile",value:function(e,t){var n=this;return new Promise(function(r,o){var i=e.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(e){var l=t.getGraphController(),u=t.getMachineController(),s=e.target.result,c=i.substring(0,i.length-n.getFileType().length-1),f=l.getGraph();l.emit("userPreImportGraph",f);try{var p=JSON.parse(s);n.fromJSON(p,t),l.emit("userImportGraph",f),u&&u.setMachineName(c),r()}catch(e){a.abort(),o(e)}finally{l.emit("userPostImportGraph",f)}},a.onerror=function(e){o(new Error("Unable to import file: "+e.target.error.code))},a.readAsText(e)})}},{key:"exportToFile",value:function(e,t){var n=t.getGraphController().getGraph(),r=ka(n),o=this.toJSON(r,t),i=JSON.stringify(o);Object(Be.b)(e+"."+this.getFileType(),i)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(){return!0}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getFileType",value:function(){return"json"}},{key:"getIconClass",value:function(){return su.a}}])&&fu(n.prototype,r),o&&fu(n,o),t}();function du(e){return(du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mu(e,t){return!t||"object"!==du(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bu(e){return(bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mu(this,bu(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"xml-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),a.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),a.a.createElement("path",{fill:"#F29C1F",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFFFFF",d:"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z"})),a.a.createElement("path",{fill:"#F29C1F",d:"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z"}),a.a.createElement("path",{fill:"#F29C1F",d:"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z"}),a.a.createElement("path",{fill:"#F29C1F",d:"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z"}),a.a.createElement("path",{fill:"#F29C1F",d:"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z"}),a.a.createElement("path",{fill:"#F29C1F",d:"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z"})))}}])&&gu(n.prototype,r),o&&gu(n,o),t}();function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t){return!t||"object"!==Eu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cu(e,t){return(Cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ou(this,ku(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cu(e,t)}(t,uu["a"]),n=t,(r=[{key:"importFromFile",value:function(e,t){var n=this;return new Promise(function(r,o){var i=e.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(e){var l=t.getGraphController(),u=t.getMachineController(),s=e.target.result,c=i.substring(0,i.length-n.getFileType().length-1),f=l.getGraph();l.emit("userPreImportGraph",f);try{var p=(new DOMParser).parseFromString(s,"text/xml");Ca(p,f),l.emit("userImportGraph",f),u&&u.setMachineName(c),r()}catch(e){a.abort(),o(e)}finally{l.emit("userPostImportGraph",f)}},a.onerror=function(e){o(new Error("Unable to import file: "+e.target.error.code))},a.readAsText(e)})}},{key:"exportToFile",value:function(e,t){var n=t.getGraphController().getGraph(),r=Pa(n),o=(new XMLSerializer).serializeToString(r);Object(Be.b)(e+"."+this.getFileType(),o)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(){return!0}},{key:"getTitle",value:function(){return I18N.toString("file.export.jff.hint")}},{key:"getLabel",value:function(){return I18N.toString("file.export.jff")}},{key:"getFileType",value:function(){return"jff"}},{key:"getIconClass",value:function(){return _u}}])&&Su(n.prototype,r),o&&Su(n,o),t}();function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xu(e,t,n){return(xu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tu(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Iu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Du=[Mn,mn,Ge,Cn],Lu=[new vu,new Pu],Au=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Tu(t).call(this,e))||"object"!==Nu(o)&&"function"!=typeof o?Iu(r):o)._workspace=null,n._inputController=new Zn(Iu(Iu(n)),e.getInputAdapter()),n._graphController=new Cr(Iu(Iu(n))),n._machineController=new yo(Iu(Iu(n))),n._eventManager=new Ul(e.getUndoManager()),n._testingManager=new nt,n._tester=new lu,n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(t,r["b"]),n=t,(i=[{key:"initialize",value:function(e){var n=this,r=e.viewport,i=e.workspace;this._workspace=i,xu(Tu(t.prototype),"initialize",this).call(this,e),this._eventManager.initialize(this),this._testingManager.initialize(this,r);this._graphController.on("tryCreateWhileTrash",function(){n._inputController.isTrashMode()&&o.a.addMessage(I18N.toString("message.warning.cannotmodify"),"warning","tryCreateWhileTrash")})}},{key:"destroy",value:function(e){this._testingManager.destroy(),this._eventManager.destroy(),xu(Tu(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){xu(Tu(t.prototype),"update",this).call(this,e)}},{key:"getGraph",value:function(){return this._graphController.getGraph()}},{key:"getTestingManager",value:function(){return this._testingManager}},{key:"getDefaultGraphLayout",value:function(){return nr}},{key:"getLabelEditor",value:function(){return Wl}},{key:"getRenderer",value:function(e){switch(e){case"graph":return Go;case"graphoverlay":return Ko;case"viewport":return Pi}return null}},{key:"getInputController",value:function(){return this._inputController}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphExporters",value:function(){return Lu}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModulePanels",value:function(){return Du}},{key:"getModuleName",value:function(){return"fsa"}},{key:"getLocalizedModuleName",value:function(){return this._machineController.getMachineType()}}])&&ju(n.prototype,i),a&&ju(n,a),t}();t.default=Au},function(e,t,n){"use strict";var r=n(19);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=a(this,u(t).call(this,e,n,null)))._quad={radians:0,length:0,_coords:{x:0,y:0}},r.changeDestinationNode(o),r}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(o=[{key:"setQuadratic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this._quad.radians=e,"number"==typeof t&&(this._quad.length=t),this}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!=this._quad.length}},{key:"setQuadraticByCoords",value:function(e,t){var n=this._from,r=this._to,o=n.x,i=n.y,a=r.x-o,l=r.y-i,u=o+a/2,s=i+l/2,c=Math.atan2(-l,a);a=e-u,l=t-s;var f=Math.PI,p=f/2,h=Math.atan2(l,a)+c,y=Math.sqrt(a*a+l*l);y<0&&(y=0);var v=h- -p,d=h-p,g=f/20;Math.abs(y)<8?(h=0,y=0):v<g&&v>-g?h=-p:-d<g&&-d>-g&&(h=p),this._quad.radians=h,this._quad.length=y}},{key:"getQuadraticAsCoords",value:function(){var e=this._from,t=this._to,n=this._quad._coords;return null==e||null==t?(n.x=0,n.y=0):f(e.x,e.y,t.x,t.y,this._quad.length,this._quad.radians,n),n}},{key:"getSelfLoopHeight",value:function(){return this._from.getNodeSize()}},{key:"formatAsSelfLoop",value:function(){this.setQuadratic(-Math.PI/2,this._from.getNodeSize()+this.getSelfLoopHeight())}},{key:"formatAsPlaceholder",value:function(e){if(e){var t=this._from.x-e.x,n=this._from.y-e.y,r=-Math.atan2(t,n)-Math.PI/2;this._quad.radians=r}else this._quad.radians=0}},{key:"changeDestinationNode",value:function(e){var n=this._to;n!==e&&(l(u(t.prototype),"changeDestinationNode",this).call(this,e),this.isPlaceholder()?this.formatAsPlaceholder(n):this.isSelfLoop()&&this.formatAsSelfLoop())}},{key:"getEdgeDirection",value:function(){var e=0;if(this.isQuadratic()){var n=this.getQuadraticAsCoords();e=Math.atan2(n.y,n.x)+Math.PI/2}else e=l(u(t.prototype),"getEdgeDirection",this).call(this);return e}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),o=Math.sin(this._quad.radians),i=t.getNodeSize();return e.x=t.x+r*i,e.y=t.y+o*i,e}if(n.getNodeSize&&this.isQuadratic()){p(t.x,t.y,n.x,n.y,e);var a=this.getQuadraticAsCoords(),l=e.x+a.x,u=e.y+a.y;return f(t.x,t.y,l,u,t.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,e),e.x+=t.x,e.y+=t.y,e}return f(t.x,t.y,n.x,n.y,t.getNodeSize(),0,e),e.x+=t.x,e.y+=t.y,e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),o=Math.sin(this._quad.radians),i=t.getNodeSize()+this.getPlaceholderLength();return e.x=t.x+r*i,e.y=t.y+o*i,e}if(n.getNodeSize){if(this.isQuadratic()){p(t.x,t.y,n.x,n.y,e);var a=this.getQuadraticAsCoords(),l=e.x+a.x,u=e.y+a.y;return f(n.x,n.y,l,u,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,e),e.x+=n.x,e.y+=n.y,e}return f(n.x,n.y,t.x,t.y,n.getNodeSize(),0,e),e.x+=n.x,e.y+=n.y,e}return n}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),o=Math.sin(this._quad.radians),i=t.getNodeSize()+this.getPlaceholderLength()/2;return e.x=t.x+r*i,e.y=t.y+o*i,e}if(p(t.x,t.y,n.x,n.y,e),this.isQuadratic()){var a=this.getQuadraticAsCoords();e.x+=a.x,e.y+=a.y}return e}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?l(u(t.prototype),"getHashString",this).call(this,e)+":"+this._quad.radians+","+this._quad.length:l(u(t.prototype),"getHashString",this).call(this,e)}}])&&i(n.prototype,o),c&&i(n,c),t}();function f(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{x:0,y:0},l=n-e,u=r-t,s=Math.atan2(u,l)+i;return a.x=Math.cos(s)*o,a.y=Math.sin(s)*o,a}function p(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0};return o.x=e+(n-e)/2,o.y=t+(r-t)/2,o}t.a=c},function(e,t,n){"use strict";var r=n(18),o=n(19),i=n(10);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nodeClass=t,this._edgeClass=n,this._nodes=[],this._edges=[],this._nodeMapping=new Map,this._edgeMapping=new Map}var t,n,l;return t=e,(n=[{key:"createNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new this._nodeClass(n||Object(i.a)(),e,t),o=this._nodes.length;return this._nodes.push(r),this._nodeMapping.set(r.getGraphElementID(),o),r}},{key:"deleteNode",value:function(e){var t=e.getGraphElementID(),n=this._nodeMapping.get(t);if(n>=0){this._nodes.splice(n,1),this._nodeMapping.delete(t);for(var r=n,o=this._nodes.length;r<o;++r)this._nodeMapping.set(this._nodes[r].getGraphElementID(),r);var i=[],a=!0,l=!1,u=void 0;try{for(var s,c=this._edges[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;f.getSourceNode()===e?i.push(f):f.getDestinationNode()===e&&f.changeDestinationNode(null)}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}for(var p=0;p<i.length;p++){var h=i[p];this.deleteEdge(h)}}}},{key:"addNode",value:function(e){e.getGraphElementID()||e.setGraphElementID(Object(i.a)());var t=this._nodes.length;return this._nodes.push(e),this._nodeMapping.set(e.getGraphElementID(),t),e}},{key:"clearNodes",value:function(){this._nodes.length=0,this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(e){var t=this._nodeMapping.get(e);return t>=0?this._nodes[t]:null}},{key:"getNodesByLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._nodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.getNodeLabel()==e&&t.push(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"getNodes",value:function(){return this._nodes}},{key:"getNodeCount",value:function(){return this._nodes.length}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"createEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new this._edgeClass(n||Object(i.a)(),e,t),o=this._edges.length;return this._edges.push(r),this._edgeMapping.set(r.getGraphElementID(),o),r}},{key:"deleteEdge",value:function(e){var t=e.getGraphElementID(),n=this._edgeMapping.get(t);if(n>=0){this._edges.splice(n,1),this._edgeMapping.delete(t);for(var r=n,o=this._edges.length;r<o;++r)this._edgeMapping.set(this._edges[r].getGraphElementID(),r)}}},{key:"addEdge",value:function(e){e.getGraphElementID()||e.setGraphElementID(Object(i.a)());var t=this._edges.length;return this._edges.push(e),this._edgeMapping.set(e.getGraphElementID(),t),e}},{key:"clearEdges",value:function(){this._edges.length=0,this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(e){var t=this._edgeMapping.get(e);return t>=0?this._edges[t]:null}},{key:"getEdges",value:function(){return this._edges}},{key:"getEdgeCount",value:function(){return this._edges.length}},{key:"getEdgeClass",value:function(){return this._edgeClass}},{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this.getNodeCount()<=0&&this.getEdgeCount()<=0}},{key:"getBoundingRect",value:function(){if(this._nodes.length<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,o=0,i=!0,a=!1,l=void 0;try{for(var u,s=this._nodes[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,f=c.x,p=c.y,h=c.getNodeSize();h>o&&(o=h),e=Math.min(e,f),n=Math.max(n,f),t=Math.min(t,p),r=Math.max(r,p)}}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}e-=o,t-=o,n+=o,r+=o;var y=Number.MAX_VALUE,v=Number.MAX_VALUE,d=Number.MIN_VALUE,g=Number.MIN_VALUE,m={x:0,y:0},b={x:0,y:0},w={x:0,y:0},_=!0,E=!1,S=void 0;try{for(var O,k=this._edges[Symbol.iterator]();!(_=(O=k.next()).done);_=!0){var C=O.value;C.getStartPoint(m),C.getEndPoint(b),C.getCenterPoint(w);var P=m.x,N=m.y,j=b.x,x=b.y,T=w.x,M=w.y;y=Math.min(y,P,j,T),d=Math.max(d,P,j,T),v=Math.min(v,N,x,M),g=Math.max(g,N,x,M)}}catch(e){E=!0,S=e}finally{try{_||null==k.return||k.return()}finally{if(E)throw S}}var I={minX:Math.min(e,y),minY:Math.min(t,v),maxX:Math.max(n,d),maxY:Math.max(r,g),width:0,height:0};return I.width=I.maxX-I.minX,I.height=I.maxY-I.minY,I}},{key:"getHashCode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="",n=!0,r=!1,o=void 0;try{for(var a,l=this._nodes[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){t+=a.value.getHashString(e)+","}}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}t+="|";var u=!0,s=!1,c=void 0;try{for(var f,p=this._edges[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){t+=f.value.getHashString(e)+","}}catch(e){s=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}return Object(i.b)(t)}}])&&a(t.prototype,n),l&&a(t,l),e}();t.a=l},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Missing module for graph controller");if(!n)throw new Error("Missing graph for graph controller");if(!r)throw new Error("Missing graph labeler for graph controller");this._module=t,this._graph=n,this._labeler=r,this._labeler.setGraphController(this)}var t,n,o;return t=e,(n=[{key:"initialize",value:function(e){}},{key:"destroy",value:function(e){}},{key:"update",value:function(e){}},{key:"getGraphLabeler",value:function(){return this._labeler}},{key:"getGraph",value:function(){return this._graph}},{key:"getModule",value:function(){return this._module}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._graphController=null}var t,n,o;return t=e,(n=[{key:"setGraphController",value:function(e){return this._graphController=e,this}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){throw new Error("Node label formatting is not supported")}},{key:"getEdgeLabelFormatter",value:function(){throw new Error("Edge label formatting is not supported")}},{key:"getGraphController",value:function(){return this._graphController}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Missing module for machine controller");this._module=t}var t,n,o;return t=e,(n=[{key:"initialize",value:function(e){}},{key:"destroy",value:function(e){}},{key:"update",value:function(e){}},{key:"getModule",value:function(){return this._module}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(1);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.visible,t=this.props.fromX||0,n=this.props.fromY||0,r=this.props.toX||t+1,i=this.props.toY||n+1,a=r-t,l=i-n;return o.a.createElement("g",{className:"graph-selection-container"},e&&o.a.createElement("rect",{className:"graph-selection",x:a<0?r:t,y:l<0?i:n,width:a<0?-a:a,height:l<0?-l:l}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=(n(99),n(9));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,s(t).call(this,e))).state={staticTrash:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"onTrashEnter",value:function(e){this.state.staticTrash||(this.props.inputController.setTrashMode(!0),this.props.viewport.setState(function(e,t){return{mode:i.a.DANGEROUS}}))}},{key:"onTrashLeave",value:function(e){this.state.staticTrash||(this.props.inputController.setTrashMode(!1),this.props.viewport.setState(function(e,t){return{mode:i.a.NORMAL}}))}},{key:"onTrashClick",value:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.setState(function(e,n){var r=!e.staticTrash;return t.props.inputController.setTrashMode(r),t.props.viewport.setState(function(e,t){return{mode:r?i.a.DANGEROUS:i.a.NORMAL}}),{staticTrash:r}})}},{key:"render",value:function(){var e=this.props.inputController,t=e.getInputAdapter();return o.a.createElement("svg",{id:"trash-btn",className:(e.isTrashMode()?"danger ":"")+(t.isUsingTouch()&&t.isDragging()?"hidden":""),width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:this.onTrashEnter.bind(this),onMouseLeave:this.onTrashLeave.bind(this),onClick:this.onTrashClick.bind(this)},o.a.createElement("path",{d:"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"}))}}])&&l(n.prototype,r),a&&l(n,a),t}();t.a=f},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"json-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},o.a.createElement("g",null,o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("g",null,o.a.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"})),o.a.createElement("g",null,o.a.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),o.a.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),o.a.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),o.a.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=c},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onPreInputEvent",value:function(e){return!1}},{key:"onInputEvent",value:function(e){return!1}},{key:"onAltInputEvent",value:function(e){return!1}},{key:"onDblInputEvent",value:function(e){return!1}},{key:"onDragStart",value:function(e){return!1}},{key:"onDragMove",value:function(e){}},{key:"onDragStop",value:function(e){}},{key:"onPostInputEvent",value:function(e){}},{key:"onZoomChange",value:function(e,t,n){return!0}}])&&r(t.prototype,n),o&&r(t,o),e}();function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,u(t).call(this)))._prevX=0,e._prevY=0,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o),n=t,(r=[{key:"onDragStart",value:function(e){return this._prevX=e.x,this._prevY=e.y,!0}},{key:"onDragMove",value:function(e){var t=e.x-this._prevX,n=e.y-this._prevY;return e.getAdapter().getViewport().addOffset(t,n,!0),!0}},{key:"onDragStop",value:function(e){return!0}}])&&a(n.prototype,r),i&&a(n,i),t}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(e,n){var r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=!(i=h(t).call(this))||"object"!==f(i)&&"function"!=typeof i?v(o):i,!e)throw new Error("Missing module for input controller");if(!n)throw new Error("Missing inputAdapter for input controller");return r._module=e,r._inputAdapter=n.setController(v(v(r))),r._viewportInputHandler=new c,r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o),n=t,(r=[{key:"initialize",value:function(e){}},{key:"destroy",value:function(e){}},{key:"update",value:function(e){}},{key:"onPreInputEvent",value:function(e){return!1}},{key:"onInputEvent",value:function(e){return!1}},{key:"onAltInputEvent",value:function(e){return this.onInputEvent(e)}},{key:"onDblInputEvent",value:function(e){return!1}},{key:"onDragStart",value:function(e){return this._viewportInputHandler.onDragStart(e)}},{key:"onDragMove",value:function(e){return this._viewportInputHandler.onDragMove(e)}},{key:"onDragStop",value:function(e){return this._viewportInputHandler.onDragStop(e)}},{key:"onPostInputEvent",value:function(e){}},{key:"onZoomChange",value:function(e,t,n){return this._viewportInputHandler.onZoomChange(e,t,n)}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getModule",value:function(){return this._module}}])&&p(n.prototype,r),i&&p(n,i),t}();t.a=d},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=(n(103),n(4));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,s(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"create-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&l(n.prototype,r),i&&l(n,i),t}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"move-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&h(n.prototype,r),i&&h(n,i),t}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,_(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.inputController,t=this.props.graphController,n=e.isActionMode(t);return o.a.createElement("div",{id:"cursor-btn"},o.a.createElement(i.a,{id:"action-mode",className:n?"active":"",onClick:function(){return e.setInputScheme(!0)},title:I18N.toString("cursor.actionmode")},o.a.createElement(f,null)),o.a.createElement(i.a,{id:"move-mode",className:n?"":"active",onClick:function(){return e.setInputScheme(!1)},title:I18N.toString("cursor.movemode")},o.a.createElement(g,null)))}}])&&b(n.prototype,r),a&&b(n,a),t}();t.a=S},,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?s(r):o).onClick=n.onClick.bind(s(s(n))),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.message;switch(e.target.value){case"convert":this.props.machineController.convertMachineTo("DFA"),t.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){var e=this.props.machineController.getMachineBuilder().getMachine().getStates().length;return o.a.createElement("div",null,o.a.createElement("p",null,I18N.toString("message.warning.convertNFAToDFA")),o.a.createElement("p",null,"".concat(e," states -> ").concat(Math.pow(2,e)," states")),o.a.createElement("button",{value:"convert",onClick:this.onClick},I18N.toString("message.action.convert")))}}])&&a(n.prototype,r),c&&a(n,c),t}();t.a=c},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.history=[],this.offsetIndex=0}var t,n,o;return t=e,(n=[{key:"clear",value:function(){this.history.length=0,this.offsetIndex=0}},{key:"captureEvent",value:function(e){for(;this.offsetIndex>0;)this.history.pop(),--this.offsetIndex;for(this.history.push(e);this.history.length>1e3;)this.history.unshift()}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.history.length-this.offsetIndex-1];++this.offsetIndex,e.applyUndo()}}},{key:"canUndo",value:function(){return this.offsetIndex<this.history.length}},{key:"redo",value:function(){this.canRedo()&&(--this.offsetIndex,this.history[this.history.length-this.offsetIndex-1].applyRedo())}},{key:"canRedo",value:function(){return this.offsetIndex>0}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},function(e,t,n){"use strict";var r=n(1);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._adapter=t,this._element=n,this._viewport=r,this._active=!1,this._x=0,this._y=0,this._inputpos={x:0,y:0}}var t,n,r;return t=e,(n=[{key:"setPosition",value:function(e,t){return this._x=e,this._y=t,this}},{key:"beginInput",value:function(){this._active=!0,this._inputpos.x=this._x,this._inputpos.y=this._y}},{key:"getInputEventPosition",value:function(){return this._inputpos}},{key:"changeInputEventPosition",value:function(e,t){this._inputpos.x=e,this._inputpos.y=t}},{key:"endInput",value:function(){this._active=!1}},{key:"isActive",value:function(){return this._active}},{key:"getDistanceSquToInitial",value:function(){var e=this._inputpos,t=e.x-this._x,n=e.y-this._y;return t*t+n*n}},{key:"getElement",value:function(){return this._element}},{key:"getViewport",value:function(){return this._viewport}},{key:"getAdapter",value:function(){return this._adapter}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}])&&o(t.prototype,n),r&&o(t,r),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=null,this._offsetX=0,this._offsetY=0,this._nextOffsetX=0,this._nextOffsetY=0,this._offsetDamping=.1,this._scaleFactor=1,this._minScale=1,this._maxScale=1}var t,n,r;return t=e,(n=[{key:"setElement",value:function(e){return this._element=e,this}},{key:"setMinScale",value:function(e){return this._minScale=e,this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale),this}},{key:"setMaxScale",value:function(e){return this._maxScale=e,this._scaleFactor>this._maxScale&&(this._scaleFactor=this._maxScale),this}},{key:"setOffsetDamping",value:function(e){return this._offsetDamping=e,this}},{key:"update",value:function(){var e=this._nextOffsetX-this._offsetX;this._offsetX+=e*this._offsetDamping;var t=this._nextOffsetY-this._offsetY;this._offsetY+=t*this._offsetDamping}},{key:"transformScreenToView",value:function(e,t){if(!this._element)return{x:e-this._offsetX,y:t-this._offsetY};var n=this._element.getScreenCTM();return{x:(e-n.e)/n.a-this._offsetX,y:(t-n.f)/n.d-this._offsetY}}},{key:"setOffset",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._nextOffsetX=this._offsetX=e,this._nextOffsetY=this._offsetY=t):(this._nextOffsetX=e,this._nextOffsetY=t)}},{key:"addOffset",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._offsetX+=e,this._offsetY+=t,this._nextOffsetX=this._offsetX,this._nextOffsetY=this._offsetY):(this._nextOffsetX+=e,this._nextOffsetY+=t)}},{key:"setScale",value:function(e){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,e))}},{key:"addScale",value:function(e){this._scaleFactor+=e,this._scaleFactor>this._maxScale?this._scaleFactor=this._maxScale:this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale)}},{key:"getOffsetX",value:function(){return this._offsetX}},{key:"getOffsetY",value:function(){return this._offsetY}},{key:"getOffsetDamping",value:function(){return this._offsetDamping}},{key:"getScale",value:function(){return this._scaleFactor}},{key:"getMinScale",value:function(){return this._minScale}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getElement",value:function(){return this._element}}])&&a(t.prototype,n),r&&a(t,r),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._controller=null,this._element=null,this._cursor={_mousemove:null,_mouseup:null,_touchmove:null,_touchend:null,_timer:null},this._pointer=null,this._viewport=new l,this._dragging=!1,this._altinput=!1,this._holdInputDelay=r.a.LONG_TAP_TICKS,this._dblInputDelay=r.a.DOUBLE_TAP_TICKS,this._scrollSensitivity=r.a.SCROLL_SENSITIVITY,this._minTapRadius=16*r.a.CURSOR_RADIUS_SQU,this._draggingRadiusSqu=r.a.CURSOR_RADIUS_SQU+r.a.DRAGGING_BUFFER_SQU,this._prevEmptyInput=!1,this._prevEmptyTime=0,this._prevEmptyX=0,this._prevEmptyY=0,this.onContextMenu=this.onContextMenu.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onWheel=this.onWheel.bind(this),this.onMouseDownThenMove=this.onMouseDownThenMove.bind(this),this.onMouseDownThenUp=this.onMouseDownThenUp.bind(this),this.onTouchStartThenMove=this.onTouchStartThenMove.bind(this),this.onTouchStartThenEnd=this.onTouchStartThenEnd.bind(this),this.onDelayedInputDown=this.onDelayedInputDown.bind(this)}var t,n,o;return t=e,(n=[{key:"setController",value:function(e){return this._controller=e,this}},{key:"initialize",value:function(e){if(!(e instanceof SVGElement))throw new Error("Missing SVG element for input adapter's viewport");if(this._element)throw new Error("Trying to initialize an InputAdapter already initialized");this._viewport.setElement(this._element=e),this._pointer=new i(this,this._element,this._viewport),this._element.addEventListener("mousedown",this.onMouseDown),this._element.addEventListener("mousemove",this.onMouseMove),this._element.addEventListener("touchstart",this.onTouchStart),this._element.addEventListener("touchmove",this.onTouchMove),this._element.addEventListener("contextmenu",this.onContextMenu),this._element.addEventListener("wheel",this.onWheel)}},{key:"destroy",value:function(){if(!this._element)throw new Error("Trying to destroy an InputAdapter that is not yet initialized");this._element.removeEventListener("mousedown",this.onMouseDown),this._element.removeEventListener("mousemove",this.onMouseMove),this._element.removeEventListener("touchstart",this.onTouchStart),this._element.removeEventListener("contextmenu",this.onContextMenu),this._element.removeEventListener("wheel",this.onWheel),this._element=null}},{key:"update",value:function(){this._viewport.update()}},{key:"onMouseDown",value:function(e){if(!this._controller)return!1;e.stopPropagation(),e.preventDefault();var t=this._cursor;document.activeElement.blur(),this._element.focus(),t._mousemove&&(document.removeEventListener("mousemove",t._mousemove),t._mousemove=null),t._mouseup&&(document.removeEventListener("mouseup",t._mouseup),t._mouseup=null);var n=e.ctrlKey?2:e.button;return this.onInputDown(e.clientX,e.clientY,n)&&(t._mousemove=this.onMouseDownThenMove,t._mouseup=this.onMouseDownThenUp,document.addEventListener("mousemove",t._mousemove),document.addEventListener("mouseup",t._mouseup)),!1}},{key:"onMouseMove",value:function(e){if(!this._controller)return!1;var t=this._viewport.transformScreenToView(e.clientX,e.clientY);this._pointer.setPosition(t.x,t.y)}},{key:"onMouseDownThenMove",value:function(e){return!!this._controller&&(e.stopPropagation(),e.preventDefault(),this.onInputMove(e.clientX,e.clientY),!1)}},{key:"onMouseDownThenUp",value:function(e){if(!this._controller)return!1;e.stopPropagation(),e.preventDefault();var t=this._cursor;return t._mousemove&&(document.removeEventListener("mousemove",t._mousemove),t._mousemove=null),t._mouseup&&(document.removeEventListener("mouseup",t._mouseup),t._mouseup=null),this.onInputUp(e.clientX,e.clientY),!1}},{key:"onTouchStart",value:function(e){if(!this._controller)return!1;if(1==e.changedTouches.length){e.stopPropagation(),e.preventDefault();var t=this._cursor;document.activeElement.blur(),this._element.focus(),t._touchmove&&(document.removeEventListener("touchmove",t._touchmove),t._touchmove=null),t._touchend&&(document.removeEventListener("touchend",t._touchend),t._touchend=null);var n=e.changedTouches[0];return this.onInputDown(n.clientX,n.clientY,0)&&(t._touchmove=this.onTouchStartThenMove,t._touchend=this.onTouchStartThenEnd,document.addEventListener("touchmove",t._touchmove),document.addEventListener("touchend",t._touchend)),!1}}},{key:"onTouchStartThenEnd",value:function(e){if(!this._controller)return!1;e.stopPropagation(),e.preventDefault();var t=this._cursor;t._touchmove&&(document.removeEventListener("touchmove",t._touchmove),t._touchmove=null),t._touchend&&(document.removeEventListener("touchend",t._touchend),t._touchend=null);var n=e.changedTouches[0];return this.onInputUp(n.clientX,n.clientY),!1}},{key:"onTouchStartThenMove",value:function(e){if(!this._controller)return!1;e.stopPropagation(),e.preventDefault();var t=e.changedTouches[0];return this.onInputMove(t.clientX,t.clientY),!1}},{key:"onContextMenu",value:function(e){return!!this._controller&&(e.stopPropagation(),e.preventDefault(),!1)}},{key:"onWheel",value:function(e){if(!this._controller)return!1;e.stopPropagation(),e.preventDefault();var t=this._controller,n=this._pointer,r=e.deltaY*this._scrollSensitivity,o=this._viewport.getScale(),i=o+r;return t.onZoomChange(n,i,o)&&this._viewport.setScale(i),!1}},{key:"onInputDown",value:function(e,t,n){if(!this._controller)throw new Error("Missing controller for input adapter");var r=this._cursor,o=this._controller,i=this._pointer,a=this._viewport.transformScreenToView(e,t);return i.setPosition(a.x,a.y),this._dragging=!1,this._altinput=2==n,!o.onPreInputEvent(i)&&(i.beginInput(),r._timer=setTimeout(this.onDelayedInputDown,this._holdInputDelay),!0)}},{key:"onDelayedInputDown",value:function(){if(!this._controller)throw new Error("Missing controller for input adapter");this._dragging||(this._altinput=!0)}},{key:"onInputMove",value:function(e,t){if(!this._controller)throw new Error("Missing controller for input adapter");var n=this._controller,r=this._pointer,o=this._viewport.transformScreenToView(e,t);r.setPosition(o.x,o.y),this._dragging?n.onDragMove(r):r.getDistanceSquToInitial()>this._draggingRadiusSqu&&(this._dragging=!0,n.onDragStart(r)||(this._dragging=!1,this.cancelInputEvent()))}},{key:"onInputUp",value:function(e,t){if(!this._controller)throw new Error("Missing controller for input adapter");var n=this._cursor,r=n._timer;r&&(clearTimeout(r),n._timer=null);var o=this._controller,i=this._pointer,a=this._viewport.transformScreenToView(e,t);if(i.setPosition(a.x,a.y),this._dragging)o.onDragStop(i);else if(this._altinput)o.onAltInputEvent(i);else if(!o.onInputEvent(i)){var l=e-this._prevEmptyX,u=t-this._prevEmptyY,s=l*l+u*u,c=Date.now()-this._prevEmptyTime;this._prevEmptyInput&&s<this._minTapRadius&&c<this._dblInputDelay?(o.onDblInputEvent(i),this._prevEmptyInput=!1):(this._prevEmptyInput=!0,this._prevEmptyTime=Date.now(),this._prevEmptyX=e,this._prevEmptyY=t)}i.endInput(),o.onPostInputEvent(i)}},{key:"cancelInputEvent",value:function(){var e=this._controller,t=this._pointer,n=this._cursor;n._mousemove&&(document.removeEventListener("mousemove",n._mousemove),n._mousemove=null),n._mouseup&&(document.removeEventListener("mouseup",n._mouseup),n._mouseup=null);var r=n._timer;r&&(clearTimeout(r),n._timer=null),t.endInput(),e.onPostInputEvent(t)}},{key:"getActiveElement",value:function(){return this._element}},{key:"getViewport",value:function(){return this._viewport}},{key:"getPointerX",value:function(){return this._pointer?this._pointer.x:0}},{key:"getPointerY",value:function(){return this._pointer?this._pointer.y:0}},{key:"isPointerActive",value:function(){return!!this._pointer&&this._pointer.isActive()}},{key:"isUsingTouch",value:function(){return this._cursor._touchmove||this._cursor._touchend}},{key:"isAltInput",value:function(){return this._altinput}},{key:"isDragging",value:function(){return this._dragging}}])&&u(t.prototype,n),o&&u(t,o),e}();t.a=s},function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(117),n(119);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?s(r):o).onExitMessage=n.onExitMessage.bind(s(s(n))),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"onExitMessage",value:function(e){this.props.value.close()}},{key:"render",value:function(){var e=this.props.value;return o.a.createElement("div",{className:"notification-message-container notification-message-type-"+e.getType()+" "+this.props.className,id:this.props.id,style:this.props.style},this.props.children||e.value.split("\\n").map(function(e){return o.a.createElement("p",{key:e},e)})||e,o.a.createElement("button",{onClick:this.onExitMessage},I18N.toString("message.action.close")))}}])&&a(n.prototype,r),c&&a(n,c),t}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.notificationManager;return o.a.createElement("div",{className:"notification-container "+this.props.className,id:this.props.id,style:this.props.style},e.getMessages().map(function(e){var t=e.getID(),n=e.getComponentClass(),r=e.getComponentProps()||{};return o.a.createElement(c,{key:t,value:e},n&&o.a.createElement(n,p({message:e},r)))}))}}])&&h(n.prototype,r),i&&h(n,i),t}();t.a=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(48),a=n.n(i),l=["FIXED: Allow cross-platform bundle building.","FIXED: Corrected 'development' mode while in production.","FIXED: NFA unreachable node checking is wrong.","FIXED: Unreachable node warnings were not treated as notification warnings.","Disabled service worker while in 'development' mode."],u={show:l&&l.length>0,log:"\nChangelog v0.3.2:\n - "+l.join("\n - "),version:"0.3.2"},s=n(8),c=n(15),f=n(21);n(121);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{version:"1.1",id:this.props.id,xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 300 100"},o.a.createElement("style",{type:"text/css"},".st0{fill:none;stroke:#000000;stroke-miterlimit:10;}\n      \t.st1{fill:#FFC82C;stroke:#7E55F3;stroke-width:2;stroke-miterlimit:10;}\n      \t.st2{fill:none;stroke:#000000;stroke-width:2;stroke-miterlimit:10;}\n      \t.st3{font-family:'PTSans-Regular';}\n      \t.st4{font-size:90px;}\n      \t.st5{fill:none;}"),o.a.createElement("path",{className:"st0",d:"M43.7,20.1c0-9.4-8.5-17.1-19.1-17.1"}),o.a.createElement("circle",{className:"st1",cx:"44.1",cy:"45.3",r:"29.6"}),o.a.createElement("polygon",{className:"st2",points:"44.1,42.1 20.2,83.5 68,83.5 "}),o.a.createElement("text",{transform:"matrix(1 0 0 1 74.1533 77.1901)",className:"st3 st4"},"flap.js"),o.a.createElement("path",{className:"st5",d:"M40.9,89c0,2.9,73.6,5.2,164.6,5.2"}),o.a.createElement("path",{className:"st5",d:"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6"}),o.a.createElement("path",{className:"st5",d:"M42.4,83.9c0,7,73,12.6,163.1,12.6"}),o.a.createElement("path",{className:"st5",d:"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6"}),o.a.createElement("path",{className:"st5",d:"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6"}),o.a.createElement("path",{className:"st0",d:"M227.6,72.1c0,13.7-22.7,24.8-50.7,24.8"}),o.a.createElement("path",{className:"st0",d:"M6,20.1C6,10.7,14.5,3.1,25,3.1"}),o.a.createElement("line",{className:"st0",x1:"6",y1:"20.1",x2:"6",y2:"77.2"}),o.a.createElement("path",{className:"st0",d:"M6,77.2C6,88.1,27,96.9,53,96.9"}),o.a.createElement("line",{className:"st0",x1:"57.3",y1:"96.9",x2:"177.4",y2:"96.9"}),o.a.createElement("line",{className:"st0",x1:"53",y1:"96.9",x2:"64.5",y2:"96.9"}))}}])&&h(n.prototype,r),i&&h(n,i),t}();n(123);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,_(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"quote-container"},o.a.createElement("div",{className:"quote"},this.props.value),o.a.createElement("div",{className:"subquote"},this.props.label))}}])&&b(n.prototype,r),i&&b(n,i),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j,x,T=[["Explore what it means to be 'computable'.","- Prof. Mia Minnes"],["Lush has an interactive background in Mozilla","- David"],["Good almost afternoon (I totally didnât just wake up).","- Noah"],["RONALDO IS MY GOD","- David"],["If you dream it, you can do it.","- Walt Disney"],["Never, never, never give up.","- Winston Churchill"],["Don't wait. The time will never be just right.","- Napolean Hill"],["I can, therefore I am.","- Simone Wei"],["Turn your wounds into wisdom.","- Oprah Winfrey"],["Believe you can and you're halfway there.","- Theodore Roosevelt"],["80% of success is showing up.","- Woody Allen"],["A jug fills drop by drop.","- Buddha"],["If you have never failed you have never lived.","- Human"],["Dream big and dare to fail.","- Norman Vaughan"],["Have faith in yourself and in the future.","- Ted Kennedy"],["It's kind of fun to do the impossible.","- Walt Disney"],["Find out who you are and do it on purpose.","- Dolly Parton"],["The only journey is the one within.","- Rainer Maria Rilke"],["Every moment is a fresh beginning.","- T.S. Eliot"],["Be willing to be a beginner every single morning.","- Meister Eckhart"]],M=Math.floor(Math.random()*T.length),I=(x=2,function(e){if(Array.isArray(e))return e}(j=T[M])||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(j,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),D=I[0],L=I[1],A=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=C(t).call(this,e))||"object"!==O(o)&&"function"!=typeof o?N(r):o).footer=null,n.returnHome=null,n.onLaunchButton=n.onLaunchButton.bind(N(N(n))),n.onTutorialButton=n.onTutorialButton.bind(N(N(n))),n.onReturnHomeButton=n.onReturnHomeButton.bind(N(N(n))),n.onReportBugButton=n.onReportBugButton.bind(N(N(n))),n.onAboutButton=n.onAboutButton.bind(N(N(n))),n.onHelpButton=n.onHelpButton.bind(N(N(n))),n.onGithubButton=n.onGithubButton.bind(N(N(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;window.onscroll=function(t){var n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight,r=window.pageYOffset,o=Math.round(n-r)/5;e.footer&&e.returnHome&&(e.footer.style.bottom=o+"px",e.returnHome.style.opacity=r/n)}}},{key:"onLaunchButton",value:function(e){s.a.routeTo(c.a)}},{key:"onTutorialButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md","_blank").focus()}},{key:"onReturnHomeButton",value:function(e){window.scrollTo({top:0,behavior:"smooth"})}},{key:"onReportBugButton",value:function(e){window.open("https://goo.gl/forms/XSil43Xl5xLHsa0E2","_blank").focus()}},{key:"onAboutButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/README.md","_blank").focus()}},{key:"onHelpButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md","_blank").focus()}},{key:"onGithubButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/","_blank").focus()}},{key:"render",value:function(){var e,t=this;return e=window.matchMedia("(max-width: 400px)").matches?"":window.matchMedia("(max-width: 760px)").matches?"Proceed.":window.matchMedia("(max-width: 68em)").matches?"Get Started!":"Launch Workspace",o.a.createElement("div",{className:"landing-container"},o.a.createElement("div",{className:"content-container"},o.a.createElement("header",null,o.a.createElement(g,{id:"logo"})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-quote-container"},o.a.createElement(S,{value:D,label:L})),o.a.createElement("div",{className:"launch-container"},o.a.createElement("div",{className:"set-container"},o.a.createElement("span",{className:"openset"},"{"),o.a.createElement("button",{id:"launch-button",onClick:this.onLaunchButton},e),o.a.createElement("span",{className:"closeset"},"}")),o.a.createElement("div",{id:"tutorial-button-container"},o.a.createElement("button",{id:"tutorial-button",onClick:this.onTutorialButton},"= Want to try our awesome tutorial? =")))),o.a.createElement("div",{ref:function(e){return t.returnHome=e},id:"return-home"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",onClick:this.onReturnHomeButton},o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.a.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})))),o.a.createElement("footer",{ref:function(e){return t.footer=e}},o.a.createElement("div",{className:"utility"},o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onReportBugButton},"Report a Bug")),o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onAboutButton},"About")),o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onHelpButton},"Help"))),o.a.createElement("div",{className:"credits"},o.a.createElement("span",{className:"space"}),o.a.createElement("span",{className:"left"},o.a.createElement("div",null,"Professor"),o.a.createElement("a",{className:"nobreak",onClick:function(){return window.open("http://cseweb.ucsd.edu/~minnes/","_blank").focus()}},"Mia Minnes")),o.a.createElement("span",{className:"right"},o.a.createElement("div",null,"Developers"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/andrew-kuo-790243132/","_blank").focus()}},"Andrew"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/lixuan-lang-3ba206143/","_blank").focus()}},"Lixuan"),o.a.createElement("a",{onClick:function(){return window.open("","_blank").focus()}},"Ravneet"),o.a.createElement("a",{onClick:function(){return window.open("","_blank").focus()}},"Seth"),o.a.createElement("div",null,"+"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/maya-bello-6b8637a7/","_blank").focus()}},"Maya"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/noah-solomon-9a8526129/","_blank").focus()}},"Noah"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/osunadavid/","_blank").focus()}},"David"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/xuanqiang-zhao-364225153/","_blank").focus()}},"Erik")),o.a.createElement("span",{className:"space"})),o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onGithubButton},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})),"Find it on ",o.a.createElement("b",null,"GitHub"))),o.a.createElement("div",{className:"subtitle-container"},o.a.createElement("div",{className:"subtitle"},"Â© 2018 University of California, San Diego. All rights reserved."),o.a.createElement("div",{className:"subtitle"},o.a.createElement("label",null,"Thank you for reading me! Stay amazing!")))))}}])&&k(n.prototype,r),i&&k(n,i),t}(),R=Object(f.hot)(A),F=n(1),G=n(6);window.addEventListener("load",function(e){console.log("Preparing for 'production' environment..."),console.log("Loading web app version '0.3.2'..."),G.a.initialize(),Object(F.b)(),B=document.getElementById("root"),"true"===G.a.getStringFromStorage("enableExperimental")?Promise.all([n.e(0),n.e(2)]).then(n.bind(null,194)).then(function(e){var t=e.default;return s.a.routeTo(t)}):"true"===G.a.getStringFromStorage("skipWelcome")?s.a.routeTo(c.a):s.a.routeTo(R),window.requestAnimationFrame(z)}),window.addEventListener("beforeunload",function(e){if(Object(F.c)(),"true"!==G.a.getStringFromStorage("disableExitWarning")){var t=I18N.toString("alert.window.exit");return(e=e||window.event)&&(e.returnValue=t),t}G.a.terminate()}),window.isUpdateAvailable.then(function(e){if(e){var t="";u&&u.show&&(t+=u.log),console.log("[App] Found update for version 0.3.2..."),window.alert("*** New update available! *** \n Please restart the browser."+(t?"\n"+t:""))}});var B,U=60,H=0;function z(e){(e-H)/U;var t=s.a.getCurrentPage(),n=s.a.getCurrentPageProps();t&&a.a.render(o.a.createElement(t,n),B),H=e,window.requestAnimationFrame(z)}}],[[158,5,0,6]]]);
//# sourceMappingURL=sourcemap/app.bundle.js.map