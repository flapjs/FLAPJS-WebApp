{"version":3,"sources":["webpack:///./src/app/config.js","webpack:///./src/app/util/Downloader.js","webpack:///./src/app/modules/abstract/exporter/AbstractGraphExporter.js","webpack:///./src/app/machine/NFA.js","webpack:///./src/app/machine/util/solveNFA.js","webpack:///./src/app/router.js","webpack:///./src/app/content/HotKeys.js","webpack:///./src/app/content/toolbar/UploadButton.js","webpack:///./src/app/content/toolbar/HelpButton.js","webpack:///./src/app/content/toolbar/MachineName.js","webpack:///./src/app/icons/PageNewIcon.js","webpack:///./src/app/icons/HelpIcon.js","webpack:///./src/app/icons/LanguageIcon.js","webpack:///./src/app/icons/OfflineIcon.js","webpack:///./src/app/icons/BugReportIcon.js","webpack:///./src/app/content/drawer/DrawerExpander.js","webpack:///./src/app/content/drawer/Drawer.js","webpack:///./src/app/content/toolbar/Toolbar.js","webpack:///./src/app/content/workspace/Subtitle.js","webpack:///./src/app/content/workspace/Workspace.js","webpack:///./src/app/tutorial/Tutorial.js","webpack:///./src/app/content/App.js","webpack:///./src/app/landing/components/Logo.js","webpack:///./src/app/landing/components/Quote.js","webpack:///./src/app/landing/components/LandingPage.js","webpack:///./src/app/index.js","webpack:///./src/app/modules/abstract/exporter/GraphImporter.js","webpack:///./src/app/icons/flat/PNGIcon.js","webpack:///./src/app/icons/flat/JPGIcon.js","webpack:///./src/app/modules/abstract/exporter/GraphImageExporter.js","webpack:///./src/app/modules/abstract/panels/exporting/ExportingPanel.js","webpack:///./src/app/util/ColorHelper.js","webpack:///./src/app/system/styleopt/StyleOptionRegistry.js","webpack:///./src/app/system/styleopt/components/StyleInput.js","webpack:///./src/app/modules/abstract/panels/options/OptionGroup.js","webpack:///./src/app/modules/abstract/panels/options/OptionHotkey.js","webpack:///./src/app/modules/abstract/panels/options/OptionsPanel.js","webpack:///./src/app/modules/abstract/AbstractModule.js","webpack:///./src/app/system/formattedinput/FormattedInput.js","webpack:///./src/app/util/Eventable.js","webpack:///./src/app/icons/IconToggle.js","webpack:///./src/app/icons/DropDownIcon.js","webpack:///./src/app/machine/FSA.js","webpack:///./src/app/icons/UploadIcon.js","webpack:///./src/app/icons/SaveIcon.js","webpack:///./src/app/icons/UndoIcon.js","webpack:///./src/app/icons/RedoIcon.js","webpack:///./src/app/system/undomanager/UndoManager.js","webpack:///./src/app/modules/fsa/panels/overview/infoblock/InfoBlock.js","webpack:///./src/app/icons/BoxAddIcon.js","webpack:///./src/app/icons/TriangleIcon.js","webpack:///./src/app/modules/fsa/panels/overview/stateslist/StateTag.js","webpack:///./src/app/modules/fsa/panels/overview/stateslist/StatesList.js","webpack:///./src/app/modules/fsa/panels/overview/alphabetlist/AlphabetTag.js","webpack:///./src/app/modules/fsa/panels/overview/alphabetlist/AlphabetList.js","webpack:///./src/app/modules/fsa/panels/overview/transitiontable/TransitionTable.js","webpack:///./src/app/modules/fsa/panels/overview/transitionfunction/TransitionFunction.js","webpack:///./src/app/modules/fsa/panels/overview/formaldefinition/FormalDefinition.js","webpack:///./src/app/modules/fsa/panels/overview/OverviewPanel.js","webpack:///./src/app/machine/DFA.js","webpack:///./src/app/modules/fsa/testing/TestMode.js","webpack:///./src/app/modules/fsa/testing/TestingInputList.js","webpack:///./src/app/modules/fsa/testing/TestingManager.js","webpack:///./src/app/icons/AddIcon.js","webpack:///./src/app/icons/RemoveIcon.js","webpack:///./src/app/icons/SuccessIcon.js","webpack:///./src/app/icons/FailureIcon.js","webpack:///./src/app/icons/RunningManIcon.js","webpack:///./src/app/modules/fsa/panels/testing/StatusButton.js","webpack:///./src/app/modules/fsa/panels/testing/TestingInput.js","webpack:///./src/app/modules/fsa/panels/testing/components/UploadTestButton.js","webpack:///./src/app/icons/PageNewContentIcon.js","webpack:///./src/app/icons/CloseIcon.js","webpack:///./src/app/modules/fsa/panels/testing/TestingPanel.js","webpack:///./src/app/modules/fsa/notifications/NFAToDFAConversionWarningMessage.js","webpack:///./src/app/modules/fsa/panels/analysis/AnalysisPanel.js","webpack:///./src/app/modules/fsa/panels/about/AboutPanel.js","webpack:///./src/app/modules/abstract/AbstractInputController.js","webpack:///./src/app/modules/fsa/controller/GraphPicker.js","webpack:///./src/app/graph/GraphElement.js","webpack:///./src/app/graph/GraphNode.js","webpack:///./src/app/modules/fsa/graph/FSANode.js","webpack:///./src/app/graph/GraphEdge.js","webpack:///./src/app/graph/QuadraticEdge.js","webpack:///./src/app/modules/fsa/graph/FSAEdge.js","webpack:///./src/app/modules/fsa/controller/InputController.js","webpack:///./src/app/modules/abstract/AbstractGraphController.js","webpack:///./src/app/modules/fsa/graph/GraphLayout.js","webpack:///./src/app/graph/NodalGraph.js","webpack:///./src/app/modules/fsa/graph/FSAGraph.js","webpack:///./src/app/modules/fsa/controller/GraphController.js","webpack:///./src/app/machine/util/convertNFA.js","webpack:///./src/app/modules/fsa/controller/MachineController.js","webpack:///./src/app/modules/fsa/renderer/NodeRenderer.js","webpack:///./src/app/modules/fsa/renderer/EdgeRenderer.js","webpack:///./src/app/modules/fsa/renderer/InitialMarkerRenderer.js","webpack:///./src/app/modules/fsa/renderer/FSAGraphRenderer.js","webpack:///./src/app/content/workspace/renderer/SelectionBoxRenderer.js","webpack:///./src/app/content/workspace/renderer/HighlightRenderer.js","webpack:///./src/app/modules/fsa/renderer/FSAGraphOverlayRenderer.js","webpack:///./src/app/content/viewport/TrashCan.js","webpack:///./src/app/icons/PlayIcon.js","webpack:///./src/app/icons/PauseIcon.js","webpack:///./src/app/icons/StopIcon.js","webpack:///./src/app/modules/fsa/renderer/TestTray.js","webpack:///./src/app/icons/CreateIcon.js","webpack:///./src/app/icons/MoveIcon.js","webpack:///./src/app/content/viewport/CursorMode.js","webpack:///./src/app/modules/fsa/renderer/ViewportRenderer.js","webpack:///./src/app/modules/fsa/builder/MachineLabeler.js","webpack:///./src/app/modules/fsa/builder/MachineBuilder.js","webpack:///./src/app/modules/fsa/notifications/StateUnreachableWarningMessage.js","webpack:///./src/app/modules/fsa/notifications/StateMissingTransitionErrorMessage.js","webpack:///./src/app/modules/fsa/notifications/TransitionErrorMessage.js","webpack:///./src/app/modules/fsa/builder/DFAErrorChecker.js","webpack:///./src/app/modules/fsa/builder/NFAErrorChecker.js","webpack:///./src/app/modules/fsa/builder/FSABuilder.js","webpack:///./src/app/modules/fsa/controller/events/EventHandler.js","webpack:///./src/app/modules/fsa/controller/events/GraphNodeInitialEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/GraphNodeMoveEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/GraphNodeMoveAllEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/GraphEdgeMoveEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/GraphEdgeDestinationEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/GraphEdgeLabelEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserCreateNodeEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserToggleNodeEventHandler.js","webpack:///./src/app/modules/fsa/graph/FSAGraphParser.js","webpack:///./src/app/modules/fsa/controller/events/UserDeleteNodesEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserRenameNodeEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserCreateEdgeEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserDeleteEdgeEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserImportGraphEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/SafeGraphEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserChangeMachineEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserConvertMachineEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserRenameMachineEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserRenameSymbolEventHandler.js","webpack:///./src/app/modules/fsa/controller/events/UserDeleteSymbolEventHandler.js","webpack:///./src/app/modules/fsa/EventManager.js","webpack:///./src/app/modules/fsa/editor/LabelEditor.js","webpack:///./src/app/icons/flat/JSONIcon.js","webpack:///./src/app/modules/fsa/exporter/FSAGraphExporter.js","webpack:///./src/app/icons/flat/XMLIcon.js","webpack:///./src/app/modules/fsa/exporter/JFLAPGraphExporter.js","webpack:///./src/app/modules/fsa/FSAModule.js","webpack:///./src/app/system/inputadapter/InputPointer.js","webpack:///./src/app/system/inputadapter/ViewportAdapter.js","webpack:///./src/app/system/inputadapter/InputAdapter.js","webpack:///./src/app/system/notification/components/NotificationMessage.js","webpack:///./src/app/system/notification/components/NotificationView.js","webpack:///./src/app/icons/IconButton.js","webpack:///./src/app/machine/Symbols.js","webpack:///./src/app/system/notification/NotificationManager.js","webpack:///./src/app/system/notification/Notifications.js","webpack:///./src/app/system/localsave/LocalSave.js","webpack:///./src/app/system/localsave/LocalSaveManager.js","webpack:///./src/app/content/viewport/Viewport.js","webpack:///./src/app/util/MathHelper.js"],"names":["__webpack_require__","d","__webpack_exports__","loadConfig","saveConfig","LOCAL_STORAGE_ID","cfg","jsonString","localStorage","getItem","console","log","jsonData","JSON","parse","clearConfig","Object","assign","e","arguments","length","undefined","_userDefined","_dirty","stringify","setItem","removeItem","_resetOnLoad","setValue","key","value","this","hasOwnProperty","Error","bind","MACHINE_ERRORS_MESSAGE_TAG","MACHINE_CONVERSION_MESSAGE_TAG","ERROR_CHECK_INTERVAL","GRAPH_IMMEDIATE_INTERVAL","SMOOTH_OFFSET_DAMPING","SCROLL_SENSITIVITY","MIN_SCALE","MAX_SCALE","INIT_WAITTIME","STR_TRANSITION_DEFAULT_LABEL","STR_STATE_LABEL","PARALLEL_EDGE_HEIGHT","SELF_LOOP_HEIGHT","SUBMIT_KEY","CLEAR_KEY","TAB_KEY","UP_KEY","DOWN_KEY","DELETE_KEY","DELETE_FORWARD_KEY","DEFAULT_GRAPH_SIZE","NODE_RADIUS","NODE_RADIUS_SQU","NODE_DIAMETER","NODE_RADIUS_INNER","INITIAL_MARKER_OFFSET_X","EDGE_RADIUS","EDGE_RADIUS_SQU","ARROW_WIDTH","PLACEHOLDER_LENGTH","ENDPOINT_RADIUS","ENDPOINT_RADIUS_SQU","HOVER_RADIUS_OFFSET","CURSOR_RADIUS","CURSOR_RADIUS_SQU","DOUBLE_TAP_TICKS","LONG_TAP_TICKS","SPAWN_RADIUS","DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE","DRAGGING_BUFFER","DRAGGING_BUFFER_SQU","PADDING_RADIUS_SQU","Downloader","filename","data","downloadURL","getTextDataURI","filetype","svg","width","height","svgString","XMLSerializer","serializeToString","blob","Blob","type","url","URL","createObjectURL","canvas","document","createElement","ctx","getContext","pixelRatio","window","devicePixelRatio","style","setTransform","image","Image","onload","drawImage","revokeObjectURL","imageURI","toDataURL","replace","src","element","headerIndex","indexOf","substring","setAttribute","display","body","appendChild","click","removeChild","encodeURIComponent","AbstractGraphExporter","_classCallCheck","module","getFileType","fileBlob","getLabel","toUpperCase","NFA","_possibleConstructorReturn","_getPrototypeOf","call","FSA","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_transitions","Symbol","iterator","next","done","symbol","includes","EMPTY","push","err","return","state","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","transition","i","transitions","getOutgoingTransitions","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","dst","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","states","doClosureTransition","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","s","ps","nfaStates","getStates","j","len","concat","solveNFA","solveNFAbyStep","nfa","input","cachedStates","cachedSymbols","getStartState","index","currState","checkedStates","counter","nextStates","nextIndex","cstate","doTerminalTransition","nextState","isFinalState","apply","ROUTER","_current","routeTo","component","getCurrentPage","HotKeys","app","workspace","toolbar","undoManager","graphController","machineController","onKeyDown","getUndoManager","getGraphController","getMachineController","addEventListener","removeEventListener","event","which","metaKey","ctrlKey","exporter","getCurrentModule","getDefaultGraphExporter","machineName","getMachineName","exportToFile","preventDefault","stopPropagation","shiftKey","redo","undo","imageExporters","getImageExporters","imageExporter","getModuleName","UploadButton","props","_this","UploadButton_classCallCheck","onUploadFileChange","_assertThisInitialized","React","Component","files","target","getGraphImporter","importFile","catch","Notifications","addErrorMessage","error","inputID","id","react_default","a","className","title","disabled","onClick","name","onChange","accept","getImportFileTypes","join","htmlFor","children","HelpButton","HelpButton_classCallCheck","HelpButton_getPrototypeOf","HelpButton_assertThisInitialized","hasMessages","addMessage","I18N","toString","open","MachineName","MachineName_classCallCheck","MachineName_getPrototypeOf","MachineName_assertThisInitialized","onFocus","onBlur","setState","blur","onSubmit","PageNewIcon","PageNewIcon_classCallCheck","PageNewIcon_possibleConstructorReturn","PageNewIcon_getPrototypeOf","xmlns","viewBox","fill","HelpIcon","HelpIcon_classCallCheck","HelpIcon_possibleConstructorReturn","HelpIcon_getPrototypeOf","LanguageIcon","LanguageIcon_classCallCheck","LanguageIcon_possibleConstructorReturn","LanguageIcon_getPrototypeOf","OfflineIcon","OfflineIcon_classCallCheck","OfflineIcon_possibleConstructorReturn","OfflineIcon_getPrototypeOf","BugReportIcon","BugReportIcon_classCallCheck","BugReportIcon_possibleConstructorReturn","BugReportIcon_getPrototypeOf","DrawerExpander","DrawerExpander_classCallCheck","DrawerExpander_getPrototypeOf","DrawerExpander_assertThisInitialized","isFullscreen","isOpen","closeDrawer","openDrawer","DEFAULT_TAB_INDEX","MAX_PANEL_THRESHOLD","MIN_PANEL_SIZE","Drawer","Drawer_classCallCheck","Drawer_getPrototypeOf","tabIndex","dragging","onTouchStart","Drawer_assertThisInitialized","onMouseDown","onScroll","_ontouchmove","_ontouchend","prev","x","y","updatePanelSize","touch","changedTouches","onStartDraggingDrawerBorder","clientX","clientY","ev","onStopDraggingDrawerBorder","_this2","onMouseMove","onMouseUp","_this3","currentModule","InfoPanel","getModulePanels","onWheel","map","PanelClass","panelID","DEFAULT_PANELS","content_drawer_DrawerExpander","UNLOCALIZED_NAME","setTab","container","size","matchMedia","matches","viewport","ref","getBoundingClientRect","offsetHeight","offsetWidth","setProperty","EXPORTING_PANEL_TAB_INDEX","OPTIONS_PANEL_TAB_INDEX","Toolbar","Toolbar_classCallCheck","Toolbar_getPrototypeOf","langOn","onMachineNameChange","Toolbar_assertThisInitialized","onMachineNameKeyDown","langOnClick","renameMachine","drawer","graph","getGraph","offline","navigator","onLine","toolbar_MachineName","IconButton","serviceWorker","getRegistration","alert","icons_OfflineIcon","getLocalizedModuleName","confirm","clear","setMachineName","icons_PageNewIcon","toolbar_UploadButton","UploadIcon","canUndo","UndoIcon","canRedo","RedoIcon","isEmpty","SaveIcon","icons_BugReportIcon","toolbar_HelpButton","icons_HelpIcon","activeElement","icons_LanguageIcon","maxWidth","fetchLanguageFile","Subtitle","Subtitle_classCallCheck","Subtitle_possibleConstructorReturn","Subtitle_getPrototypeOf","active","messageTimer","setTimeout","Config","visible","textAnchor","Workspace","Workspace_classCallCheck","Workspace_possibleConstructorReturn","Workspace_getPrototypeOf","inputController","getInputController","getInputAdapter","getViewport","offsetX","getOffsetX","offsetY","getOffsetY","bounds","getBoundingRect","dx","minX","dy","minY","w","EXPORT_PADDING_X","h","EXPORT_PADDING_Y","clone","cloneNode","uiElements","getElementsByClassName","remove","GraphRenderer","getRenderer","GraphOverlayRenderer","Math","max","Number","MIN_VALUE","getScale","halfSize","content_workspace_Subtitle","transform","x1","y1","x2","y2","stroke","_extends","parent","Tutorial","Tutorial_classCallCheck","LocalSave","getStringFromStorage","App","App_classCallCheck","App_getPrototypeOf","inputAdapter","InputAdapter","setMinScale","setMaxScale","setOffsetDamping","UndoManager","_module","Module","App_assertThisInitialized","hotKeys","tutorial","isDangerous","isWaitingForFile","onDragOver","onDragEnter","onDragLeave","onFileDrop","_init","workspaceDOM","initialize","start","registerHandler","onLoadSave","unregisterHandler","terminate","destroy","moduleName","loadFromStorage","importFromData","exportToData","saveToStorage","prevMode","mode","Viewport","DANGEROUS","dataTransfer","items","file","kind","getAsFile","clearData","full","screen","update","content_toolbar_Toolbar","NotificationView","notificationManager","visibility","shouldHideContent","opacity","content_workspace_Workspace","content_drawer_Drawer","hot","Logo","Logo_classCallCheck","Logo_possibleConstructorReturn","Logo_getPrototypeOf","version","cx","cy","r","points","Quote","Quote_classCallCheck","Quote_possibleConstructorReturn","Quote_getPrototypeOf","label","QUOTES","QUOTE_INDEX","floor","random","CONTENT_QUOTE","CONTENT_SUBQUOTE","LandingPage","LandingPage_classCallCheck","LandingPage_getPrototypeOf","footer","returnHome","onLaunchButton","LandingPage_assertThisInitialized","onTutorialButton","onReturnHomeButton","onReportBugButton","onAboutButton","onHelpButton","onGithubButton","onscroll","scrollHeight","documentElement","clientHeight","innerHeight","scroll","pageYOffset","round","bottom","Router","focus","scrollTo","top","behavior","launchText","components_Logo","landing_components_Quote","root","getElementById","Promise","all","then","_ref","_","default","requestAnimationFrame","updateApplication","message","returnValue","isUpdateAvailable","hasUpdate","FRAMES_PER_SECOND","prevtime","time","page","ReactDOM","render","GraphImporter","File","reject","fileName","exporters","getGraphExporters","_loop","canImport","doesSupportFile","endsWith","importFromFile","_loop2","doesSupportData","PNGIcon","PNGIcon_classCallCheck","JPGIcon","JPGIcon_classCallCheck","JPGIcon_possibleConstructorReturn","JPGIcon_getPrototypeOf","GraphImageExporter","imageType","GraphImageExporter_classCallCheck","GraphImageExporter_possibleConstructorReturn","GraphImageExporter_getPrototypeOf","_imageType","_workspace","workspaceDim","baseVal","getSVGForExport","downloadSVG","_get","prototype","ExportingPanel","ExportingPanel_classCallCheck","ExportingPanel_possibleConstructorReturn","ExportingPanel_getPrototypeOf","getTitle","getIconClass","graphExporters","renderExporterButton","defineProperty","get","RGB_WHITE","RGB_BLACK","blendRGB","percent","rgb1","rgb2","blendAmount","abs","invertRGB","rgb","blackwhite","HEXtoRGB","hex","slice","red","green","blue","parseInt","RGBtoHEX","StyleOption","elementSource","propName","inputType","groupName","callback","StyleOptionRegistry_classCallCheck","prop","group","_callback","_value","_defaultValue","computedStyle","shouldPropagateChange","getComputedStyle","newValue","getPropertyValue","trim","setStyle","val","StyleOptionRegistry","_options","Map","_groups","changeCallback","has","set","option","delete","splice","computedStyles","values","updateStyle","StyleInput","StyleInput_classCallCheck","StyleInput_getPrototypeOf","StyleInput_assertThisInitialized","getStyle","OptionGroup","OptionGroup_classCallCheck","OptionGroup_possibleConstructorReturn","OptionGroup_getPrototypeOf","dropdown","createRef","IconToggle","defaultValue","pointerEvents","DropDownIcon","OptionHotkey","OptionHotkey_classCallCheck","OptionHotkey_possibleConstructorReturn","OptionHotkey_getPrototypeOf","keyName","OptionsPanel","OptionsPanel_classCallCheck","OptionsPanel_getPrototypeOf","styleOpts","theme","customTheme","skipWelcome","disableExitWarning","onChangeTheme","OptionsPanel_assertThisInitialized","onChangeModule","opts","invertFunc","opt","color","ColorHelper","getOptionByProp","darkFunc","inverted","registerStyleOption","getOptions","isDefaultStyle","prevTheme","resetStyle","panels_options_OptionGroup","panels_options_OptionHotkey","marginTop","checked","setStringToStorage","getPropsByGroup","components_StyleInput","prompt","DEFAULT_GRAPH_EXPORTERS","DEFAULT_IMAGE_EXPORTERS","AbstractModule","AbstractModule_classCallCheck","_importer","renderLayer","FormattedInput","ignoreSaveOnExit","prevValue","onKeyUp","nextProps","hasFocus","select","filter","captureOnExit","formatValue","resetValue","multiline","_this4","separator","selectionStart","selectionEnd","formatter","_this5","react__WEBPACK_IMPORTED_MODULE_0___default","rows","Eventable","__eventListeners","mixin","targetClass","targetPrototype","registerEvent","eventName","unregisterEvent","listener","listeners","flag","clearEventListeners","countEventListeners","getEventListeners","on","once","f","_len","args","Array","_key","emit","_len2","_key2","onEventProcessed","_states","_finalStates","_customAlphabet","fsa","final","oldState","newState","fromState","toState","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","unshift","isFinal","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","isUsedAlphabet","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","getUsedAlphabet","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","alphabet","getAlphabet","foundSymbols","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","DFA","usedAlphabet","startState","finalStates","history","offsetIndex","eventHandler","pop","applyUndo","applyRedo","InfoBlock","BoxAddIcon","BoxAddIcon_classCallCheck","BoxAddIcon_possibleConstructorReturn","BoxAddIcon_getPrototypeOf","TriangleIcon","TriangleIcon_classCallCheck","TriangleIcon_possibleConstructorReturn","TriangleIcon_getPrototypeOf","StateTag","StateTag_classCallCheck","StateTag_getPrototypeOf","onValueChange","StateTag_assertThisInitialized","newLabel","node","getNodesByLabel","renameNode","deleteTargetNode","keyCode","nodes","isCustom","getNodeCustom","spellCheck","StatesList","StatesList_classCallCheck","StatesList_getPrototypeOf","onStateCreate","StatesList_assertThisInitialized","createNode","overview_infoblock_InfoBlock","icons_TriangleIcon","getNodes","overview_stateslist_StateTag","getGraphElementID","getNodeLabel","getNodeAccept","focusOnNode","icons_BoxAddIcon","AlphabetTag","AlphabetTag_classCallCheck","AlphabetTag_getPrototypeOf","AlphabetTag_assertThisInitialized","newSymbol","oldSymbol","renameSymbol","createSymbol","deleteSymbol","maxLength","AlphabetList","AlphabetList_classCallCheck","AlphabetList_getPrototypeOf","editingTag","editing","onSymbolCreate","AlphabetList_assertThisInitialized","onStopEditing","overview_alphabetlist_AlphabetTag","SRC","SYMBOL","DST","SYMBOL_AXIS","getDestinationFromSourceAndSymbol","machine","isSet","doTransition","isArray","TransitionTable","TransitionTable_classCallCheck","TransitionTable_possibleConstructorReturn","TransitionTable_getPrototypeOf","rowAxis","machineBuilder","getMachine","rowAxisType","getTransitions","isNFAMachine","getMachineType","hasEmptyColumn","scope","startsWith","getSymbolFromSourceAndDestination","TransitionFunction","TransitionFunction_classCallCheck","TransitionFunction_possibleConstructorReturn","TransitionFunction_getPrototypeOf","sort","isNFA","emptrans","empclassName","trans","FormalDefinition","FormalDefinition_classCallCheck","FormalDefinition_possibleConstructorReturn","FormalDefinition_getPrototypeOf","getFinalStates","EMPTY_SET","DELTA","OverviewPanel","OverviewPanel_classCallCheck","OverviewPanel_getPrototypeOf","viewFormal","onChangeMachineType","OverviewPanel_assertThisInitialized","onAutoLayout","onChangeAutoRename","onSubmitAutoStatePrefix","onAutoStateFormat","switchDefinition","applyAutoLayout","changeMachineTo","getMachineBuilder","setAutoRenameNodes","labeler","getLabeler","prefix","sortDefaultNodeLabels","overview_formaldefinition_FormalDefinition","overview_stateslist_StatesList","overview_alphabetlist_AlphabetList","overview_transitionfunction_TransitionFunction","overview_transitiontable_TransitionTable","paddingBottom","marginBottom","flexDirection","background","outline","border","padding","margin","appearance","shouldAutoRenameNodes","DFA_classCallCheck","DFA_possibleConstructorReturn","DFA_getPrototypeOf","isValidDFA","TestMode","testingManager","TestMode_classCallCheck","targets","indexofString","running","started","skipToEnd","timer","onNodeDestroy","prepareForNewTest","hasNextStep","inputList","resetTests","step","onNextStep","onPause","hasPrevInput","previous","prevInput","getCurrentInput","hasNextInput","testInput","setResult","nextInput","currentStep","getCurrentCache","nextChar","getFirstGraphNodeByLabel","skipFunc","curr_state","TestingInputList","TestingInputList_classCallCheck","addInput","inputIndex","reader","FileReader","testInputs","split","abort","readAsText","first","dirty","markDirty","guid","TestingManager","TestingManager_classCallCheck","shouldCheckError","isImmediateErrorCheck","errorCheckMode","NO_ERROR_CHECK","stepByStepMode","testMode","setMachineType","DELAYED_ERROR_CHECK","IMMEDIATE_ERROR_CHECK","isStarted","onStop","onStart","TESTING","AddIcon","AddIcon_classCallCheck","AddIcon_possibleConstructorReturn","AddIcon_getPrototypeOf","RemoveIcon","RemoveIcon_classCallCheck","RemoveIcon_possibleConstructorReturn","RemoveIcon_getPrototypeOf","SuccessIcon","SuccessIcon_classCallCheck","SuccessIcon_possibleConstructorReturn","SuccessIcon_getPrototypeOf","FailureIcon","FailureIcon_classCallCheck","FailureIcon_possibleConstructorReturn","FailureIcon_getPrototypeOf","RunningManIcon","RunningManIcon_classCallCheck","RunningManIcon_possibleConstructorReturn","RunningManIcon_getPrototypeOf","StatusButton","StatusButton_classCallCheck","StatusButton_possibleConstructorReturn","StatusButton_getPrototypeOf","icons_SuccessIcon","icons_FailureIcon","icons_RunningManIcon","TestingInput","TestingInput_classCallCheck","TestingInput_getPrototypeOf","onStatusClick","TestingInput_assertThisInitialized","onSubmitClick","testList","getInputByIndex","testByIndex","isInputFirst","getInput","newTest","removeInputByIndex","getTests","shouldTestOnly","getCurrentInputIndex","panels_testing_StatusButton","placeholder","icons_AddIcon","icons_RemoveIcon","UploadTestButton","UploadTestButton_classCallCheck","UploadTestButton_possibleConstructorReturn","UploadTestButton_getPrototypeOf","uploadInput","PageNewContentIcon","PageNewContentIcon_classCallCheck","PageNewContentIcon_possibleConstructorReturn","PageNewContentIcon_getPrototypeOf","CloseIcon","CloseIcon_classCallCheck","CloseIcon_possibleConstructorReturn","CloseIcon_getPrototypeOf","TestingPanel","TestingPanel_classCallCheck","TestingPanel_getPrototypeOf","getTestingManager","getErrorCheckMode","noTestMode","_savedGraphHash","_ticksSinceHash","stepByStepModeChecked","onChangeErrorCheckMode","TestingPanel_assertThisInitialized","onGraphChange","onTestsRunAll","onTestsClear","onTestsSave","onTestsNew","onTestsUpload","getHashCode","g","importTests","innerHTML","tester","setErrorCheckMode","machineErrorChecker","setStepByStepMode","clearTests","clearTestName","hideTestInputList","downloadText","getTestsAsStrings","showTestInputList","isTestInvalid","isValidMachine","graphHash","icons_PageNewContentIcon","components_UploadTestButton","icons_CloseIcon","panels_testing_TestingInput","NFAToDFAConversionWarningMessage","NFAToDFAConversionWarningMessage_classCallCheck","NFAToDFAConversionWarningMessage_getPrototypeOf","NFAToDFAConversionWarningMessage_assertThisInitialized","convertMachineTo","close","stateCount","pow","AnalysisPanel","AnalysisPanel_classCallCheck","AnalysisPanel_getPrototypeOf","optimizeUnreachOption","optimizeRedundOption","onConvertToDFA","AnalysisPanel_assertThisInitialized","onConvertToNFA","onOptimizeMachine","unreachableArray","getUnreachableNodes","deleteTargetNodes","messageTag","onDeleteAllUnreachable","canOptimize","AboutPanel","AboutPanel_classCallCheck","AboutPanel_possibleConstructorReturn","AboutPanel_getPrototypeOf","AbstractInputController","AbstractInputController_classCallCheck","_inputAdapter","setController","pointer","onInputEvent","zoomValue","GraphPicker","GraphPicker_classCallCheck","selectionBox","fromX","fromY","toX","toY","targetType","initialTarget","initialTargetType","getNodeByInitialMarkerAt","getEdgeByEndPointAt","getNodeAt","getEdgeAt","startNode","getStartNode","center","getEdges","edge","getCenterPoint","end","getEndPoint","box","mx","my","lx","min","ly","clearSelection","getNodesWithin","getSelection","GraphElement","GraphElement_classCallCheck","_id","graphElementID","GraphNode","GraphNode_classCallCheck","GraphNode_possibleConstructorReturn","GraphNode_getPrototypeOf","_label","usePosition","FSANode","FSANode_classCallCheck","FSANode_possibleConstructorReturn","FSANode_getPrototypeOf","_accept","_custom","FSANode_get","GraphEdge","from","to","GraphEdge_classCallCheck","GraphEdge_possibleConstructorReturn","GraphEdge_getPrototypeOf","_from","_to","HALFPI","PI","isPlaceholder","atan2","halfPlaceholderLength","getPlaceholderLength","placeholderLength","getNodeSize","getHashString","GraphEdge_get","getDirectionalVector","dist","angleOffset","angle","cos","sin","getMidPoint","GraphCurvedEdge","QuadraticEdge_classCallCheck","QuadraticEdge_possibleConstructorReturn","QuadraticEdge_getPrototypeOf","_quad","radians","_coords","changeDestinationNode","fromx","fromy","midpointx","midpointy","sqrt","outrad","inrad","maxdr","setQuadratic","getSelfLoopHeight","prevDest","QuadraticEdge_get","formatAsPlaceholder","isSelfLoop","formatAsSelfLoop","isQuadratic","coords","getQuadraticAsCoords","px","py","nodeSize","qcoords","qx","qy","FSAEdge","FSAEdge_classCallCheck","FSAEdge_possibleConstructorReturn","FSAEdge_getPrototypeOf","QuadraticEdge","FSAEdge_get","getEdgeLabel","InputController","InputController_classCallCheck","InputController_possibleConstructorReturn","InputController_getPrototypeOf","_picker","_graphController","prevPointerX","prevPointerY","isNewEdge","ghostInitialMarker","shouldDestroyPointlessEdges","_swapMouseScheme","_trashMode","InputController_get","picker","getPointerX","getPointerY","updateTarget","hasTarget","cursor","getPicker","setInitialTarget","hasSelection","isTargetInSelection","getStepByStepMode","isTrashMode","prevX","prevY","deleteSelectedNodes","deleteTargetEdge","toggleNode","openLabelEditor","isMoveMode","Node","Edge","targetQuad","getQuadratic","prevQuad","createEdge","setEdgeLabel","edgeQuad","beginSelection","prevEdgeTo","getDestinationNode","moveMultipleNodesTo","moveNodeTo","moveEdgeTo","moveEndpointTo","addOffset","isSelecting","updateSelection","formatEdge","deleteEdge","prevInitial","setStartNode","endSelection","clearTarget","enabled","shouldInputFirst","isAltInput","isDragging","isPointerActive","AbstractGraphController","AbstractGraphController_classCallCheck","_graph","GraphLayout","reachableNode","reachable","getReachableState","unreachableNode","numOfReachable","numOfUnreachable","numOfNode","maxNum","radius","degree_re","degree_un","NodalGraph","nodeClass","edgeClass","NodalGraph_classCallCheck","_nodeClass","_edgeClass","_nodes","_edges","_nodeMapping","_edgeMapping","elementID","nullSourceEdges","getSourceNode","_i","setGraphElementID","clearEdges","clearNodes","getNodeCount","getEdgeCount","maxX","maxY","minNX","MAX_VALUE","minNY","maxNX","maxNY","maxNodeSize","minEX","minEY","maxEX","maxEY","startPoint","endPoint","centerPoint","getStartPoint","sx","sy","ex","ey","string","stringHash","FSAGraph","FSAGraph_classCallCheck","FSAGraph_possibleConstructorReturn","FSAGraph_getPrototypeOf","edgeSource","edgeDestination","edgeLabel","getEdgeSymbolsFromLabel","otherEdge","otherSymbols","parallelEdgeHeight","dist12sq","vertical","m","b","x0","y0","GraphController","GraphController_classCallCheck","GraphController_possibleConstructorReturn","GraphController_getPrototypeOf","labelEditorElement","GraphController_get","applyLayout","isPrevCustom","setNodeLabel","setNodeCustom","newNodeLabel","getNextDefaultNodeLabel","setNodeAccept","selectedNode","selection","deleteNode","other","diameter","nextDX","nextDY","pos","getInputEventPosition","changeInputEventPosition","setQuadraticByCoords","sourceNode","prevLabel","openEditor","setOffset","ax","ay","expandPowersetStateToDFA","powerSetState","dfa","getStateFromSet","hasState","newDFAStateFromNFA","terminals","dfaState","newTransition","setFinalState","MachineController","MachineController_classCallCheck","getLabelFormatter","machineType","read","currentMachineType","powerSetStates","getPowerSet","trapState","newAlphabet","convertToDFA","setGraphToMachine","addCustomSymbol","removeCustomSymbol","prevSymbol","nextSymbol","renameCustomSymbol","_symbols","isCustomSymbol","NodeRenderer","NodeRenderer_classCallCheck","NodeRenderer_possibleConstructorReturn","NodeRenderer_getPrototypeOf","userSelect","fontSize","EdgeRenderer","EdgeRenderer_classCallCheck","EdgeRenderer_possibleConstructorReturn","EdgeRenderer_getPrototypeOf","SIXTH_PI","arrowAngle","quadCoords","edgeDir","getEdgeDirection","flipLabel","quadLine","labels","str","yy","alignmentBaseline","InitialMarkerRenderer","InitialMarkerRenderer_classCallCheck","InitialMarkerRenderer_possibleConstructorReturn","InitialMarkerRenderer_getPrototypeOf","FSAGraphRenderer","FSAGraphRenderer_classCallCheck","FSAGraphRenderer_possibleConstructorReturn","FSAGraphRenderer_getPrototypeOf","renderer_NodeRenderer","renderer_EdgeRenderer","renderer_InitialMarkerRenderer","SelectionBoxRenderer","SelectionBoxRenderer_classCallCheck","SelectionBoxRenderer_possibleConstructorReturn","SelectionBoxRenderer_getPrototypeOf","HIGHLIGHT_LINE_ARRAY","HighlightRenderer","HighlightRenderer_classCallCheck","HighlightRenderer_possibleConstructorReturn","HighlightRenderer_getPrototypeOf","endpoint","strokeDashoffset","offset","strokeDasharray","strokeWidth","FSAGraphOverlayRenderer","FSAGraphOverlayRenderer_classCallCheck","FSAGraphOverlayRenderer_possibleConstructorReturn","FSAGraphOverlayRenderer_getPrototypeOf","getSelectionBox","renderer_HighlightRenderer","renderer_SelectionBoxRenderer","warningNodes","warningEdges","errorNodes","errorEdges","TrashCan","TrashCan_classCallCheck","TrashCan_possibleConstructorReturn","TrashCan_getPrototypeOf","staticTrash","setTrashMode","NORMAL","isUsingTouch","onMouseEnter","onTrashEnter","onMouseLeave","onTrashLeave","onTrashClick","PlayIcon","PlayIcon_classCallCheck","PlayIcon_possibleConstructorReturn","PlayIcon_getPrototypeOf","PauseIcon","PauseIcon_classCallCheck","PauseIcon_possibleConstructorReturn","PauseIcon_getPrototypeOf","StopIcon","StopIcon_classCallCheck","StopIcon_possibleConstructorReturn","StopIcon_getPrototypeOf","TestTray","TestTray_classCallCheck","TestTray_possibleConstructorReturn","TestTray_getPrototypeOf","testIndex","getCurrentTestStringIndex","testOffset","MAX_ELLIPSIS_COUNT","onResume","isRunning","icons_PlayIcon","icons_PauseIcon","onPreviousStep","hasPrevStep","isSkipping","icons_StopIcon","CreateIcon","CreateIcon_classCallCheck","CreateIcon_possibleConstructorReturn","CreateIcon_getPrototypeOf","MoveIcon","MoveIcon_classCallCheck","MoveIcon_possibleConstructorReturn","MoveIcon_getPrototypeOf","CursorMode","CursorMode_classCallCheck","CursorMode_possibleConstructorReturn","CursorMode_getPrototypeOf","actionMode","isActionMode","setInputScheme","icons_CreateIcon","icons_MoveIcon","ViewportRenderer","ViewportRenderer_classCallCheck","ViewportRenderer_possibleConstructorReturn","ViewportRenderer_getPrototypeOf","LabelEditor","getLabelEditor","fsa_renderer_TestTray","content_viewport_CursorMode","content_viewport_TrashCan","MachineLabeler","MachineLabeler_classCallCheck","shouldAutoLabel","isDefaultInitial","defaultNodes","customLabels","defaultName","getDefaultNodeLabelByIndex","nodeIndex","isUniqueNodeLabel","MachineBuilder","MachineBuilder_classCallCheck","onGraphNodeLabelChange","targetNodes","enable","StateUnreachableWarningMessage","StateUnreachableWarningMessage_classCallCheck","StateUnreachableWarningMessage_getPrototypeOf","targetIndex","targetLabel","StateUnreachableWarningMessage_assertThisInitialized","buttonValue","StateMissingTransitionErrorMessage","StateMissingTransitionErrorMessage_classCallCheck","StateMissingTransitionErrorMessage_getPrototypeOf","StateMissingTransitionErrorMessage_assertThisInitialized","targetLength","TransitionErrorMessage","TransitionErrorMessage_classCallCheck","TransitionErrorMessage_getPrototypeOf","ARROW","TransitionErrorMessage_assertThisInitialized","focusOnEdge","deleteTargetEdges","text","DFAErrorChecker","DFAErrorChecker_classCallCheck","shouldNotifyErrors","warnNodes","warnEdges","nodeTransitionMap","placeholderEdges","emptyEdges","dupeEdges","currentAlphabet","missingNodes","nodeTransitions","clearMessages","unReachedNodes","edges","shift","nextNodes","nextNode","NFAErrorChecker","NFAErrorChecker_classCallCheck","unReachedNode","fillFSA","setStartState","FSABuilder","FSABuilder_classCallCheck","FSABuilder_getPrototypeOf","_machine","_machineType","_machineValidDFA","_alphabet","_timer","_errorTimer","FSABuilder_assertThisInitialized","onDelayedGraphChange","onDelayedErrorCheck","FSABuilder_get","clearTimeout","toNFA","checkErrors","allowNull","symbols","Set","symbolLength","subsymbol","add","EventHandler","eventLogger","controller","postEventName","EventHandler_classCallCheck","onEvent","eventData","captureEvent","postData","capturePostEvent","GraphEdgeDestinationEventHandler","GraphNodeInitialEventHandler_classCallCheck","GraphNodeInitialEventHandler_possibleConstructorReturn","GraphNodeInitialEventHandler_getPrototypeOf","nextInitial","nodeID","prevID","getNodeByElementID","GraphNodeMoveEventHandler","GraphNodeMoveEventHandler_classCallCheck","GraphNodeMoveEventHandler_possibleConstructorReturn","GraphNodeMoveEventHandler_getPrototypeOf","targetNode","nextX","nextY","GraphNodeMoveAllEventHandler","GraphNodeMoveAllEventHandler_classCallCheck","GraphNodeMoveAllEventHandler_possibleConstructorReturn","GraphNodeMoveAllEventHandler_getPrototypeOf","nodeIDs","GraphEdgeMoveEventHandler","GraphEdgeMoveEventHandler_classCallCheck","GraphEdgeMoveEventHandler_possibleConstructorReturn","GraphEdgeMoveEventHandler_getPrototypeOf","targetEdge","nextQuad","edgeID","getEdgeByElementID","GraphEdgeDestinationEventHandler_classCallCheck","GraphEdgeDestinationEventHandler_possibleConstructorReturn","GraphEdgeDestinationEventHandler_getPrototypeOf","nextDestination","prevDestination","GraphEdgeLabelEventHandler","GraphEdgeLabelEventHandler_classCallCheck","GraphEdgeLabelEventHandler_possibleConstructorReturn","GraphEdgeLabelEventHandler_getPrototypeOf","nextLabel","UserCreateNodeEventHandler","UserCreateNodeEventHandler_classCallCheck","UserCreateNodeEventHandler_possibleConstructorReturn","UserCreateNodeEventHandler_getPrototypeOf","custom","UserToggleNodeEventHandler","UserToggleNodeEventHandler_classCallCheck","UserToggleNodeEventHandler_possibleConstructorReturn","UserToggleNodeEventHandler_getPrototypeOf","prevAccept","nodeDatas","nodeCount","edgeDatas","edgeCount","initialIndex","nodeIndices","nodeData","initialNode","edgeData","destinationNode","quadData","graphNodes","graphEdges","graphInitial","quad","sourceIndex","destinationIndex","initial","_version","XML","NULL","nodeElements","getElementsByTagName","edgeElements","nodeElementIDs","nodeElement","nodeElementID","getAttribute","xElements","xElement","hasChildNodes","xValue","childNodes","parseFloat","nodeValue","yElements","yElement","yValue","boundingRect","transitionMapping","edgeElement","sourceID","fromElements","fromElement","fromValue","destinationID","toElements","toElement","toValue","readElements","readElement","readValue","transitionID","keys","transitionKey","doc","DOMParser","parseFromString","structure","automaton","UserDeleteNodesEventHandler","UserDeleteNodesEventHandler_classCallCheck","UserDeleteNodesEventHandler_possibleConstructorReturn","UserDeleteNodesEventHandler_getPrototypeOf","graphData","FSAGraphParser","targetID","UserRenameNodeEventHandler","UserRenameNodeEventHandler_classCallCheck","UserRenameNodeEventHandler_possibleConstructorReturn","UserRenameNodeEventHandler_getPrototypeOf","prevCustom","UserCreateEdgeEventHandler","UserCreateEdgeEventHandler_classCallCheck","UserCreateEdgeEventHandler_possibleConstructorReturn","UserCreateEdgeEventHandler_getPrototypeOf","fromID","toID","setSourceNode","UserDeleteEdgeEventHandler","UserDeleteEdgeEventHandler_classCallCheck","UserDeleteEdgeEventHandler_possibleConstructorReturn","UserDeleteEdgeEventHandler_getPrototypeOf","prevTo","UserImportGraphEventHandler","UserImportGraphEventHandler_classCallCheck","UserImportGraphEventHandler_possibleConstructorReturn","UserImportGraphEventHandler_getPrototypeOf","graphName","SafeGraphEventHandler","SafeGraphEventHandler_classCallCheck","SafeGraphEventHandler_possibleConstructorReturn","SafeGraphEventHandler_getPrototypeOf","UserChangeMachineEventHandler","UserChangeMachineEventHandler_classCallCheck","UserChangeMachineEventHandler_possibleConstructorReturn","UserChangeMachineEventHandler_getPrototypeOf","nextMachineType","prevMachineType","prevType","nextType","UserConvertMachineEventHandler","UserConvertMachineEventHandler_classCallCheck","UserConvertMachineEventHandler_possibleConstructorReturn","UserConvertMachineEventHandler_getPrototypeOf","UserRenameMachineEventHandler","UserRenameMachineEventHandler_classCallCheck","UserRenameMachineEventHandler_possibleConstructorReturn","UserRenameMachineEventHandler_getPrototypeOf","nextMachineName","prevMachineName","prevName","nextName","UserRenameSymbolEventHandler","UserRenameSymbolEventHandler_classCallCheck","UserRenameSymbolEventHandler_possibleConstructorReturn","UserRenameSymbolEventHandler_getPrototypeOf","targetIDs","UserDeleteSymbolEventHandler","UserDeleteSymbolEventHandler_classCallCheck","UserDeleteSymbolEventHandler_possibleConstructorReturn","UserDeleteSymbolEventHandler_getPrototypeOf","EventManager","EventManager_classCallCheck","eventHandlers","events","GraphNodeInitialEventHandler","RECOMMENDED_SYMBOLS","DEFAULT_SYMBOLS","LabelEditor_classCallCheck","LabelEditor_getPrototypeOf","parentElement","inputElement","_prevValue","onContextMenu","LabelEditor_assertThisInitialized","onFormat","defaultText","saveOnExit","appendValue","closeEditor","targetStyle","screenPos","ctm","getScreenCTM","transformViewToScreen","left","appendSymbol","JSONIcon","JSONIcon_classCallCheck","JSONIcon_possibleConstructorReturn","JSONIcon_getPrototypeOf","FSAGraphExporter","FSAGraphExporter_classCallCheck","FSAGraphExporter_possibleConstructorReturn","FSAGraphExporter_getPrototypeOf","newGraph","JSONGraphParser","machineData","customSymbols","statePrefix","process","getModuleVersion","timestamp","Date","getCustomSymbols","fromJSON","toJSON","resolve","onerror","code","JSONFileIcon","XMLIcon","XMLIcon_classCallCheck","XMLIcon_possibleConstructorReturn","XMLIcon_getPrototypeOf","JFLAPGraphExporter","JFLAPGraphExporter_classCallCheck","JFLAPGraphExporter_possibleConstructorReturn","JFLAPGraphExporter_getPrototypeOf","xmlData","XMLGraphParser","xmlString","XMLFileIcon","PANELS","EXPORTERS","FSAModule","FSAModule_classCallCheck","FSAModule_getPrototypeOf","_refreshRate","_ticks","_inputController","FSAModule_assertThisInitialized","_machineController","_machineBuilder","_eventManager","_testingManager","FSAModule_get","formatAlphabetString","InputPointer","adapter","_adapter","_element","_viewport","_active","_x","_y","_inputpos","ViewportAdapter","ViewportAdapter_classCallCheck","_offsetX","_offsetY","_nextOffsetX","_nextOffsetY","_offsetDamping","_scaleFactor","_minScale","_maxScale","scale","damping","dscale","InputAdapter_classCallCheck","_controller","_cursor","_mousemove","_mouseup","_touchmove","_touchend","_pointer","_dragging","_altinput","_holdInputDelay","_dblInputDelay","_scrollSensitivity","_minTapRadius","_draggingRadiusSqu","_prevEmptyInput","_prevEmptyTime","_prevEmptyX","_prevEmptyY","onMouseDownThenMove","onMouseDownThenUp","onTouchStartThenMove","onTouchStartThenEnd","onDelayedInputDown","SVGElement","setElement","onTouchMove","button","onInputDown","mouse","transformScreenToView","setPosition","onInputMove","onInputUp","deltaY","onZoomChange","setScale","onPreInputEvent","beginInput","onDragMove","getDistanceSquToInitial","onDragStart","cancelInputEvent","onDragStop","onAltInputEvent","dt","now","onDblInputEvent","endInput","onPostInputEvent","isActive","NotificationMessage","onExitMessage","getType","NotificationView_classCallCheck","NotificationView_possibleConstructorReturn","NotificationView_getPrototypeOf","getMessages","getID","ComponentClass","getComponentClass","componentProps","getComponentProps","notification_components_NotificationMessage","Message","handler","tags","componentClass","_handler","_type","messages","tag","INSTANCE","NotificationManager","_messageQueue","shouldReplaceRelated","hasTag","LocalSaveManager","_handlers","_intervalID","_intervalMillis","onIntervalUpdate","millis","doesSupportLocalStorage","setInterval","clearInterval","onAutoSave","saveKey","stringData","hidden","msHidden","webkitHidden","_typeof","Storage","labelEditor","WAITING","s4","hash","imul","charCodeAt"],"mappings":"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","file":"app.bundle.e01b4b51d3c11462eb71.js","sourcesContent":["const LOCAL_STORAGE_ID = \"config\";\n\nconst cfg = {};\ncfg._resetOnLoad = false;\ncfg._userDefined = false;\ncfg._dirty = false;\ncfg.setValue = function(key, value) {\n  if (this.hasOwnProperty(key))\n  {\n    this._userDefined = true;\n    this._dirty = true;\n    this[key] = value;\n  }\n  else\n  {\n    throw new Error(\"Trying to assign value to non-existant key in config\");\n  }\n}.bind(cfg);\nexport default cfg;\n\n//Preferences\n\n//General\ncfg.MACHINE_ERRORS_MESSAGE_TAG = \"machineError\";\ncfg.MACHINE_CONVERSION_MESSAGE_TAG = \"machineConversion\";\n\ncfg.ERROR_CHECK_INTERVAL = 2000;\ncfg.GRAPH_IMMEDIATE_INTERVAL = 50;\n\n//Controller\ncfg.SMOOTH_OFFSET_DAMPING = 0.4;\ncfg.SCROLL_SENSITIVITY = 1.0 / 300.0;\ncfg.MIN_SCALE = 0.1;\ncfg.MAX_SCALE = 10;\n\n//Workspace\ncfg.INIT_WAITTIME = 1500;\n\n//NodalGraph\ncfg.STR_TRANSITION_DEFAULT_LABEL = \"\";\ncfg.STR_STATE_LABEL = \"q\";\ncfg.PARALLEL_EDGE_HEIGHT = 10;\ncfg.SELF_LOOP_HEIGHT = 40;\n\n//Input Fields\ncfg.SUBMIT_KEY = 13; //ENTER\ncfg.CLEAR_KEY = 27; //ESCAPE\ncfg.TAB_KEY = 9; //TAB\ncfg.UP_KEY = 38; //UP\ncfg.DOWN_KEY = 40; //DOWN\ncfg.DELETE_KEY = 8; //DELETE\n\n/** LEGACY CONFIG **/\n\n//Input\ncfg.DELETE_FORWARD_KEY = 46; //DELETE FORWARD\n\n//Geometry\ncfg.DEFAULT_GRAPH_SIZE = 300;\n\ncfg.NODE_RADIUS = 16;\ncfg.NODE_RADIUS_SQU = cfg.NODE_RADIUS * cfg.NODE_RADIUS;\ncfg.NODE_DIAMETER = cfg.NODE_RADIUS * 2;\ncfg.NODE_RADIUS_INNER = 12;\n\ncfg.INITIAL_MARKER_OFFSET_X = -(cfg.NODE_RADIUS + (cfg.NODE_RADIUS / 2));\n\ncfg.EDGE_RADIUS = 12;\ncfg.EDGE_RADIUS_SQU = cfg.EDGE_RADIUS * cfg.EDGE_RADIUS;\ncfg.ARROW_WIDTH = 10;\ncfg.PLACEHOLDER_LENGTH = cfg.NODE_RADIUS * 3;\ncfg.ENDPOINT_RADIUS = 6;\ncfg.ENDPOINT_RADIUS_SQU = cfg.ENDPOINT_RADIUS * cfg.ENDPOINT_RADIUS;\n\ncfg.HOVER_RADIUS_OFFSET = 4;\ncfg.CURSOR_RADIUS = 4;\ncfg.CURSOR_RADIUS_SQU = cfg.CURSOR_RADIUS * cfg.CURSOR_RADIUS;\n\n//Interface\ncfg.DOUBLE_TAP_TICKS = 600;\ncfg.LONG_TAP_TICKS = 600;\ncfg.SPAWN_RADIUS = 64;\ncfg.DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE = true;\ncfg.DRAGGING_BUFFER = 18;\ncfg.DRAGGING_BUFFER_SQU = cfg.DRAGGING_BUFFER * cfg.DRAGGING_BUFFER;\n\n//Graph sorting\ncfg.PADDING_RADIUS_SQU = 2304;\n\n\n/** LOCAL STORAGE FUNCTIONS **/\n\n//check if browser support local storage\nexport function doesSupportLocalStorage()\n{\n  return typeof(Storage) !== 'undefined';\n}\n\nexport function loadConfig()\n{\n  const jsonString = localStorage.getItem(LOCAL_STORAGE_ID);\n  //If cannot find a config...\n  if (!jsonString)\n  {\n    //Just use the default one and don't save anything...\n    console.log(\"Using default config...\");\n    return;\n  }\n\n  try\n  {\n    console.log(\"Loading config...\");\n    const jsonData = JSON.parse(jsonString);\n    if (jsonData['_resetOnLoad'] == true)\n    {\n      //Reset the config\n      clearConfig();\n\n      //Save a new config\n      saveConfig();\n    }\n    else\n    {\n      Object.assign(cfg, jsonData);\n    }\n  }\n  catch (e)\n  {\n    //Reset the config\n    clearConfig();\n  }\n};\n\nexport function saveConfig(forceSave=false)\n{\n  if (forceSave || (cfg._userDefined && cfg._dirty))\n  {\n    try\n    {\n      console.log(\"Saving config...\");\n      const jsonString = JSON.stringify(cfg);\n      localStorage.setItem(LOCAL_STORAGE_ID, jsonString);\n\n      cfg._dirty = false;\n    }\n    catch (e)\n    {\n      //Reset the config\n      clearConfig();\n    }\n  }\n};\n\nexport function clearConfig()\n{\n  localStorage.removeItem(LOCAL_STORAGE_ID);\n\n  cfg._dirty = true;\n};\n","class Downloader\n{\n  static downloadText(filename, data)\n  {\n    Downloader.downloadURL(filename, Downloader.getTextDataURI(data));\n  }\n\n  static downloadSVG(filename, filetype, svg, width, height)\n  {\n    const serializer = new XMLSerializer();\n    const svgString = serializer.serializeToString(svg);\n    const blob = new Blob([svgString], {type:'image/svg+xml'});\n    const url = URL.createObjectURL(blob);\n\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext(\"2d\");\n    const pixelRatio = window.devicePixelRatio || 1;\n    canvas.width = width * pixelRatio;\n    canvas.height = height * pixelRatio;\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\n    const image = new Image();\n    image.onload = () => {\n      ctx.drawImage(image, 0, 0);\n      URL.revokeObjectURL(url);\n\n      const imageURI = canvas.toDataURL('image/' + filetype).replace('image/' + filetype, 'image/octet-stream');\n      Downloader.downloadURL(filename + '.' + filetype, imageURI);\n    };\n    image.src = url;\n  }\n\n  static downloadURL(filename, url)\n  {\n    const element = document.createElement('a');\n    const headerIndex = url.indexOf(\";\");\n    url = url.substring(0, headerIndex + 1) + \"headers=Content-Disposition%3A%20attachment%3B%20filename=\" + filename + \";\" + url.substring(headerIndex + 1);\n    element.setAttribute('href', url);\n    element.setAttribute('download', filename);\n\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  static getTextDataURI(data)\n  {\n    return 'data:text/plain; charset=utf-8,' + encodeURIComponent(data);\n  }\n}\n\nexport default Downloader;\n","class AbstractGraphExporter\n{\n  constructor() {}\n\n  importFromData(data, module)\n  {\n    throw new Error(\"Unsupported import for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  exportToData(module)\n  {\n    throw new Error(\"Unsupported export for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  doesSupportData()\n  {\n    return false;\n  }\n\n  importFromFile(fileBlob, module)\n  {\n    throw new Error(\"Unsupported import for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  exportToFile(filename, module)\n  {\n    throw new Error(\"Unsupported export for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  doesSupportFile()\n  {\n    return false;\n  }\n\n  canImport()\n  {\n    return false;\n  }\n\n  getTitle()\n  {\n    return this.getLabel();\n  }\n\n  getIconClass()\n  {\n    return null;\n  }\n\n  getLabel()\n  {\n    return \"Export as \" + this.getFileType().toUpperCase();\n  }\n\n  getFileType()\n  {\n    throw new Error(\"Unknown file type for exporter\");\n  }\n}\n\nexport default AbstractGraphExporter;\n","import FSA from './FSA.js';\nimport { EMPTY } from './Symbols.js';\n\nconst SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nclass NFA extends FSA\n{\n  constructor()\n  {\n    super();\n  }\n\n  //Override\n  getUsedAlphabet(dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      const symbol = transition[SYMBOL];\n      if (!result.includes(symbol) && symbol != EMPTY)\n      {\n        result.push(symbol);\n      }\n    }\n    return result;\n  }\n\n  //Override\n  doTransition(state, symbol, dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state && transition[SYMBOL] == symbol)\n      {\n        result.push(transition[DST]);\n      }\n    }\n    return result;\n  }\n\n  doClosureTransition(state, dst=[])\n  {\n    const result = dst;\n    result.push(state);\n    for(let i = 0; i < result.length; ++i)\n    {\n      const transitions = this.getOutgoingTransitions(result[i]);\n      for(const transition of transitions)\n      {\n        if (transition[SYMBOL] == EMPTY)\n        {\n          const dst = transition[DST];\n          if (!result.includes(dst))\n          {\n            result.push(dst);\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  doTerminalTransition(state, symbol, dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state && transition[SYMBOL] == symbol)\n      {\n        //Get closure on destination states\n        const states = this.doClosureTransition(transition[DST]);\n        for(const s of states)\n        {\n          if (!result.includes(s))\n          {\n            result.push(s);\n          }\n        }\n      }\n    }\n\n    return result;\n  }\n\n    getPowerSet() {\n        var ps = [[]];\n        var nfaStates = this.getStates();\n        for(var i=0; i < nfaStates.length; i++) {\n            for(var j=0, len = ps.length; j < len; j++) {\n                ps.push(ps[j].concat(nfaStates[i]));\n            }\n        }\n        return ps;\n    }\n}\n\nexport default NFA;\n","import { EMPTY } from 'machine/Symbols.js';\nimport NFA from 'machine/NFA.js'\n\n//This ASSUMES that the passed-in machine is an NFA! (and not a DFA)\nexport function solveNFA(nfa, input)\n{\n  if (typeof input === 'string') input = input[Symbol.iterator]();\n\n  let cachedStates = [];\n  let cachedSymbols = [];\n  cachedStates.push({state: nfa.getStartState(), index: 0});\n  for (let currState of nfa.doClosureTransition(nfa.getStartState()))\n  {\n    cachedStates.push({state: currState , index: 0});\n  }\n  let checkedStates = [];\n  let symbol = null;\n\n  let counter = 0;\n\n  while(cachedStates.length > 0)\n  {\n    symbol = input.next().value;\n    let res = solveNFAbyStep(nfa, symbol, cachedStates, cachedSymbols, checkedStates);\n    if (res) return true;\n\n    //HACK: This is to stop any infinite loops! This will be fixed in the future!\n    ++counter;\n    if (counter > 1000)\n    {\n      return false;\n    }\n  }\n\n  return false;\n}\n\n//TODO: When an empty transition occurs, it does a closure transition.\n//The closure chain will be stored as a group\n//Any future transitions must not re-enter the group\nexport function solveNFAbyStep(nfa, symbol, cachedStates, cachedSymbols, checkedStates)\n{\n  //initialize variables\n  let state = null;\n  let nextStates = [];\n  let nextIndex = 0;\n\n  if (symbol != null)\n  {\n    cachedSymbols.push(symbol);\n  }\n\n  for(let cstate of cachedStates)\n  {\n    state = cstate.state;\n    symbol = cstate.index < cachedSymbols.length ? cachedSymbols[cstate.index] : null;\n\n    if (symbol != null)\n    {\n      //Read to next state...\n      nextIndex = cstate.index + 1;\n      for(let nextState of nfa.doTerminalTransition(state, symbol))\n      {\n        nextStates.push({state: nextState, index: nextIndex});\n      }\n    }\n    else\n    {\n      if (nfa.isFinalState(state)) return true;\n      checkedStates.push(state);\n    }\n\n    //Read none to next state...\n    nextIndex = cstate.index;\n    /*for(let nextState of nfa.doTransition(state,EMPTY))\n    {\n      if (checkedStates.includes(nextState)) continue;\n      if (symbol == null && nfa.isFinalState(nextState)) return true;\n\n      nextStates.push({state: nextState, index: nextIndex});\n    }*/\n  }\n  cachedStates.length = 0\n  cachedStates.push(...nextStates);\n  return false;\n}\n","const ROUTER = {\n  _current: null,\n  routeTo(component)\n  {\n    this._current = component;\n  },\n  getCurrentPage()\n  {\n    return this._current;\n  }\n};\n\nexport default ROUTER;\n","class HotKeys\n{\n  constructor()\n  {\n    this.app = null;\n    this.workspace = null;\n    this.toolbar = null;\n    this.undoManager = null;\n    this.graphController = null;\n    this.machineController = null;\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  initialize(app)\n  {\n    this.app = app;\n    this.workspace = app.workspace;\n    this.toolbar = app.toolbar;\n    this.undoManager = app.getUndoManager();\n    this.graphController = app.getGraphController();\n    this.machineController = app.getMachineController();\n\n    window.addEventListener('keydown', this.onKeyDown);\n  }\n\n  destroy()\n  {\n    window.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  onKeyDown(e)\n  {\n    //Ctrl-S\n    if (event.which == 83 && (event.metaKey || event.ctrlKey))\n    {\n      //Save as machine file\n      const exporter = this.app.getCurrentModule().getDefaultGraphExporter();\n      const machineName = this.machineController.getMachineName();\n      exporter.exportToFile(machineName, this.app.getCurrentModule());\n\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    //Ctrl-Z\n    else if (event.which == 90 && (event.metaKey || event.ctrlKey))\n    {\n      if (event.shiftKey)\n      {\n        //Redo\n        this.undoManager.redo();\n      }\n      else\n      {\n        //Undo\n        this.undoManager.undo();\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    //Ctrl-P\n    else if (event.which == 80 && (event.metaKey || event.ctrlKey))\n    {\n      //Export to PNG\n      const imageExporters = this.app.getCurrentModule().getImageExporters();\n      if (imageExporter.length >= 1)\n      {\n        const exporter = imageExporters[0];\n        const machineName = this.machineController.getMachineName();\n        exporter.exportToFile(machineName, this.app.getCurrentModule());\n      }\n      else\n      {\n        throw new Error(\"Unable to find valid image exporter for module \\'\" + this.app.getCurrentModule().getModuleName() + \"\\'\");\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n}\n\nexport default HotKeys;\n","import React from 'react';\nimport Notifications from 'system/notification/Notifications.js';\n\nclass UploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onUploadFileChange = this.onUploadFileChange.bind(this);\n  }\n\n  onUploadFileChange(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      this.props.app.getCurrentModule().getGraphImporter().importFile(files[0], this.props.app.getCurrentModule())\n        .catch((e) => {\n          Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n          console.error(e);\n        });\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  render()\n  {\n    const inputID = this.props.id + \"-input\";\n    return <button\n      className={\"icon-button button-upload \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.props.onClick}>\n      <input id={inputID} type=\"file\" name=\"import\"\n        style={{display:\"none\"}}\n        onChange={this.onUploadFileChange}\n        accept={this.props.app.getCurrentModule().getGraphImporter().getImportFileTypes().join(\",\")}/>\n      <label htmlFor={inputID}>\n        {this.props.children}\n      </label>\n    </button>;\n  }\n}\n\nexport default UploadButton;\n","import React from 'react';\nimport Notifications from 'system/notification/Notifications.js';\n\nclass HelpButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    if (Notifications.hasMessages())\n    {\n      Notifications.addMessage(I18N.toString(\"message.help.3\"));\n      Notifications.addMessage(I18N.toString(\"message.help.1\"));\n    }\n    else\n    {\n      Notifications.addMessage(I18N.toString(\"message.help.2\"));\n    }\n\n    //The tutorial\n    const LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\n    const newTab = window.open(LINK, '_blank');\n\n    if (this.props.onClick)\n    {\n      this.props.onClick(e);\n    }\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button button-help \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.onClick}>\n      {this.props.children}\n    </button>;\n  }\n}\n\nexport default HelpButton;\n","import React from 'react';\n\nclass MachineName extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      value: null\n    };\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n  }\n\n  onChange(e)\n  {\n    this.setState({value: e.target.value});\n  }\n\n  onKeyDown(e)\n  {\n    if (e.key === 'Escape')\n    {\n      const target = e.target;\n      this.setState({value: null}, () => target.blur());\n      return false;\n    }\n    else if (e.key === 'Enter')\n    {\n      e.target.blur();\n      return false;\n    }\n  }\n\n  onFocus(e)\n  {\n    this.setState({value: this.props.value});\n  }\n\n  onBlur(e)\n  {\n    if (this.state.value)\n    {\n      if (this.props.onSubmit) this.props.onSubmit({value: this.state.value});\n    }\n\n    this.setState({value: null});\n  }\n\n  render()\n  {\n    return <input type=\"text\"\n      className={this.props.className}\n      id={this.props.id}\n      value={this.state.value != null ? this.state.value : this.props.value}\n      onChange={this.onChange}\n      onKeyDown={this.onKeyDown}\n      onFocus={this.onFocus}\n      onBlur={this.onBlur}>\n    </input>;\n  }\n}\n\nexport default MachineName;\n","import React from 'react';\n\nclass PageNewIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"pagenew-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z\"/>\n    </svg>;\n  }\n}\n\nexport default PageNewIcon;\n","import React from 'react';\n\nclass HelpIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"help-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/>\n    </svg>;\n  }\n}\n\nexport default HelpIcon;\n","import React from 'react';\n\nclass LanguageIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"language-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n        <path d={\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 \" +\n        \"22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 \" +\n        \"3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 \" +\n        \"1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 \" +\n        \"1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 \" +\n        \"1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 \" +\n        \"4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 \" +\n        \"1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 \" +\n        \"0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 \" +\n        \"5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 \" +\n        \"14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 \" +\n        \"1.36-.26 2h-3.38z\"}/>\n    </svg>;\n  }\n}\n\nexport default LanguageIcon;\n","import React from 'react';\n\nclass OfflineIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"offline-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n      <path d=\"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02zM11.48 20v-6.26H8L13 4v6.26h3.35L11.48 20z\"/>\n    </svg>;\n  }\n}\n\nexport default OfflineIcon;\n","import React from 'react';\n\nclass BugReportIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return <svg className=\"bugreport-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d={\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 \" +\n      \"3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 \" +\n      \"4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 \" +\n      \"1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 \" +\n      \"3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.\"\n      + \"34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 \" +\n      \"1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 \" +\n      \"15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 \" +\n      \"1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 \" +\n      \".63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07\" +\n      \".47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"}/>\n    </svg>;\n  }\n}\n\nexport default BugReportIcon;\n","import React from 'react';\nimport './DrawerExpander.css';\n\nclass DrawerExpander extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const app = this.props.app;\n    if (app.state.isFullscreen)\n    {\n      app.setState({isFullscreen: false});\n    }\n    else if (app.state.isOpen)\n    {\n      app.closeDrawer();\n    }\n    else\n    {\n      app.openDrawer();\n    }\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const open = app.state.isOpen;\n\n    return <div className={\"drawer-expand\" + (open ? \" open\" : \"\")}\n      onClick={this.onClick}>\n      <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M5 3.737l12.395 8.263-12.395 8.263v-16.526zm-2-3.737v24l18-12-18-12z\"/>\n      </svg>\n    </div>;\n  }\n}\n\nexport default DrawerExpander;\n","import React from 'react';\nimport './Drawer.css';\n\nimport DrawerExpander from './DrawerExpander.js';\n\nimport { DEFAULT_PANELS } from 'modules/abstract/AbstractModule.js';\nconst DEFAULT_TAB_INDEX = 0;\n\nconst MAX_PANEL_THRESHOLD = 50;\nconst MIN_PANEL_SIZE = 300;//180\n\nclass Drawer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      tabIndex: DEFAULT_TAB_INDEX,\n      dragging: false\n    };\n\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onScroll = this.onScroll.bind(this);\n\n    this._ontouchmove = null;\n    this._ontouchend = null;\n  }\n\n  setTab(index)\n  {\n    const app = this.props.app;\n\n    //Open drawer if it is closed\n    if (!app.state.isOpen)\n    {\n      app.openDrawer();\n    }\n    //Full drawer if clicked on same one\n    else\n    {\n      if (this.state.tabIndex === index)\n      {\n        app.openDrawer(!app.state.isFullscreen);\n      }\n    }\n\n    this.setState((prev, props) => {\n      return { tabIndex: index };\n    });\n  }\n\n  onStartDraggingDrawerBorder(x, y)\n  {\n    const app = this.props.app;\n    this.setState({dragging: true});\n\n    //Disable fullscreen if dragging off of it\n    if (app.state.isFullscreen)\n    {\n      app.openDrawer(false);\n    }\n\n    //Update panel to current click position\n    updatePanelSize(app, x, y);\n  }\n\n  onStopDraggingDrawerBorder()\n  {\n    this.setState({dragging: false});\n  }\n\n  onTouchStart(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (this._ontouchmove)\n    {\n      document.removeEventListener(\"touchmove\", this._ontouchmove);\n      this._ontouchmove = null;\n    }\n\n    if (this._ontouchend)\n    {\n      document.removeEventListener(\"touchend\", this._ontouchend);\n      this._ontouchend = null;\n    }\n\n    const app = this.props.app;\n    //Ignore drag move if closed\n    if (!app.state.isOpen)\n    {\n      /*\n      //Opens the drawer if dragging, but closed\n      this.props.app.openDrawer();\n      */\n      this.setState({dragging: false});\n      return;\n    }\n\n    const touch = e.changedTouches[0];\n    this.onStartDraggingDrawerBorder(touch.clientX, touch.clientY);\n\n    this._ontouchmove = function(ev)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const touch = ev.changedTouches[0];\n      updatePanelSize(app, touch.clientX, touch.clientY);\n    };\n\n    document.addEventListener(this._ontouchmove);\n\n    this._ontouchend = function(ev)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const touch = ev.changedTouches[0];\n      updatePanelSize(app, touch.clientX, touch.clientY);\n      this.onStopDraggingDrawerBorder();\n\n      //Remove listeners that are no longer needed\n      document.removeEventListener(\"touchend\", this._ontouchend);\n      document.removeEventListener(\"touchmove\", this._ontouchmove);\n    };\n\n    //Start listening to move and release events\n    document.addEventListener(\"touchend\", this._ontouchend);\n    document.addEventListener(\"touchmove\", this._ontouchmove);\n  }\n\n  onMouseDown(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    const app = this.props.app;\n    //Ignore drag move if closed\n    if (!app.state.isOpen)\n    {\n      /*\n      //Opens the drawer if dragging, but closed\n      this.props.app.openDrawer();\n      */\n      return;\n    }\n\n    this.onStartDraggingDrawerBorder(e.clientX, e.clientY);\n\n    const onMouseMove = (ev) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      updatePanelSize(app, ev.clientX, ev.clientY);\n    };\n\n    const onMouseUp = (ev) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      updatePanelSize(app, ev.clientX, ev.clientY);\n      this.onStopDraggingDrawerBorder();\n\n      //Remove listeners that are no longer needed\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n    };\n\n    //Start listening to move and release events\n    document.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"mousemove\", onMouseMove);\n  }\n\n  onScroll(e)\n  {\n    //if (this.panel)\n    {\n      //TODO: this.panel.container.scrollBy(0, e.deltaY);\n      //TODO: return false;\n    }\n  }\n\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const tabIndex = this.state.tabIndex;\n    const InfoPanel = currentModule ? currentModule.getModulePanels()[0] : null;\n\n    return <div className={\"drawer-container\"} onWheel={this.onScroll}>\n      <div className=\"drawer-content\">\n      {\n        currentModule &&\n        currentModule.getModulePanels().map((PanelClass, i) => {\n          const panelID = i + 1;\n          return <PanelClass key={currentModule.getModuleName() + \":\" + panelID}\n            style={{display: tabIndex == panelID ? \"block\" : \"none\"}}\n            currentModule={currentModule}/>;\n        })\n      }\n      {\n        tabIndex == 0 && InfoPanel != null &&\n        <InfoPanel currentModule={currentModule}/>\n      }\n      {\n        DEFAULT_PANELS.map((PanelClass, i) => {\n          const panelID = -(i + 1);\n          return <PanelClass key={\"default:\" + panelID}\n            style={{display: tabIndex == panelID ? \"block\" : \"none\"}}\n            currentModule={currentModule}/>;\n        })\n      }\n      </div>\n      <div className=\"tab-list\">\n        <DrawerExpander app={app}/>\n        {\n          currentModule &&\n          currentModule.getModulePanels().map((PanelClass, i) => {\n            //Hide panels with no name...\n            if (!PanelClass.UNLOCALIZED_NAME) return;\n\n            const panelID = i + 1;\n            return <button key={currentModule.getModuleName() + \":\" + panelID}\n              className={\"tab-link\" + (tabIndex === panelID ? \" active\" : \"\")}\n              onClick={ev=>this.setTab(panelID)}>\n              {I18N.toString(PanelClass.UNLOCALIZED_NAME || \"component.untitled.title\")}\n            </button>;\n          })\n        }\n        {\n          DEFAULT_PANELS.map((PanelClass, i) => {\n            const panelID = -(i + 1);\n            return <button key={\"default:\" + panelID}\n              className={\"tab-link\" + (tabIndex === panelID ? \" active\" : \"\")}\n              onClick={ev=>this.setTab(panelID)}>\n              {I18N.toString(PanelClass.UNLOCALIZED_NAME || \"component.untitled.title\")}\n            </button>;\n          })\n        }\n        <div className=\"tab-right\"></div>\n      </div>\n\n      <div className={\"drawer-border\" + (this.state.dragging ? \" dragging\" : \"\")}\n        onTouchStart={this.onTouchStart}\n        onMouseDown={this.onMouseDown}>\n      </div>\n    </div>;\n  }\n}\n\nfunction updatePanelSize(app, x, y)\n{\n  const container = app.container;\n  let fullscreen = false;\n  let size = 0;\n  //This is the same criteria as in App.css\n  if (window.matchMedia(\"(max-width: 420px)\").matches)\n  {\n    //Vertical slide\n    const viewportOffsetY = app.viewport.ref.getBoundingClientRect().y;\n    if (y - viewportOffsetY < MAX_PANEL_THRESHOLD)\n    {\n      //Enable fullscreen\n      app.setState((prev, props) => {\n        return {\n          isFullscreen: true\n        };\n      });\n    }\n    else\n    {\n      size = container.offsetHeight - y;\n\n      //Disable fullscreen\n      if (app.state.isFullscreen)\n      {\n        app.setState((prev, props) => {\n          return {\n            isFullscreen: false\n          };\n        });\n      }\n    }\n  }\n  else\n  {\n    //Horizontal slide\n    if (x < MAX_PANEL_THRESHOLD)\n    {\n      //Enable fullscreen\n      app.setState((prev, props) => {\n        return {\n          isFullscreen: true\n        };\n      });\n    }\n    else\n    {\n      size = container.offsetWidth - x;\n\n      //Disable fullscreen\n      if (app.state.isFullscreen)\n      {\n        app.setState((prev, props) => {\n          return {\n            isFullscreen: false\n          };\n        });\n      }\n    }\n  }\n\n  //Make sure is greater than minimum size and vice versa\n  if (size < MIN_PANEL_SIZE) size = MIN_PANEL_SIZE;\n\n  //Set panel size\n  container.style.setProperty(\"--panel-size\", size + \"px\");\n}\nDrawer.EXPORTING_PANEL_TAB_INDEX = -1;\nDrawer.OPTIONS_PANEL_TAB_INDEX = -2;\n\nexport default Drawer;\n","import React from 'react';\nimport './Toolbar.css';\n\nimport Config from 'config.js';\n\nimport UploadButton from \"./UploadButton.js\";\nimport HelpButton from \"./HelpButton.js\";\nimport MachineName from './MachineName.js';\n\nimport IconButton from 'icons/IconButton.js';\n\nimport MoreIcon from 'icons/MoreIcon.js';\nimport UploadIcon from 'icons/UploadIcon.js';\nimport CreateIcon from 'icons/PageNewIcon.js';\n//import CreateIcon from 'icons/CreateIcon.js';\nimport SaveIcon from 'icons/SaveIcon.js';\n//import SaveIcon from 'icons/DiskSaveIcon.js';\nimport UndoIcon from 'icons/UndoIcon.js';\nimport RedoIcon from 'icons/RedoIcon.js';\nimport HelpIcon from 'icons/HelpIcon.js';\nimport LanguageIcon from 'icons/LanguageIcon.js';\nimport OfflineIcon from 'icons/OfflineIcon.js';\nimport OfflinePinIcon from 'icons/OfflinePinIcon.js';\nimport BugReportIcon from 'icons/BugReportIcon.js';\n\nimport Drawer from 'content/drawer/Drawer.js';\n\nconst BUG_REPORT_URL = \"https://goo.gl/forms/XSil43Xl5xLHsa0E2\";\n\nclass Toolbar extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      langOn: false\n    };\n\n    this.onMachineNameChange = this.onMachineNameChange.bind(this);\n    this.onMachineNameKeyDown = this.onMachineNameKeyDown.bind(this);\n    this.langOnClick = this.langOnClick.bind(this);\n  }\n\n  onMachineNameChange(e)\n  {\n    this.props.machineController.renameMachine(e.value);\n  }\n\n  onMachineNameKeyDown()\n  {\n\n  }\n\n  onMachineNameBlur()\n  {\n\n  }\n\n  langOnClick()\n  {\n    this.setState({langOn: !this.state.langOn});\n  }\n\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = app.getCurrentModule();\n    const drawer = this.props.drawer;\n    const graphController = app.getGraphController();\n    const machineController = app.getMachineController();\n    const undoManager = app.getUndoManager();\n\n    const graph = graphController.getGraph();\n\n    const offline = navigator && navigator.onLine;\n\n    return <div className=\"toolbar-container\">\n      <div className=\"toolbar-title\">\n        <div className=\"toolbar-title-name\">\n          {/*Machine Name*/}\n          <MachineName id=\"machine-name\" value={machineController.getMachineName()} onSubmit={this.onMachineNameChange}/>\n          {/*Toolbar Alt. Title*/}\n          <div className=\"toolbar-title-alt\">\n            {/*Offline Button*/}\n            <IconButton id=\"toolbar-lang\" title={I18N.toString(\"action.toolbar.lang\")}\n              onClick={() => {\n                if ('serviceWorker' in navigator)\n                {\n                  if (navigator.serviceWorker.getRegistration(\"./app.html\"))\n                  {\n                    alert(I18N.toString(\"message.offline.ready\"));\n                  }\n                  else\n                  {\n                    alert(I18N.toString(\"message.offline.failed\"));\n                  }\n                }\n                else\n                {\n                  alert(I18N.toString(\"message.offline.nosupport\"));\n                }\n              }} disabled={offline}>\n              <OfflineIcon/>\n            </IconButton>\n            {/*Upload Button\n            <div id=\"toolbar-upload-alt\"\n              title={I18N.toString(\"action.toolbar.uploadmachine\")}>\n              <MoreIcon/>\n            </div>\n            */}\n          </div>\n        </div>\n        {/*Machine Type*/}\n        <label id=\"machine-type\"\n          onClick={()=>drawer.setTab(0)}>\n          {currentModule.getLocalizedModuleName()}\n        </label>\n      </div>\n\n      <div className=\"toolbar-tray\">\n        {/*New Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-new\" title={I18N.toString(\"action.toolbar.newmachine\")}\n          onClick={() => {\n            if (window.confirm(I18N.toString(\"alert.graph.clear\")))\n            {\n              graph.clear();\n              undoManager.clear();\n              machineController.setMachineName(null);\n            }\n          }}>\n          <CreateIcon/>\n        </IconButton>\n        {/*Upload Button*/}\n        <UploadButton className=\"navicon\" id=\"toolbar-upload\" title={I18N.toString(\"action.toolbar.uploadmachine\")}\n          app={app}\n          graphController={graphController}>\n          <UploadIcon/>\n        </UploadButton>\n        {/*Undo Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-undo\" title={I18N.toString(\"action.toolbar.undo\")}\n          disabled={!undoManager.canUndo()}\n          onClick={()=>undoManager.undo()}>\n          <UndoIcon/>\n        </IconButton>\n        {/*Redo Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-redo\" title={I18N.toString(\"action.toolbar.redo\")}\n          disabled={!undoManager.canRedo()}\n          onClick={()=>undoManager.redo()}>\n          <RedoIcon/>\n        </IconButton>\n        {/*Save Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-save\" title={I18N.toString(\"action.toolbar.save\")}\n          onClick={()=>drawer.setTab(Drawer.EXPORTING_PANEL_TAB_INDEX)} disabled={graph.isEmpty()}>\n          <SaveIcon/>\n        </IconButton>\n\n        {/*Right Alt. Toolbar*/}\n        <div className=\"toolbar-tray-alt\">\n          {/*Report a Bug Button*/}\n          <IconButton className=\"navicon\" id=\"toolbar-bug\" title={I18N.toString(\"action.toolbar.bug\")}\n            onClick={e => window.open(BUG_REPORT_URL, '_blank')}>\n            <BugReportIcon/>\n          </IconButton>\n          {/*Help Button*/}\n          <HelpButton className=\"navicon\" id=\"toolbar-help\" title={I18N.toString(\"action.toolbar.help\")}>\n            <HelpIcon/>\n          </HelpButton>\n          {/*Language Button*/}\n          <IconButton className=\"navicon\" id=\"toolbar-lang\" title={I18N.toString(\"action.toolbar.lang\")}\n            onClick={(e) => {document.activeElement.blur(); this.langOnClick();}} >\n            <LanguageIcon/>\n          </IconButton>\n          {/*Language Select*/}\n          <select id=\"toolbar-lang-select\" style={{maxWidth: (this.state.langOn ? \"10em\" : \"0\")}} onChange={(e) => {I18N.fetchLanguageFile(e.target.value);}}>\n            <option value=\"en_us\">English</option>\n            <option value=\"xx_pirate\">Pirate Speak</option>\n          </select>\n        </div>\n      </div>\n    </div>;\n  }\n}\n\nexport default Toolbar;\n","import React from 'react';\nimport './Subtitle.css';\n\nimport Config from 'config.js';\n\nclass Subtitle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = { active: false };\n\n    this.messageTimer = null;\n  }\n\n  componentDidMount()\n  {\n    this.messageTimer = setTimeout(() => {\n      this.setState({ active: true });\n    }, Config.INIT_WAITTIME);\n  }\n\n  render()\n  {\n    const visible = this.state.active ? this.props.visible : false;\n    return <text y=\"-1em\" className={\"graph-ui subtitle\" + (visible ? \" visible\" : \"\")}\n      textAnchor=\"middle\">{I18N.toString(\"message.workspace.empty\")}</text>;\n  }\n}\n\nexport default Subtitle;\n","import React from 'react';\nimport './Workspace.css';\n\nimport Config from 'config.js';\n\nimport Subtitle from './Subtitle.js';\n\nconst WORKSPACE_OFFSET_X = 0;\nconst WORKSPACE_OFFSET_Y = 0;\nconst EXPORT_PADDING_X = 30;\nconst EXPORT_PADDING_Y = 0;\n\nconst GRAPH_RENDER_LAYER = \"graph\";\nconst GRAPH_OVERLAY_RENDER_LAYER = \"graphoverlay\";\n\nclass Workspace extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  getSVGForExport(width, height)\n  {\n    const svg = this.ref;\n    if (!svg) return null;\n\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n\n    const viewport = inputController.getInputAdapter().getViewport();\n    const offsetX = viewport.getOffsetX();\n    const offsetY = viewport.getOffsetY();\n    const bounds = graphController.getGraph().getBoundingRect();\n    const dx = bounds.minX + offsetX - EXPORT_PADDING_X;\n    const dy = bounds.minY + offsetY - EXPORT_PADDING_Y;\n    const w = bounds.width + EXPORT_PADDING_X * 2;\n    const h = bounds.height + EXPORT_PADDING_Y * 2;\n    const clone = svg.cloneNode(true);\n    clone.setAttribute('viewBox', dx + \" \" + dy + \" \" + w + \" \" + h);\n    clone.setAttribute('width', width);\n    clone.setAttribute('height', height);\n\n    //Apply the workspace font (refer to Workspace.css)\n    clone.setAttribute('font-size', \"16px\");\n    clone.setAttribute('font-family', \"monospace\");\n    clone.setAttribute('style', \".graph-ui {display: none;}\");\n\n    /*\n    //TODO: Link the font family to svg\n    const link = document.createElement(\"link\");\n    link.setAttribute(\"rel\", \"stylesheet\");\n    clone.appendChild(link);\n    */\n\n    //Remove unwanted ui elements from image\n    const uiElements = clone.getElementsByClassName(\"graph-ui\");\n    while(uiElements.length > 0)\n    {\n      const e = uiElements[0];\n      e.remove();//This will propagate changes to uiElements, so be careful\n    }\n\n    return clone;\n  }\n\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const inputController = currentModule.getInputController();\n    const machineController = currentModule.getMachineController();\n\n    const GraphRenderer = currentModule.getRenderer(GRAPH_RENDER_LAYER);\n    const GraphOverlayRenderer = currentModule.getRenderer(GRAPH_OVERLAY_RENDER_LAYER);\n\n    const graph = graphController.getGraph();\n    const viewport = inputController.getInputAdapter().getViewport();\n\n    let size = Config.DEFAULT_GRAPH_SIZE * Math.max(Number.MIN_VALUE, viewport.getScale());\n    const halfSize = size / 2;\n\n    //Must not be a block content (must inline)\n    return <svg id=\"workspace-content\" ref={ref=>this.ref=ref}\n      viewBox={(-halfSize + WORKSPACE_OFFSET_X) + \" \"\n        + (-halfSize + WORKSPACE_OFFSET_Y) + \" \"\n        + size + \" \" + size}\n      xmlns=\"http://www.w3.org/2000/svg\">\n\n      {/* Graph subtitle */}\n      <Subtitle visible={graph.isEmpty()}/>\n\n      {/* Graph elements */}\n      <g id=\"workspace-content-elements\" transform={\"translate(\"\n        + viewport.getOffsetX() + \" \"\n        + viewport.getOffsetY() + \")\"}>\n\n        {/* Graph origin crosshair */}\n        <g className=\"graph-ui\">\n          <line x1=\"0\" y1=\"-5\" x2=\"0\" y2=\"5\" stroke=\"#E6E6E6\"/>\n          <line x1=\"-5\" y1=\"0\" x2=\"5\" y2=\"0\" stroke=\"#E6E6E6\"/>\n        </g>\n\n        {/* Graph objects */}\n        { GraphRenderer &&\n          <GraphRenderer {...this.props} parent={this}/> }\n\n        {/* Graph overlays */}\n        { GraphOverlayRenderer &&\n          <GraphOverlayRenderer {...this.props} parent={this}/> }\n      </g>\n    </svg>;\n  }\n}\n\nexport default Workspace;\n","import Notifications from 'system/notification/Notifications.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\nimport Config from 'config.js';\n\nclass Tutorial\n{\n  constructor()\n  {\n    this.app = null;\n  }\n\n  start(app)\n  {\n    if (LocalSave.getStringFromStorage(\"skipWelcome\") !== \"true\")\n    {\n      Notifications.addMessage(I18N.toString(\"message.tutorial.1\"));\n      Notifications.addMessage(I18N.toString(\"message.intro.2\"));\n    }\n  }\n}\n\nexport default Tutorial;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './App.css';\n\nimport Config from 'config.js';\n\n//import Modules from './Modules.js';\n//import Module from 'modules/default/DefaultModule.js';\nimport Module from 'modules/fsa/FSAModule.js';\n\nimport HotKeys from './HotKeys.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nimport Toolbar from './toolbar/Toolbar.js';\nimport Workspace from './workspace/Workspace.js';\nimport Drawer from './drawer/Drawer.js';\nimport Viewport from './viewport/Viewport.js';\nimport Tutorial from 'tutorial/Tutorial.js';\n\nimport InputAdapter from 'system/inputadapter/InputAdapter.js';\nimport Notifications from 'system/notification/Notifications.js';\nimport NotificationView from 'system/notification/components/NotificationView.js';\nimport UndoManager from 'system/undomanager/UndoManager.js';\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    //Create references\n    this.container = null;\n    this.workspace = null;\n    this.viewport = null;\n    this.drawer = null;\n    this.toolbar = null;\n\n    //These need to be initialized before module\n    this.inputAdapter = new InputAdapter();\n    this.inputAdapter.getViewport()\n      .setMinScale(Config.MIN_SCALE)\n      .setMaxScale(Config.MAX_SCALE)\n      .setOffsetDamping(Config.SMOOTH_OFFSET_DAMPING);\n\n    this.undoManager = new UndoManager();\n\n    //Modules should handle its own initialization, regardless of web state\n    //Also, loading from file should be handled by modules themselves\n    this._module = new Module(this);\n    /*\n    Modules['fsa'].fetch((Module) => {\n      const prevModule = this._module;\n      if (prevModule && this._init)\n      {\n        prevModule.destroy(this);\n      }\n\n      this._module = new Module(this);\n\n      if (this._init)\n      {\n        this._module.initialize(this);\n      }\n    });\n    */\n\n    this.hotKeys = new HotKeys();\n    this.tutorial = new Tutorial();\n\n    this.state = {\n      isOpen: true,\n      isDangerous: false,\n      isFullscreen: false,\n      isWaitingForFile: false\n    };\n\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onFileDrop = this.onFileDrop.bind(this);\n\n    this._init = false;\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Initialize input adapter\n    const workspaceDOM = this.workspace.ref;\n    this.inputAdapter.initialize(workspaceDOM);\n\n    //Initialize the module...\n    const module = this.getCurrentModule();\n    module.initialize(this);\n\n    this.hotKeys.initialize(this);\n\n    //Upload drop zone\n    workspaceDOM.addEventListener(\"drop\", this.onFileDrop);\n    workspaceDOM.addEventListener(\"dragover\", this.onDragOver);\n    workspaceDOM.addEventListener(\"dragenter\", this.onDragEnter);\n    workspaceDOM.addEventListener(\"dragleave\", this.onDragLeave);\n\n    //Begin tutorial\n    this.tutorial.start(this);\n\n    LocalSave.initialize();\n\n    LocalSave.registerHandler(this);\n    this.onLoadSave();\n\n    this._init = true;\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    LocalSave.unregisterHandler(this);\n\n    LocalSave.terminate();\n\n    this.hotKeys.destroy();\n\n    this._module.destroy(this);\n\n    this.inputAdapter.destroy();\n\n    //Upload drop zone\n    const workspaceDOM = this.workspace.ref;\n    workspaceDOM.removeEventListener(\"drop\", this.onFileDrop);\n    workspaceDOM.removeEventListener(\"dragover\", this.onDragOver);\n    workspaceDOM.removeEventListener(\"dragenter\", this.onDragEnter);\n    workspaceDOM.removeEventListener(\"dragleave\", this.onDragLeave);\n\n    this._init = false;\n  }\n\n  onLoadSave()\n  {\n    const moduleName = this._module.getModuleName();\n\n    const data = LocalSave.loadFromStorage(\"graph-\" + moduleName);\n    if (data)\n    {\n      const exporter = this._module.getDefaultGraphExporter();\n      exporter.importFromData(data, this._module);\n    }\n  }\n\n  onAutoSave()\n  {\n    const moduleName = this._module.getModuleName();\n\n    const exporter = this._module.getDefaultGraphExporter();\n    const data = exporter.exportToData(this._module);\n    LocalSave.saveToStorage(\"graph-\" + moduleName, data);\n  }\n\n  //Called to prevent default file open\n  onDragOver(ev)\n  {\n    ev.preventDefault();\n  }\n\n  onDragEnter(ev)\n  {\n    ev.preventDefault();\n\n    //Change state\n    this.setState({ isWaitingForFile: true });\n    this.viewport.setState((prev, props) => {\n      return {\n        prevMode: prev.mode,\n        mode: Viewport.DANGEROUS\n      };\n    });\n  }\n\n  onDragLeave(ev)\n  {\n    ev.preventDefault();\n\n    //Revert state\n    this.setState({ isWaitingForFile: false });\n    this.viewport.setState((prev, props) => {\n      return {\n        prevMode: prev.mode,\n        mode: prev.prevMode\n      };\n    });\n  }\n\n  onFileDrop(ev)\n  {\n    //Prevent file from being opened\n    ev.preventDefault();\n\n    //Revert state\n    this.setState({ isWaitingForFile: false });\n    this.viewport.setState((prev, props) => {\n      return {\n        prevMode: prev.mode,\n        mode: prev.prevMode\n      };\n    });\n\n    let fileBlob = null;\n    if (ev.dataTransfer.items)\n    {\n      const length = ev.dataTransfer.items.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        const file = ev.dataTransfer.items[0];\n        if (file.kind === 'file')\n        {\n          fileBlob = file.getAsFile();\n        }\n      }\n    }\n    else\n    {\n      const length = ev.dataTransfer.files.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        fileBlob = ev.dataTransfer.files[0];\n      }\n    }\n\n    if (fileBlob)\n    {\n      this.props.app.getCurrentModule().getGraphImporter().importFile(fileBlob, this._module)\n        .catch((e) => {\n          Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n        });\n    }\n\n    if (ev.dataTransfer.items)\n    {\n      ev.dataTransfer.items.clear();\n    }\n    else\n    {\n      ev.dataTransfer.clearData();\n    }\n  }\n\n  openDrawer(full=null)\n  {\n    if (typeof full === 'boolean')\n    {\n      this.setState((prev, props) => {\n        return { isOpen: true, isFullscreen: full };\n      });\n    }\n    else\n    {\n      this.setState((prev, props) => {\n        return { isOpen: true };\n      });\n    }\n  }\n\n  closeDrawer()\n  {\n    this.setState((prev, props) => {\n      return { isOpen: false };\n    });\n  }\n\n  isDrawerOpen()\n  {\n    return this.state.isOpen;\n  }\n\n  shouldHideContent()\n  {\n    return this.state.isFullscreen && this.state.isOpen;\n  }\n\n  getCurrentModule()\n  {\n    return this._module;\n  }\n\n  getInputController()\n  {\n    return this._module.getInputController();\n  }\n\n  getGraphController()\n  {\n    return this._module.getGraphController();\n  }\n\n  getMachineController()\n  {\n    return this._module.getMachineController();\n  }\n\n  getInputAdapter()\n  {\n    return this.inputAdapter;\n  }\n\n  getUndoManager()\n  {\n    return this.undoManager;\n  }\n\n  render()\n  {\n    const currentModule = this._module;\n    const screen = this.workspace ? this.workspace.ref : null;\n\n    if (this._init)\n    {\n      this.inputAdapter.update();\n      currentModule.update(this);\n    }\n\n    return <div className=\"app-container\" ref={ref=>this.container=ref}>\n      <Toolbar ref={ref=>this.toolbar=ref}\n        app={this}\n        currentModule={currentModule}\n        drawer={this.drawer}/>\n\n      <NotificationView notificationManager={Notifications}/>\n\n      <div className=\"workspace-container\">\n        <div className={\"workspace-main\" +\n          (this.state.isOpen ? \" open\" : \"\")}\n          style={{\n            visibility: this.shouldHideContent() ? \"hidden\" : \"visible\",\n            opacity: this.state.isWaitingForFile ? \"0.1\" : \"1\"\n          }}>\n\n          <Workspace ref={ref=>this.workspace=ref}\n            currentModule={currentModule}/>\n        </div>\n\n        <div className={\"workspace-viewport\" +\n          (this.state.isOpen ? \" open\" : \"\")}\n          style={{\n            visibility: this.shouldHideContent() ? \"hidden\" : \"visible\"\n          }}>\n\n          <Viewport ref={ref=>this.viewport=ref}\n            app={this}\n            currentModule={currentModule}\n            screen={screen}/>\n        </div>\n\n        <div className={\"workspace-drawer\" +\n          (this.state.isOpen ? \" open\" : \"\") +\n          (this.state.isFullscreen ? \" fullscreen\" : \"\")}>\n\n          <Drawer ref={ref=>this.drawer=ref}\n            app={this}\n            currentModule={currentModule}\n            toolbar={this.toolbar}/>\n        </div>\n      </div>\n    </div>;\n  }\n}\n\n//For hotloading this class\nexport default hot(App);\n","import React from 'react';\n\nclass Logo extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return <svg version=\"1.1\" id={this.props.id} xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n    \t viewBox=\"0 0 300 100\">\n      <style type=\"text/css\">\n      {\n      \t`.st0{fill:none;stroke:#000000;stroke-miterlimit:10;}\n      \t.st1{fill:#FFC82C;stroke:#7E55F3;stroke-width:2;stroke-miterlimit:10;}\n      \t.st2{fill:none;stroke:#000000;stroke-width:2;stroke-miterlimit:10;}\n      \t.st3{font-family:'PTSans-Regular';}\n      \t.st4{font-size:90px;}\n      \t.st5{fill:none;}`\n      }\n      </style>\n      <path className=\"st0\" d=\"M43.7,20.1c0-9.4-8.5-17.1-19.1-17.1\"/>\n      <circle className=\"st1\" cx=\"44.1\" cy=\"45.3\" r=\"29.6\"/>\n      <polygon className=\"st2\" points=\"44.1,42.1 20.2,83.5 68,83.5 \"/>\n      <text transform=\"matrix(1 0 0 1 74.1533 77.1901)\" className=\"st3 st4\">flap.js</text>\n      <path className=\"st5\" d=\"M40.9,89c0,2.9,73.6,5.2,164.6,5.2\"/>\n      <path className=\"st5\" d=\"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6\"/>\n      <path className=\"st5\" d=\"M42.4,83.9c0,7,73,12.6,163.1,12.6\"/>\n      <path className=\"st5\" d=\"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6\"/>\n      <path className=\"st5\" d=\"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6\"/>\n      <path className=\"st0\" d=\"M227.6,72.1c0,13.7-22.7,24.8-50.7,24.8\"/>\n      <path className=\"st0\" d=\"M6,20.1C6,10.7,14.5,3.1,25,3.1\"/>\n      <line className=\"st0\" x1=\"6\" y1=\"20.1\" x2=\"6\" y2=\"77.2\"/>\n      <path className=\"st0\" d=\"M6,77.2C6,88.1,27,96.9,53,96.9\"/>\n      <line className=\"st0\" x1=\"57.3\" y1=\"96.9\" x2=\"177.4\" y2=\"96.9\"/>\n      <line className=\"st0\" x1=\"53\" y1=\"96.9\" x2=\"64.5\" y2=\"96.9\"/>\n    </svg>;\n  }\n}\n\nexport default Logo;\n","import React from 'react';\nimport './Quote.css';\n\nclass Quote extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <div className=\"quote-container\">\n      <div className=\"quote\">\n        {this.props.value}\n      </div>\n      <div className=\"subquote\">\n        {this.props.label}\n      </div>\n    </div>;\n  }\n}\n\nexport default Quote;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './LandingPage.css';\n\nimport Router from 'router.js';\n\nimport Logo from './Logo.js';\nimport Quote from './Quote.js';\n\nimport App from 'content/App.js';\n\nconst LAUNCH_BUTTON_TEXT = \"Launch Workspace\";\nconst SMALL_LAUNCH_BUTTON_TEXT = \"Get Started!\";\nconst SMALLER_LAUNCH_BUTTON_TEXT = \"Proceed.\";\nconst TUTORIAL_BUTTON_TEXT = \"= Want to try our awesome tutorial? =\";\n\nconst QUOTES = [\n  [\"Explore what it means to be \\'computable\\'.\", \"- Prof. Mia Minnes\"],\n  [\"Lush has an interactive background in Mozilla\", \"- David\"],\n  [\"Good almost afternoon (I totally didnt just wake up).\", \"- Noah\"],\n  [\"RONALDO IS MY GOD\", \"- David\"],\n  [\"If you dream it, you can do it.\", \"- Walt Disney\"],\n  [\"Never, never, never give up.\", \"- Winston Churchill\"],\n  [\"Don't wait. The time will never be just right.\", \"- Napolean Hill\"],\n  [\"I can, therefore I am.\", \"- Simone Wei\"],\n  [\"Turn your wounds into wisdom.\", \"- Oprah Winfrey\"],\n  [\"Believe you can and you're halfway there.\", \"- Theodore Roosevelt\"],\n  [\"80% of success is showing up.\", \"- Woody Allen\"],\n  [\"A jug fills drop by drop.\", \"- Buddha\"],\n  [\"If you have never failed you have never lived.\", \"- Human\"],\n  [\"Dream big and dare to fail.\", \"- Norman Vaughan\"],\n  [\"Have faith in yourself and in the future.\", \"- Ted Kennedy\"],\n  [\"It's kind of fun to do the impossible.\", \"- Walt Disney\"],\n  [\"Find out who you are and do it on purpose.\", \"- Dolly Parton\"],\n  [\"The only journey is the one within.\", \"- Rainer Maria Rilke\"],\n  [\"Every moment is a fresh beginning.\", \"- T.S. Eliot\"],\n  [\"Be willing to be a beginner every single morning.\", \"- Meister Eckhart\"]\n];\nconst QUOTE_INDEX = Math.floor(Math.random() * QUOTES.length);\nconst [CONTENT_QUOTE, CONTENT_SUBQUOTE] = QUOTES[QUOTE_INDEX];\n\nconst TUTORIAL_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\nconst HELP_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\nconst ABOUT_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/README.md\";\nconst REPORT_BUG_LINK = \"https://goo.gl/forms/XSil43Xl5xLHsa0E2\";\nconst GITHUB_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/\";\n\nconst PROFMINNES_LINK = \"http://cseweb.ucsd.edu/~minnes/\";\nconst MAYA_LINK = \"https://www.linkedin.com/in/maya-bello-6b8637a7/\";\nconst NOAH_LINK = \"https://www.linkedin.com/in/noah-solomon-9a8526129/\";\nconst DAVID_LINK = \"https://www.linkedin.com/in/osunadavid/\";\nconst ERIK_LINK = \"https://www.linkedin.com/in/xuanqiang-zhao-364225153/\";\nconst LIXUAN_LINK = \"https://www.linkedin.com/in/lixuan-lang-3ba206143/\";\nconst ANDREW_LINK = \"https://www.linkedin.com/in/andrew-kuo-790243132/\";\nconst SETH_LINK = \"\";\nconst RAVNEET_LINK = \"\";\n\nclass LandingPage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.footer = null;\n    this.returnHome = null;\n\n    this.onLaunchButton = this.onLaunchButton.bind(this);\n    this.onTutorialButton = this.onTutorialButton.bind(this);\n    this.onReturnHomeButton = this.onReturnHomeButton.bind(this);\n    this.onReportBugButton = this.onReportBugButton.bind(this);\n    this.onAboutButton = this.onAboutButton.bind(this);\n    this.onHelpButton = this.onHelpButton.bind(this);\n    this.onGithubButton = this.onGithubButton.bind(this);\n  }\n\n  componentDidMount()\n  {\n    //Parallax effect for footer\n    window.onscroll = (e) => {\n      let height = Math.max(\n        document.body.scrollHeight, document.documentElement.scrollHeight,\n        document.body.offsetHeight, document.documentElement.offsetHeight,\n        document.body.clientHeight, document.documentElement.clientHeight\n      ) - window.innerHeight;\n      let scroll = window.pageYOffset;\n      const value = Math.round(height - scroll) / 5;\n\n      if (this.footer && this.returnHome)\n      {\n        this.footer.style.bottom = value + \"px\";\n        this.returnHome.style.opacity = (scroll / height);\n      }\n    };\n  }\n\n  onLaunchButton(e)\n  {\n    //import(/* webpackChunkName: \"content\" */ 'content/App.js').then(({ default: _ }) => { Router.routeTo( _ ); });\n    Router.routeTo(App);\n  }\n\n  onTutorialButton(e)\n  {\n    const newTab = window.open(TUTORIAL_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onReturnHomeButton(e)\n  {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  onReportBugButton(e)\n  {\n    const newTab = window.open(REPORT_BUG_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onAboutButton(e)\n  {\n    const newTab = window.open(ABOUT_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onHelpButton(e)\n  {\n    const newTab = window.open(HELP_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onGithubButton(e)\n  {\n    const newTab = window.open(GITHUB_LINK, '_blank');\n    newTab.focus();\n  }\n\n  render()\n  {\n    let launchText;\n\n    //Smallest\n    if (window.matchMedia(\"(max-width: 400px)\").matches)\n    {\n      launchText = \"\";\n    }\n    //Smaller\n    else if (window.matchMedia(\"(max-width: 760px)\").matches)\n    {\n      launchText = SMALLER_LAUNCH_BUTTON_TEXT;\n    }\n    //Small\n    else if (window.matchMedia(\"(max-width: 68em)\").matches)\n    {\n      launchText = SMALL_LAUNCH_BUTTON_TEXT;\n    }\n    //Default\n    else\n    {\n      launchText = LAUNCH_BUTTON_TEXT;\n    }\n\n    return <div className=\"landing-container\">\n\n      <div className=\"content-container\">\n\n        {/* HEADER*/}\n        <header>\n          <Logo id=\"logo\"/>\n        </header>\n\n        {/* CONTENT */}\n        <div className=\"content\">\n          <div className=\"content-quote-container\">\n            <Quote value={CONTENT_QUOTE} label={CONTENT_SUBQUOTE} />\n          </div>\n          <div className=\"launch-container\">\n            <div className=\"set-container\">\n              <span className=\"openset\">{\"{\"}</span>\n              <button id=\"launch-button\" onClick={this.onLaunchButton}>\n                {launchText}\n              </button>\n              <span className=\"closeset\">{\"}\"}</span>\n            </div>\n            <div id=\"tutorial-button-container\">\n              <button id=\"tutorial-button\" onClick={this.onTutorialButton}>\n                {TUTORIAL_BUTTON_TEXT}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div ref={ref=>this.returnHome=ref} id=\"return-home\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"\n            onClick={this.onReturnHomeButton}>\n              <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n              <path d=\"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"/>\n          </svg>\n        </div>\n      </div>\n\n      {/* FOOTER */}\n      <footer ref={ref=>this.footer=ref}>\n        <div className=\"utility\">\n          <div><a className=\"info\" onClick={this.onReportBugButton}>Report a Bug</a></div>\n          <div><a className=\"info\" onClick={this.onAboutButton}>About</a></div>\n          <div><a className=\"info\" onClick={this.onHelpButton}>Help</a></div>\n        </div>\n        <div className=\"credits\">\n          <span className=\"space\"></span>\n          <span className=\"left\">\n            <div>Professor</div>\n            <a className=\"nobreak\" onClick={()=>window.open(PROFMINNES_LINK, '_blank').focus()}>Mia Minnes</a>\n          </span>\n          <span className=\"right\">\n            <div>Developers</div>\n            <a onClick={()=>window.open(ANDREW_LINK, '_blank').focus()}>Andrew</a>\n            <a onClick={()=>window.open(LIXUAN_LINK, '_blank').focus()}>Lixuan</a>\n            <a onClick={()=>window.open(RAVNEET_LINK, '_blank').focus()}>Ravneet</a>\n            <a onClick={()=>window.open(SETH_LINK, '_blank').focus()}>Seth</a>\n            <div>+</div>\n            <a onClick={()=>window.open(MAYA_LINK, '_blank').focus()}>Maya</a>\n            <a onClick={()=>window.open(NOAH_LINK, '_blank').focus()}>Noah</a>\n            <a onClick={()=>window.open(DAVID_LINK, '_blank').focus()}>David</a>\n            <a onClick={()=>window.open(ERIK_LINK, '_blank').focus()}>Erik</a>\n          </span>\n          <span className=\"space\"></span>\n        </div>\n\n        <div>\n          <a className=\"info\" onClick={this.onGithubButton}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n              <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n              <path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>\n            </svg>\n            Find it on <b>GitHub</b>\n          </a>\n        </div>\n\n        <div className=\"subtitle-container\">\n          <div className=\"subtitle\">\n            {\"\\u00A9 2018 University of California, San Diego. All rights reserved.\"}\n          </div>\n          <div className=\"subtitle\">\n            <label>{\"Thank you for reading me! Stay amazing!\"}</label>\n          </div>\n        </div>\n      </footer>\n    </div>;\n  }\n}\n\n//For hotloading this class\nexport default hot(LandingPage);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n//Router: imports\nimport Router from 'router.js';\nimport App from 'content/App.js';\nimport LandingPage from 'landing/components/LandingPage.js';\n\n//Config: imports\nimport Config from 'config.js';\nimport { loadConfig, saveConfig } from 'config.js';\nconst AUTOSAVE_CONFIG = true;\n//LocalSave: imports\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nconst SHOULD_WARN_USERS_ON_EXIT = true;\n\n//Setup viewport\nwindow.addEventListener('load', (event) => {\n  console.log(\"Preparing for \\'\" + process.env.NODE_ENV + \"\\' environment...\");\n  loadApplication();\n  window.requestAnimationFrame(updateApplication);\n});\n\n//Warn user before exit\nwindow.addEventListener('beforeunload', (event) => {\n  //Config: Only save if changes were made\n  if (AUTOSAVE_CONFIG) saveConfig();\n\n  if (SHOULD_WARN_USERS_ON_EXIT && LocalSave.getStringFromStorage(\"disableExitWarning\") !== \"true\")\n  {\n    const message = I18N.toString(\"alert.window.exit\");\n    event = event || window.event;\n    // For IE and Firefox\n    if (event) event.returnValue = message;\n\n    //For Safari\n    return message;\n  }\n});\n\n//Tell the client that an update is available\nwindow.isUpdateAvailable.then(hasUpdate => {\n  if (hasUpdate)\n  {\n    console.log(\"[App] Found update for version \" + process.env.VERSION + \"...\");\n    window.alert(\"*** New update available! *** \\n Please restart the browser.\");\n  }\n});\n\n//Setup application\nconst FRAMES_PER_SECOND = 60;\nvar prevtime = 0;\nvar root;\nvar dt;\n\n//Load application\nfunction loadApplication()\n{\n  loadConfig();\n  root = document.getElementById(\"root\");\n\n  //This should be the same as the one referred to by OptionsPanel\n  if (LocalSave.getStringFromStorage(\"enableExperimental\") === \"true\")\n  {\n    import(/* webpackChunkName: \"experimental\" */ 'experimental/App.js')\n      .then(({ default: _ }) => Router.routeTo( _ ));\n  }\n  else if (LocalSave.getStringFromStorage(\"skipWelcome\") === \"true\")\n  {\n    Router.routeTo(App);\n  }\n  else\n  {\n    Router.routeTo(LandingPage);\n  }\n}\n\n//Update application\nfunction updateApplication(time)\n{\n  dt = (time - prevtime) / FRAMES_PER_SECOND;\n  {\n    const page = Router.getCurrentPage();\n    if (page)\n    {\n      ReactDOM.render(React.createElement(page), root);\n    }\n  }\n  prevtime = time;\n  window.requestAnimationFrame(updateApplication);\n}\n","class GraphImporter\n{\n  constructor(module)\n  {\n    this._module = module;\n  }\n\n  importFile(fileBlob, module)\n  {\n    if (!fileBlob) throw new Error(\"Unable to import null file\");\n    if (!(fileBlob instanceof File)) throw new Error(\"Unable to import object as file\");\n\n    let result = Promise.reject();\n    const fileName = fileBlob.name;\n    const exporters = module.getGraphExporters();\n\n    for(const exporter of exporters)\n    {\n      if (exporter.canImport() && exporter.doesSupportFile() && fileName.endsWith(exporter.getFileType()))\n      {\n        result = result.catch(e => exporter.importFromFile(fileBlob, module));\n      }\n    }\n\n    return result.catch(e => {\n      console.error(e);\n      throw new Error(\"Cannot find valid exporter for file: \" + fileName);\n    });\n  }\n\n  importData(data, module)\n  {\n    if (!data) throw new Error(\"Unable to import null data\");\n\n    let result = Promise.reject();\n    const exporters = module.getGraphExporters();\n\n    for(const exporter of exporters)\n    {\n      if (exporter.canImport() && exporter.doesSupportData())\n      {\n        result = result.catch(e => exporter.importFromData(data, module));\n      }\n    }\n\n    return result.catch(e => {\n      throw new Error(\"Cannot find valid exporter for data: \" + JSON.stringify(data));\n    });\n  }\n\n  getImportFileTypes()\n  {\n    return this._module.getGraphExporters().map(e => {\n      if (!e.canImport() || !e.doesSupportFile()) return null;\n      return '.' + e.getFileType();\n    });\n  }\n}\n\nexport default GraphImporter;\n","//https://www.flaticon.com/free-icon/png_136523\nimport React from 'react';\n\nclass PNGIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"png-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <path fill=\"#659C35\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d=\"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z\"/>\n          <path fill=\"#FFFFFF\" d=\"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z\"/>\n          <path fill=\"#FFFFFF\" d={\"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 \" +\n            \"S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 \" +\n            \"c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 \" +\n            \"c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 \" +\n            \"c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 \" +\n            \"c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 \" +\n            \"c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 \" +\n            \"c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 \" +\n            \"c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z\"}/>\n        </g>\n        <circle fill=\"#F3D55B\" cx=\"18.931\" cy=\"14.431\" r=\"4.569\"/>\n        <polygon fill=\"#88C057\" points=\"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t\"/>\n      </g>\n    </svg>;\n  }\n}\n\nexport default PNGIcon;\n","//https://www.flaticon.com/free-icon/jpg_136524\nimport React from 'react';\n\nclass JPGIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"jpg-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <circle fill=\"#F3D55B\" cx=\"18.931\" cy=\"14.431\" r=\"4.569\"/>\n        <polygon fill=\"#26B99A\" points=\"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t\"/>\n        <path fill=\"#14A085\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d={\"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 \" +\n            \"c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 \" +\n            \"c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 \" +\n            \"c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 \" +\n            \"s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 \" +\n            \"c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 \" +\n            \"c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 \" +\n            \"s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 \" +\n            \"c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 \" +\n            \"c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 \" +\n            \"s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 \" +\n            \"c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 \" +\n            \"c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 \" +\n            \"c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 \" +\n            \"c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 \" +\n            \"c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 \" +\n            \"c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 \" +\n            \"c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 \" +\n            \"v-1.121H39.5z\"}/>\n        </g>\n      </g>\n    </svg>;\n  }\n}\n\nexport default JPGIcon;\n","import AbstractGraphExporter from './AbstractGraphExporter.js';\n\nimport PNGIcon from 'icons/flat/PNGIcon.js';\nimport JPGIcon from 'icons/flat/JPGIcon.js';\nimport Downloader from 'util/Downloader.js';\n\nclass GraphImageExporter extends AbstractGraphExporter\n{\n  constructor(imageType='png')\n  {\n    super();\n    this._imageType = imageType;\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const workspace = module._workspace;\n    const workspaceDim = workspace.ref.viewBox.baseVal;\n    const width = workspaceDim.width;\n    const height = workspaceDim.height;\n    const svg = workspace.getSVGForExport(width, height);\n\n    Downloader.downloadSVG(filename, this._imageType, svg, width, height);\n  }\n\n  //Override\n  doesSupportFile()\n  {\n    return true;\n  }\n\n  //Override\n  canImport()\n  {\n    return false;\n  }\n\n  //Override\n  getTitle()\n  {\n    switch(this._imageType)\n    {\n      case 'png': return I18N.toString(\"file.export.png.hint\");\n      case 'jpg': return I18N.toString(\"file.export.jpg.hint\");\n      default: return super.getTitle();\n    }\n  }\n\n  //Override\n  getLabel()\n  {\n    switch(this._imageType)\n    {\n      case 'png': return I18N.toString(\"file.export.png\");\n      case 'jpg': return I18N.toString(\"file.export.jpg\");\n      default: return super.getLabel();\n    }\n  }\n\n  //Override\n  getFileType()\n  {\n    return this._imageType;\n  }\n\n  //Override\n  getIconClass()\n  {\n    switch(this._imageType)\n    {\n      case 'png': return PNGIcon;\n      case 'jpg': return JPGIcon;\n      default: return null;\n    }\n  }\n}\n\nexport default GraphImageExporter;\n","import React from 'react';\nimport '../Panel.css';\nimport './ExportingPanel.css';\n\nimport IconButton from 'icons/IconButton.js';\n\nclass ExportingPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n  }\n\n  renderExporterButton(exporter)\n  {\n    if (!exporter.doesSupportFile()) return null;\n\n    return <IconButton key={exporter.getFileType()}\n      className=\"export-button\"\n      id={\"export-\" + exporter.getFileType()}\n      title={exporter.getTitle()}\n      onClick={() => {\n        const module = this.props.currentModule;\n        const machineController = module.getMachineController();\n        const filename = machineController.getMachineName() || \"Untitled\";\n        exporter.exportToFile(filename, module);\n      }}>\n      { React.createElement(exporter.getIconClass()) }\n      <label>{ exporter.getLabel() }</label>\n    </IconButton>;\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    const graphExporters = module.getGraphExporters();\n    const imageExporters = module.getImageExporters();\n\n    return <div className={\"panel-container \" + this.props.className} id=\"exporting\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.exporting.title\")}</h1>\n      </div>\n      <div className=\"panel-content\">\n      {\n        graphExporters.map(e => this.renderExporterButton(e))\n      }\n      {\n        imageExporters.map(e => this.renderExporterButton(e))\n      }\n        <hr/>\n        {/*Save to E-mail*/}\n        <div className=\"export-email\">\n        </div>\n      </div>\n\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(ExportingPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.exporting.title\"); }\n});\nExportingPanel.UNLOCALIZED_NAME = \"component.exporting.title\";\n\nexport default ExportingPanel;\n","const RGB_WHITE = [255, 255, 255];\nconst RGB_BLACK = [0, 0, 0];\n\nexport function blendRGB(percent, rgb1, rgb2=null, dst=[])\n{\n  const blendAmount = Math.abs(percent);\n  if (!rgb2) rgb2 = percent < 0 ? RGB_BLACK : RGB_WHITE;\n\n  dst[0] = rgb1[0] + Math.round(blendAmount * (rgb2[0] - rgb1[0]));\n  dst[1] = rgb1[1] + Math.round(blendAmount * (rgb2[1] - rgb1[1]));\n  dst[2] = rgb1[2] + Math.round(blendAmount * (rgb2[2] - rgb1[2]));\n  return dst;\n}\n\nexport function invertRGB(rgb, blackwhite=false, dst=[])\n{\n  if (blackwhite)\n  {\n    // http://stackoverflow.com/a/3943023/112731\n    if ((rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) > 186)\n    {\n      dst[0] = 0;\n      dst[1] = 0;\n      dst[2] = 0;\n    }\n    else\n    {\n      dst[0] = 0xFF;\n      dst[1] = 0xFF;\n      dst[2] = 0xFF;\n    }\n  }\n  else\n  {\n    dst[0] = (255 - rgb[0]);\n    dst[1] = (255 - rgb[1]);\n    dst[2] = (255 - rgb[2]);\n  }\n  return dst;\n}\n\n/* RGB and HSL conversions: https://gist.github.com/mjackson/5311256 */\nexport function HEXtoRGB(hex, dst=[])\n{\n  if (hex.indexOf('#') === 0) hex = hex.slice(1);\n  if (hex.length === 3) hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n  if (hex.length !== 6) throw new Error('Invalid hex color format');\n  const red = hex.substring(0, 2);\n  const green = hex.substring(2, 4);\n  const blue = hex.substring(4, 6);\n\n  dst[0] = parseInt(red, 16);\n  dst[1] = parseInt(green, 16);\n  dst[2] = parseInt(blue, 16);\n  return dst;\n}\nexport function RGBtoHEX(rgb)\n{\n  return '#' + (rgb[2] | (rgb[1] << 8) | (rgb[0] << 16) | (1 << 24)).toString(16).slice(1);\n}\nexport function RGBtoHSV(rgb, dst=[])\n{\n  let r = rgb[0] / 255;\n  let g = rgb[1] / 255;\n  let b = rgb[2] / 255;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const d = max - min;\n\n  let h = 0;\n  const s = max == 0 ? 0 : d / max;\n  const v = max;\n  if (max == min)\n  {\n    h = 0;\n  }\n  else\n  {\n    switch(max)\n    {\n      case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n      case g: h = (b - r) / d + 2; break;\n      case b: h = (r - g) / d + 4; break;\n    }\n\n    h /= 6;\n  }\n\n  dst[0] = h;\n  dst[1] = s;\n  dst[2] = v;\n  return dst;\n}\nexport function HSVtoRGB(h, s, v, dst=[])\n{\n  let r = 0; let g = 0; let b = 0;\n  const i = Math.floor(h * 6);\n  const f = h * 6 - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  switch(i % 6)\n  {\n    case 0: r = v, g = t, b = p; break;\n    case 1: r = q, g = v, b = p; break;\n    case 2: r = p, g = v, b = t; break;\n    case 3: r = p, g = q, b = v; break;\n    case 4: r = t, g = p, b = v; break;\n    case 5: r = v, g = p, b = q; break;\n  }\n\n  dst[0] = r * 255;\n  dst[1] = g * 255;\n  dst[2] = b * 255;\n  return dst;\n}\n","class StyleOption\n{\n  constructor(elementSource, propName, inputType, groupName, callback)\n  {\n    //the html element that this css variable reflects\n    this.element = elementSource;\n    //the name of the css variable\n    this.prop = propName;\n    //the css variable type\n    this.type = inputType;\n    //the group that the variable belongs to (\"default\" if not specified)\n    this.group = groupName;\n\n    this._callback = callback;\n    this._value = null;\n    this._defaultValue = null;\n  }\n\n  /**\n   * Update the current value to reflect the computed style's value.\n   */\n  updateStyle(computedStyle=null, shouldPropagateChange=true)\n  {\n    if (!computedStyle)\n    {\n      computedStyle = window.getComputedStyle(this.element);\n    }\n    const newValue = computedStyle.getPropertyValue(this.prop);\n    if (!newValue)\n    {\n      throw new Error(\"Cannot find style option with prop name \\'\" + this.prop + \"\\' for element\");\n    }\n\n    this._value = newValue.trim();\n    this._defaultValue = this._value;\n    if (shouldPropagateChange && this._callback) this._callback(this, newValue);\n  }\n\n  /**\n   * Reset the current value to reflect the computed style's value.\n   */\n  resetStyle()\n  {\n    this.setStyle(this._defaultValue);\n  }\n\n  /**\n   * Changes the variable's value for prop name.\n   * These changes are reflected to the css source.\n   */\n  setStyle(val, shouldPropagateChange=true)\n  {\n    this._value = val;\n    this.element.style.setProperty(this.prop, val);\n\n    if (shouldPropagateChange && this._callback) this._callback.call(null, this, val);\n  }\n\n  /** Returns the variable's current value. Null if not yet initialized. */\n  getStyle()\n  {\n    return this._value;\n  }\n\n  isDefaultStyle()\n  {\n    return this._value == this._defaultValue;\n  }\n}\n\nclass StyleOptionRegistry\n{\n  constructor()\n  {\n    this._options = new Map();\n    this._groups = new Map();\n\n    this._init = false;\n  }\n\n  registerStyleOption(elementSource, propName, inputType=\"text\", groupName=\"default\", changeCallback=null)\n  {\n    if (this._options.has(propName))\n    {\n      throw new Error(\"Style option with prop name \\'\" + propName + \"\\' already registered\");\n    }\n\n    const result = new StyleOption(elementSource, propName, inputType, groupName, changeCallback);\n    this._options.set(propName, result);\n\n    let group;\n    if (!this._groups.has(groupName))\n    {\n      group = [];\n      this._groups.set(groupName, group);\n    }\n    else\n    {\n      group = this._groups.get(groupName);\n\n      if (group.indexOf(propName) != -1)\n      {\n        //Ignore it, it's already in here\n        return;\n      }\n    }\n    group.push(propName);\n  }\n\n  unregisterStyleOption(propName)\n  {\n    if (this._options.has(propName))\n    {\n      const option = this._options.get(propName);\n      this._options.delete(propName);\n      const groupName = option.group;\n      if (this._groups.has(groupName))\n      {\n        const group = this._groups.get(groupName);\n        const index = group.indexOf(propName);\n        if (index >= 0)\n        {\n          group.splice(index, 1);\n        }\n      }\n    }\n  }\n\n  initialize()\n  {\n    if (this._init)\n    {\n      throw new Error(\"Already initialized\");\n    }\n\n    //Compute the styles\n    const computedStyles = {};\n    let computedStyle;\n    for(let option of this._options.values())\n    {\n      const element = option.element;\n      computedStyle = computedStyles[element];\n      if (!computedStyle)\n      {\n        computedStyle = window.getComputedStyle(element);\n        computedStyles[element] = computedStyle;\n      }\n      option.updateStyle(computedStyle, false);\n    }\n\n    this._init = true;\n  }\n\n  terminate()\n  {\n    if (!this._init)\n    {\n      throw new Error(\"Not yet initialized\");\n    }\n\n    this._options.clear();\n    this._groups.clear();\n\n    this._init = false;\n  }\n\n  getOptionByProp(propName)\n  {\n    return this._options.get(propName);\n  }\n\n  getPropsByGroup(groupName)\n  {\n    return this._groups.get(groupName) || [];\n  }\n\n  getOptions()\n  {\n    return this._options.values();\n  }\n\n  isEmpty()\n  {\n    return this._options.size <= 0;\n  }\n}\n\nexport default StyleOptionRegistry;\n","import React from 'react';\n\nclass StyleInput extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e)\n  {\n    const newValue = e.target.value;\n    const value = this.props.value;\n    const onChange = this.props.onChange;\n\n    value.setStyle(newValue);\n    if (onChange) onChange(value);\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n    const value = this.props.value;\n    const propName = value.prop;\n    const inputType = value.type;\n    const inputID = \"styleopt-\" + propName;\n\n    return <span id={this.props.id} className={this.props.className} style={this.props.style}>\n      <input id={inputID} type={inputType} value={value.getStyle()} onChange={this.onChange} disabled={this.props.disabled}/>\n      <label htmlFor={inputID}>{title}</label>\n    </span>;\n  }\n}\nexport default StyleInput;\n","import React from 'react';\nimport './OptionGroup.css';\n\nimport IconToggle from 'icons/IconToggle.js';\nimport DropDownIcon from 'icons/DropDownIcon.js';\n\nclass OptionGroup extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.dropdown = React.createRef();\n  }\n\n  isOpen()\n  {\n    return this.dropdown.state ? this.dropdown.state.open : false;\n  }\n\n  render()\n  {\n    return <div className={\"option-group \" + this.props.className}>\n      <div className=\"option-header\" onClick={(e)=>this.dropdown.onClick(e)}>\n        <label>{this.props.title}</label>\n        <label>({this.props.label})</label>\n        <IconToggle id=\"collapse\" ref={ref=>this.dropdown=ref} defaultValue={this.props.defaultValue}\n          style={{pointerEvents: \"none\"}}>\n          <DropDownIcon/>\n        </IconToggle>\n      </div>\n      <div className=\"option-content\"\n        style={{display: this.isOpen() ? \"block\" : \"none\"}}>\n        { this.props.children }\n      </div>\n    </div>;\n  }\n}\n\nexport default OptionGroup;\n","import React from 'react';\nimport './OptionHotkey.css';\n\nclass OptionHotkey extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <div className={\"option-container option-hotkey \" + this.props.className}>\n      <label>{this.props.label}</label>\n      <span>{this.props.keyName}</span>\n    </div>;\n  }\n}\n\nexport default OptionHotkey;\n","import React from 'react';\nimport '../Panel.css';\nimport './OptionsPanel.css';\n\nimport Config from 'config.js';\nimport { saveConfig } from 'config.js';\n\nimport LocalSave from 'system/localsave/LocalSave.js';\nimport * as ColorHelper from 'util/ColorHelper.js';\nimport StyleOptionRegistry from 'system/styleopt/StyleOptionRegistry.js';\nimport StyleInput from 'system/styleopt/components/StyleInput.js';\n\nimport OptionGroup from './OptionGroup.js';\nimport OptionHotkey from './OptionHotkey.js';\n\n//This should be the same as the one referred to by index.js\nconst LOCAL_STORAGE_ID = \"skipWelcome\";\n\nclass OptionsPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props)\n\n    this.container = React.createRef();\n    this.styleOpts = new StyleOptionRegistry();\n\n    this.state = {\n      theme: \"default\",\n      customTheme: false,\n      skipWelcome: LocalSave.getStringFromStorage(LOCAL_STORAGE_ID) === \"true\",\n      disableExitWarning: LocalSave.getStringFromStorage(\"disableExitWarning\") === \"true\"\n    };\n\n    this.onChangeTheme = this.onChangeTheme.bind(this);\n    this.onChangeModule = this.onChangeModule.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const root = document.getElementById(\"root\");\n    const opts = this.styleOpts;\n\n    const invertFunc = function(opt, value) {\n      const color = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, false, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-invert\").setStyle(result);\n    };\n\n    const darkFunc = function(opt, value) {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.2, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-dark\").setStyle(result);\n    };\n\n    const subtleFunc = function(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.39, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-subtle\").setStyle(result);\n    };\n\n    const ghostFunc = function(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.26, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-ghost\").setStyle(result);\n    };\n\n    const backFunc = function(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.13, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-back\").setStyle(result);\n    };\n\n    //Toolbar\n    opts.registerStyleOption(root, \"--color-toolbar-main\", \"color\", \"toolbar\", darkFunc);\n    opts.registerStyleOption(root, \"--color-toolbar-main-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-toolbar-accent\", \"color\", \"toolbar\", darkFunc);\n    opts.registerStyleOption(root, \"--color-toolbar-accent-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-toolbar-text\", \"color\", \"toolbar\", invertFunc);\n    opts.registerStyleOption(root, \"--color-toolbar-text-invert\", \"color\", \"hidden\");\n\n    //Drawer\n    opts.registerStyleOption(root, \"--color-drawer-main\", \"color\", \"drawer\", darkFunc);\n    opts.registerStyleOption(root, \"--color-drawer-main-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-accent\", \"color\", \"drawer\");\n    opts.registerStyleOption(root, \"--color-drawer-text\", \"color\", \"drawer\", (...args) => {\n      subtleFunc(...args);\n      ghostFunc(...args);\n      invertFunc(...args);\n      backFunc(...args);\n    });\n    opts.registerStyleOption(root, \"--color-drawer-text-subtle\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-text-ghost\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-text-invert\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-text-back\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-error\", \"color\", \"drawer\");\n\n    //Testing\n    opts.registerStyleOption(root, \"--color-testing-success\", \"color\", \"testing\");\n    opts.registerStyleOption(root, \"--color-testing-failure\", \"color\", \"testing\");\n    opts.registerStyleOption(root, \"--color-testing-working\", \"color\", \"testing\");\n    opts.registerStyleOption(root, \"--color-testing-text\", \"color\", \"testing\");\n\n    //Notification\n    opts.registerStyleOption(root, \"--color-notification-text\", \"color\", \"notification\");\n    opts.registerStyleOption(root, \"--color-notification-info\", \"color\", \"notification\", darkFunc);\n    opts.registerStyleOption(root, \"--color-notification-info-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-notification-error\", \"color\", \"notification\", darkFunc);\n    opts.registerStyleOption(root, \"--color-notification-error-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-notification-warning\", \"color\", \"notification\", darkFunc);\n    opts.registerStyleOption(root, \"--color-notification-warning-dark\", \"color\", \"hidden\");\n\n    //Workspace\n    opts.registerStyleOption(root, \"--color-graph-node\", \"color\", \"workspace\");\n    opts.registerStyleOption(root, \"--color-workspace-text\", \"color\", \"workspace\");\n    opts.registerStyleOption(root, \"--color-workspace-main\", \"color\", \"workspace\");\n\n    //Label editor\n    opts.registerStyleOption(root, \"--color-labeleditor-text\", \"color\", \"labeleditor\");\n    opts.registerStyleOption(root, \"--color-labeleditor-main\", \"color\", \"labeleditor\");\n\n    //Viewport\n    opts.registerStyleOption(root, \"--color-viewport-error\", \"color\", \"viewport\");\n    opts.registerStyleOption(root, \"--color-viewport-testing\", \"color\", \"viewport\");\n    opts.registerStyleOption(root, \"--color-viewport-warning\", \"color\", \"viewport\");\n    opts.registerStyleOption(root, \"--color-highlight-select\", \"color\", \"viewport\");\n\n    opts.initialize();\n\n    LocalSave.registerHandler(this);\n    this.onLoadSave();\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this.styleOpts.terminate();\n\n    LocalSave.unregisterHandler(this);\n  }\n\n  onLoadSave()\n  {\n    const opts = this.styleOpts;\n    const data = LocalSave.loadFromStorage(\"prefs-color\");\n    for(let prop in data)\n    {\n      const opt = opts.getOptionByProp(prop);\n      if (opt)\n      {\n        opt.setStyle(data[prop]);\n      }\n    }\n  }\n\n  onAutoSave()\n  {\n    const opts = this.styleOpts;\n    const data = {};\n    for(let opt of opts.getOptions())\n    {\n      if (!opt.isDefaultStyle())\n      {\n        data[opt.prop] = opt.getStyle();\n      }\n    }\n    LocalSave.saveToStorage(\"prefs-color\", data);\n  }\n\n  onChangeTheme(e)\n  {\n    const prevTheme = this.state.theme;\n    const theme = e.target.value;\n    if (prevTheme === theme) return;\n\n    if (theme === \"default\")\n    {\n      for(let option of this.styleOpts.getOptions())\n      {\n        option.resetStyle();\n      }\n    }\n\n    this.setState({theme: theme});\n  }\n\n  onChangeModule(e)\n  {\n    //Nothing yet...\n  }\n\n  //Override\n  render()\n  {\n    const root = document.getElementById(\"root\");\n    const opts = this.styleOpts;\n\n    return <div className={\"panel-container \" + this.props.className} id=\"option\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.options.title\")}</h1>\n      </div>\n      <div className=\"panel-content\">\n\n        <OptionGroup title={I18N.toString(\"component.workspace.title\")} label={I18N.toString(\"options.category.shortcuts\")}>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.savemachine\")} keyName=\"Ctrl + S\"/>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.undo.label\")} keyName=\"Ctrl + Z\"/>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.redo.label\")} keyName=\"Ctrl + Shift + Z\"/>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.saveimage\")} keyName=\"Ctrl + P\"/>\n        </OptionGroup>\n\n        <OptionGroup title={I18N.toString(\"component.testing.title\")} label={I18N.toString(\"options.category.shortcuts\")}>\n          <OptionHotkey label={\"Add test input\"} keyName=\"Enter\"/>\n          <OptionHotkey label={\"Run test input\"} keyName=\"Shift + Enter\"/>\n        </OptionGroup>\n\n        <OptionGroup title={I18N.toString(\"component.labeleditor.title\")} label={I18N.toString(\"options.category.shortcuts\")}>\n          <OptionHotkey label={I18N.toString(\"action.workspace.submit.label\")} keyName=\"Enter\"/>\n          <OptionHotkey label={I18N.toString(\"action.workspace.cancel.label\")} keyName=\"Escape\"/>\n        </OptionGroup>\n\n        <div className=\"panel-checkbox\" style={{marginTop: \"10px\"}}>\n          <input id=\"option-skipwelcome\" type=\"checkbox\" checked={this.state.skipWelcome}\n          onChange={(e) => {\n            const result = e.target.checked;\n            this.setState({skipWelcome: e.target.checked});\n            LocalSave.setStringToStorage(LOCAL_STORAGE_ID, \"\" + result);\n          }}/>\n          <label htmlFor=\"option-skipwelcome\">{I18N.toString(\"options.skipwelcome\")}</label>\n        </div>\n\n        <hr/>\n\n        <div>\n          <div id=\"options-theme-select-container\">\n            <label htmlFor=\"options-theme-select\">Theme</label>\n            <select id=\"options-theme-select\" className=\"panel-select\" value={this.state.theme} onChange={this.onChangeTheme} disabled={this.state.customTheme}>\n              <option value=\"default\">Default</option>\n              <option value=\"ucsd\" disabled={true}>UC San Diego (Coming Soon)</option>\n              <option value=\"duke\" disabled={true}>Duke University (Coming Soon)</option>\n            </select>\n            {\n              !this.state.customTheme &&\n              <button className=\"panel-button\" onClick={() => this.setState({customTheme: true})}>\n                {I18N.toString(\"action.options.changetheme\")}\n              </button>\n            }\n          </div>\n          {\n            this.state.customTheme && <div>\n              <OptionGroup title={I18N.toString(\"component.toolbar.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"toolbar\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.drawer.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"drawer\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.testing.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"testing\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.notification.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"notification\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.graph.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"workspace\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.labeleditor.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"labeleditor\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"options.category.general\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"viewport\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <button className=\"panel-button\" onClick={(e) => {\n                for(let option of this.styleOpts.getOptions())\n                {\n                  option.resetStyle();\n                }\n                this.setState({customTheme: false});\n              }}>{I18N.toString(\"action.options.reset\")}</button>\n            </div>\n          }\n        </div>\n\n        <hr/>\n\n        <div>\n          <h2>Experimental</h2>\n\n          <select id=\"options-experimental-modules\" className=\"panel-select\" value={this.props.currentModule.getModuleName()} onChange={this.onChangeModule}>\n            <option value=\"fsa\">Finite State Automata</option>\n            <option value=\"pda\" disabled={true}>Pushdown Automata (Coming Soon)</option>\n            <option value=\"cfg\" disabled={true}>Context-Free Grammar (Future)</option>\n            <option value=\"tm\" disabled={true}>Turing Machine (Future)</option>\n            <option value=\"rdt\" disabled={true}>Red-Black Tree (Future)</option>\n            <option value=\"hlsm\" disabled={true}>High Level State Machine (Future)</option>\n          </select>\n\n          <div className=\"panel-checkbox\" style={{marginTop: \"10px\"}}>\n            <input id=\"option-disableexitwarning\" type=\"checkbox\" checked={this.state.disableExitWarning}\n            onChange={(e) => {\n              const result = e.target.checked;\n              this.setState({disableExitWarning: result});\n              LocalSave.setStringToStorage(\"disableExitWarning\", \"\" + result);\n            }}/>\n            <label htmlFor=\"option-disableexitwarning\">{\"Disable Exit Warning\"}</label>\n          </div>\n\n          <button className=\"panel-button\" style={{marginTop: \"10px\"}} onClick={(e) => {\n            if (LocalSave.getStringFromStorage(\"enableExperimental\") === \"true\")\n            {\n              window.alert(\"Please restart to begin the awakening...\");\n            }\n            else if (window.confirm(\"Be careful! This will PERMANENTLY change \" +\n              \"your app and is intended only for debugging purposes. You \" +\n              \"should only enable this if you know what you are doing. Are \" +\n              \"you sure about this?\"))\n            {\n              if (window.confirm(\"Seriously, THIS CAN BREAK THE APP \" +\n                \"PERMANENTLY! So only proceed if you are absolutely sure \" +\n                \"about this. Ask a member of the dev team for assistance.\"))\n              {\n                if (window.prompt(\"Well, at this point, you are either a \" +\n                \"member of the dev team (welcome to the team) or you have \" +\n                \"been instructed to do so by a member of the dev team \" +\n                \"(hello human). Please ask them for the password:\") === \"I solemnly swear I am up to no good.\")\n                {\n                  if (window.confirm(\"Alright, here we go. Last chance to \" +\n                  \"leave. Cancel it now or restart and face the consequences.\"))\n                  {\n                    LocalSave.setStringToStorage(\"enableExperimental\", \"true\");\n                  }\n                }\n                else\n                {\n                  window.alert(\"Sorry, it looks like you are a normal human. Have a hug. <3\");\n                }\n              }\n            }\n          }}>\n            {\"Enable Experimental Mode\"}\n          </button>\n\n        </div>\n\n      </div>\n\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(OptionsPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.options.title\"); }\n});\nOptionsPanel.UNLOCALIZED_NAME = \"component.options.title\";\n\nexport default OptionsPanel;\n","import GraphImporter from './exporter/GraphImporter.js';\nimport GraphImageExporter from './exporter/GraphImageExporter.js';\n\nimport ExportingPanel from './panels/exporting/ExportingPanel.js';\nimport OptionsPanel from './panels/options/OptionsPanel.js';\n\nexport const DEFAULT_GRAPH_EXPORTERS = [];\nexport const DEFAULT_IMAGE_EXPORTERS = [\n  new GraphImageExporter('png'),\n  new GraphImageExporter('jpg')\n];\n//TODO: This is inserted by Drawer.js, not used here. (which is weird)\nexport const DEFAULT_PANELS = [ExportingPanel, OptionsPanel];\n\nclass AbstractModule\n{\n  constructor(app)\n  {\n    this._importer = new GraphImporter(this);\n  }\n\n  initialize(app) {}\n\n  destroy(app) {}\n\n  update(app) {}\n\n  getRenderer(renderLayer) { return null; }\n  getInputController() { throw new Error(\"Missing input controller for module \\'\" + this.getModuleName() + \"\\'\"); }\n  getGraphController() { throw new Error(\"Missing graph controller for module \\'\" + this.getModuleName() + \"\\'\"); }\n  getMachineController() { throw new Error(\"Missing machine controller for module \\'\" + this.getModuleName() + \"\\'\"); }\n  getDefaultGraphExporter()\n  {\n    const exporters = this.getGraphExporters();\n    if (exporters.length > 0) return exporters[0];\n\n    throw new Error(\"Missing default graph exporter for module \\'\" + this.getModuleName() + \"\\'\");\n  }\n  getImageExporters() { return DEFAULT_IMAGE_EXPORTERS; }\n  getGraphExporters() { return DEFAULT_GRAPH_EXPORTERS; }\n  getGraphImporter() { return this._importer; }\n  getModulePanels() { return []; }\n  getModuleVersion() { return '0.0.0'; }\n  getModuleName() { throw new Error(\"Missing module name\"); }\n  getLocalizedModuleName() { return \"Module\"; }\n}\n\nexport default AbstractModule;\n","import React from 'react';\n\nclass FormattedInput extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.element = null;\n    this.ignoreSaveOnExit = false;\n\n    const defaultValue = props.defaultValue || \"\";\n    this.state = {\n      value: defaultValue,\n      prevValue: defaultValue\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n\n    //props:\n    //  filter - a filter function\n    //  formatter - a format function\n    //  captureOnExit - what to capture on blur (none, save, reset)\n    //  defaultValue - the default value for input\n    //  multiline - whether to allow multiple lines\n  }\n\n  //Override\n  componentWillReceiveProps(nextProps)\n  {\n    //Don't overwrite user input...\n    if (this.hasFocus()) return;\n\n    //TODO: This is a way to update the value if it is suppose to be the default value...\n    if (!this.state.value || this.state.value.length <= 0 || this.state.value === this.props.defaultValue)\n    {\n      this.setState({value: nextProps.defaultValue});\n    }\n  }\n\n  get value()\n  {\n    return this.state.value;\n  }\n\n  focus(replace=false)\n  {\n    if (replace)\n    {\n      this.element.select();\n    }\n    else\n    {\n      this.element.focus();\n    }\n  }\n\n  blur()\n  {\n    this.element.blur();\n  }\n\n  hasFocus()\n  {\n    return this.element === document.activeElement;\n  }\n\n  onChange(e)\n  {\n    if (this.props.filter)\n    {\n      const result = e.target.value.replace(this.props.filter, '');\n      this.setState({value: result});\n    }\n    else\n    {\n      this.setState({value: e.target.value});\n    }\n  }\n\n  onBlur(e)\n  {\n    if (this.ignoreSaveOnExit || this.props.captureOnExit == \"none\")\n    {\n      //For those you choose to handle exit, it's value should remain correct.\n      const result = this.formatValue(e.target.value);\n      this.setState({value: result});\n\n      //Don't ignore it for the future.\n      this.ignoreSaveOnExit = false;\n      return;\n    }\n\n    if (this.props.captureOnExit == \"save\")\n    {\n      const prev = this.state.prevValue;\n      const next = e.target.value || this.props.defaultValue || \"\";\n      this.resetValue(next, () => {\n        if (this.props.onSubmit)\n        {\n          this.props.onSubmit(next, prev);\n        }\n      });\n    }\n    else if (this.props.captureOnExit == \"reset\")\n    {\n      this.resetValue(null);\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.key == \"Enter\")\n    {\n      if (this.props.multiline && e.shiftKey)\n      {\n        return true;\n      }\n\n      const prev = this.state.prevValue;\n      const next = e.target.value || this.props.defaultValue || \"\";\n      this.resetValue(next, () => {\n        this.ignoreSaveOnExit = true;\n\n        if (this.props.onSubmit)\n        {\n          this.props.onSubmit(next, prev);\n        }\n        this.element.blur();\n      });\n\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    }\n    else if (e.key == \"Escape\")\n    {\n      const prev = this.state.prevValue;\n      this.resetValue(prev, () => {\n        this.ignoreSaveOnExit = true;\n\n        if (this.props.onSubmit)\n        {\n          this.props.onSubmit(prev || \"\", prev);\n        }\n        this.element.blur();\n      });\n\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    }\n  }\n\n  resetValue(newValue=null, callback=null)\n  {\n    if (newValue !== null)\n    {\n      const result = this.formatValue(newValue);\n      this.setState({value: result, prevValue: result}, callback);\n    }\n    else\n    {\n      this.setState((prev, props) => {\n        //NOTE: Although you CAN assume prev is valid, but what about when prev does not exist?\n        const result = this.formatValue(prev.prevValue);\n        return {value: result};\n      }, callback);\n    }\n  }\n\n  setValue(value, callback)\n  {\n    if (!value || value.length == 0)\n    {\n      value = this.props.defaultValue || \"\";\n    }\n    else\n    {\n      value = this.formatValue(value);\n    }\n\n    this.setState({value: value}, callback);\n  }\n\n  appendValue(value, separator=\",\")\n  {\n    let result = this.state.value;\n    //If the entire input is selected...\n    if (this.element.selectionStart == 0 &&\n      this.element.selectionEnd == value.length)\n    {\n      //Replace it!\n      result = value;\n    }\n    //Or just append to the end...\n    else\n    {\n      if (!result || result.length == 0)\n      {\n        result = value;\n      }\n      else\n      {\n        result = result + separator + value;\n      }\n    }\n\n    //If can filter input...\n    if (this.props.filter)\n    {\n      result = result.replace(this.props.filter, '');\n    }\n\n    this.setState({value: this.formatValue(result)});\n  }\n\n  formatValue(value)\n  {\n    const formatter = this.props.formatter;\n    const result = formatter(value);\n    return result || \"\";\n  }\n\n  //Override\n  render()\n  {\n    if (this.props.multiline)\n    {\n      return (\n        <textarea\n          id={this.props.id} className={this.props.className} style={this.props.style}\n          ref={ref=>this.element=ref}\n          type=\"text\" value={this.state.value}\n          rows=\"1\"\n          onChange={this.onChange}\n          onBlur={this.onBlur}\n          onKeyUp={this.onKeyUp}>\n        </textarea>\n      );\n    }\n    else\n    {\n      return (\n        <input\n          id={this.props.id} className={this.props.className} style={this.props.style}\n          ref={ref=>this.element=ref}\n          type=\"text\" value={this.state.value}\n          onChange={this.onChange}\n          onBlur={this.onBlur}\n          onKeyUp={this.onKeyUp}/>\n      );\n    }\n  }\n}\n\nexport default FormattedInput;\n","const ALLOW_AUTOMATIC_REGISTER = false;\n\nconst Eventable = {\n  __eventListeners: null,\n  mixin(targetClass)\n  {\n    const targetPrototype = targetClass.prototype;\n    Object.assign(targetPrototype, Eventable);\n    delete targetPrototype.mixin;\n  },\n\n  registerEvent(eventName)\n  {\n    if (!this.__eventListeners) this.__eventListeners = new Map();\n\n    if (!this.__eventListeners.has(eventName))\n    {\n      this.__eventListeners.set(eventName, []);\n    }\n    else\n    {\n      throw new Error(\"Already registered event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  unregisterEvent(eventName)\n  {\n    if (!this.__eventListeners) return;\n\n    if (this.__eventListeners.has(eventName))\n    {\n      this.__eventListeners.delete(eventName);\n    }\n    else\n    {\n      throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  addEventListener(eventName, listener)\n  {\n    if (!this.__eventListeners) this.__eventListeners = new Map();\n\n    let listeners;\n    if (this.__eventListeners.has(eventName))\n    {\n      listeners = this.__eventListeners.get(eventName);\n    }\n    else if (ALLOW_AUTOMATIC_REGISTER)\n    {\n      listeners = [];\n      this.__eventListeners.set(eventName, listeners);\n    }\n    else\n    {\n      throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n    }\n\n    listeners.push(listener);\n  },\n\n  removeEventListener(eventName, listener)\n  {\n    if (!this.__eventListeners) return;\n\n    if (this.__eventListeners.has(eventName))\n    {\n      const listeners = this.__eventListeners.get(eventName);\n      let flag = false;\n      let i = listeners.length;\n      while(i--)\n      {\n        if (listeners[i] === listener)\n        {\n          listeners.splice(i, 1);\n          flag = true;\n        }\n      }\n\n      if (!flag)\n      {\n        throw new Error(\"Unable to find listener for event \\'\" + eventName + \"\\'\");\n      }\n    }\n    else\n    {\n      throw new Error(\"Unknown event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  clearEventListeners(eventName)\n  {\n    if (!this.__eventListeners) return;\n\n    if (this.__eventListeners.has(eventName))\n    {\n      const listeners = this.__eventListeners.get(eventName);\n      listeners.length = 0;\n    }\n    else if (ALLOW_AUTOMATIC_REGISTER)\n    {\n      listeners = [];\n      this.__eventListeners.set(eventName, listeners);\n    }\n    else\n    {\n      throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  countEventListeners(eventName)\n  {\n    if (!this.__eventListeners) return 0;\n    return this.__eventListeners.has(eventName) ? this.__eventListeners.get(eventName).length : 0;\n  },\n\n  getEventListeners(eventName)\n  {\n    if (!this.__eventListeners) return null;\n    return this.__eventListeners.get(eventName);\n  },\n\n  on(eventName, listener)\n  {\n    this.addEventListener(eventName, listener);\n  },\n\n  once(eventName, listener)\n  {\n    const f = (...args) => {\n      try\n      {\n        listener.apply(null, args);\n      }\n      finally\n      {\n        this.removeEventListener(eventName, f);\n      }\n    };\n\n    this.addEventListener(eventName, f);\n  },\n\n  emit(eventName, ...args)\n  {\n    try\n    {\n      if (!this.__eventListeners) return;\n\n      let listeners;\n      if (!this.__eventListeners.has(eventName))\n      {\n        if (ALLOW_AUTOMATIC_REGISTER)\n        {\n          listeners = [];\n          this.__eventListeners.set(eventName, listeners);\n        }\n        else\n        {\n          throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n        }\n      }\n      else\n      {\n        listeners = this.__eventListeners.get(eventName);\n\n        let result = null;\n        let i = listeners.length;\n        while(i--)\n        {\n          try\n          {\n            result = listeners[i].apply(null, args);\n          }\n          catch(e)\n          {\n            console.error(e);\n          }\n\n          if (result === true) break;\n        }\n      }\n    }\n    finally\n    {\n      this.onEventProcessed(eventName, ...args);\n    }\n  },\n\n  onEventProcessed(eventName, ...args)\n  {\n    //Do nothing.\n  }\n};\n\nexport default Eventable;\n","import React from 'react';\nimport './IconToggle.css';\n\nclass IconToggle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      open: this.props.defaultValue || false\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    //Toggle state\n    this.setState((prev, props) => {\n      return {open: !prev.open};\n    });\n\n    //Call passed-in onClick listener\n    if (this.props.onClick)\n    {\n      this.props.onClick(e);\n    }\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button icon-toggle \" + (this.state.open ? \" open \" : \"\") + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.onClick}>\n      {this.props.children}\n    </button>;\n  }\n}\n\nexport default IconToggle;\n","import React from 'react';\n\nclass DropDownIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"dropdown-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M7 10l5 5 5-5z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default DropDownIcon;\n","const SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nclass FSA\n{\n  constructor()\n  {\n    this._states = [];\n    this._transitions = [];\n    this._finalStates = [];\n\n    this._customAlphabet = [];\n  }\n\n  clear()\n  {\n    this._states.length = 0;\n    this._transitions.length = 0;\n    this._finalStates.length = 0;\n\n    this._customAlphabet.length = 0;\n  }\n\n  copy(fsa)\n  {\n    this._states.length = 0;\n    for(let state of fsa._states)\n    {\n      this._states.push(state);\n    }\n    this._transitions.length = 0;\n    for(let transition of fsa._transitions)\n    {\n      this._transitions.push(transition.slice());\n    }\n    this._finalStates.length = 0;\n    for(let final of fsa._finalStates)\n    {\n      this._finalStates.push(final);\n    }\n    this._customAlphabet.length = 0;\n    for(let symbol of fsa._customAlphabet)\n    {\n      this._customAlphabet.push(symbol);\n    }\n  }\n\n  newState(state)\n  {\n    if (this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' already added to states.\");\n    }\n\n    this._states.push(state);\n    return state;\n  }\n\n  deleteState(state)\n  {\n    if (!this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' does not exist.\");\n    }\n\n    this._states.splice(this._states.indexOf(state), 1);\n  }\n\n  renameState(oldState, newState)\n  {\n    if (!this._states.includes(oldState))\n    {\n      throw new Error(\"State \\'\" + oldState + \"\\' does not exist.\");\n    }\n    if (this._states.includes(newState))\n    {\n      throw new Error(\"State \\'\" + newState + \"\\' already exists.\");\n    }\n\n    for(let transition of this._transitions)\n    {\n      if (transition[SRC] == oldState)\n      {\n        transition[SRC] = newState;\n      }\n      if (transition[DST] == oldState)\n      {\n        transition[DST] = newState;\n      }\n    }\n\n    const index = this._states.indexOf(oldState);\n    this._states[index] = newState;\n  }\n\n  newTransition(fromState, toState, symbol)\n  {\n    if (!this._states.includes(fromState))\n    {\n      throw new Error(\"State \\'\" + fromState + \"\\' does not exist.\");\n    }\n\n    if (!this._states.includes(toState))\n    {\n      throw new Error(\"State \\'\" + toState + \"\\' does not exist.\");\n    }\n\n    //Check if already exists...\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == fromState && transition[SYMBOL] == symbol && transition[DST] == toState)\n      {\n        return;\n      }\n    }\n\n    //Create new transition\n    this._transitions.push([fromState, symbol, toState]);\n  }\n\n  deleteTransition(fromState, toState, symbol=null)\n  {\n    for(let i = this._transitions.length - 1; i >= 0; --i)\n    {\n      const transition = this._transitions[i];\n      if (transition[SRC] == fromState && transition[DST] == toState)\n      {\n        //Delete if src, dst, and symbols match... or if deleting all symbols\n        if (symbol == null || transition[SYMBOL] == symbol)\n        {\n          this._transitions.splice(i, 1);\n        }\n      }\n    }\n  }\n\n  newSymbol(symbol)\n  {\n    if (this._customAlphabet.includes(symbol))\n    {\n      throw new Error(\"Symbol \\'\" + symbol + \"\\' already added to alphabet.\");\n    }\n\n    this._customAlphabet.push(symbol);\n  }\n\n  deleteSymbol(symbol)\n  {\n    if (!this._customAlphabet.includes(symbol))\n    {\n      throw new Error(\"Unable to remove symbol \\'\" + symbol + \"\\'.\");\n    }\n\n    this._customAlphabet.splice(this._customAlphabet.indexOf(symbol), 1);\n  }\n\n  setStartState(state)\n  {\n    if (this._states.length <= 0)\n    {\n      throw new Error(\"Not enough states.\");\n    }\n\n    if (!this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' does not exist.\");\n    }\n\n    if (this.getStartState() == state) return;\n\n    this._states.splice(this._states.indexOf(state), 1);\n    this._states.unshift(state);\n  }\n\n  setFinalState(state, isFinal=true)\n  {\n    if (!this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' does not exist.\");\n    }\n\n    if (isFinal)\n    {\n      if (this._finalStates.includes(state)) return;\n\n      this._finalStates.push(state);\n    }\n    else\n    {\n      if (!this._finalStates.includes(state)) return;\n      this._finalStates.splice(this._finalStates.indexOf(state), 1);\n    }\n  }\n\n  doTransition(state, symbol)\n  {\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state && transition[SYMBOL] == symbol)\n      {\n        return transition[DST];\n      }\n    }\n    return null;\n  }\n\n  isFinalState(state)\n  {\n    return this._finalStates.includes(state);\n  }\n\n  hasState(state)\n  {\n    return this._states.includes(state);\n  }\n\n  getStates()\n  {\n    return this._states;\n  }\n\n  //Is the same as isAlphabet if the user did not add custom symbols\n  isUsedAlphabet(symbol)\n  {\n    for(const transition of this._transitions)\n    {\n      if (transition[SYMBOL] == symbol)\n      {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  //Includes custom user-defined symbols (from newSymbol)\n  isAlphabet(symbol)\n  {\n    for(const s of this._customAlphabet)\n    {\n      if (s == symbol) return true;\n    }\n\n    return this.isUsedAlphabet(symbol);\n  }\n\n  getUsedAlphabet(dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      const symbol = transition[SYMBOL];\n      if (symbol.length > 0 && !result.includes(symbol))\n      {\n        result.push(symbol);\n      }\n    }\n    return result;\n  }\n\n  getAlphabet(dst=[])\n  {\n    const result = dst;\n    for(const s of this._customAlphabet)\n    {\n      result.push(s);\n    }\n    return this.getUsedAlphabet(result);\n  }\n\n  getOutgoingTransitions(state=null, dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state)\n      result.push(transition);\n    }\n    return result;\n  }\n\n  getTransitions()\n  {\n    return this._transitions;\n  }\n\n  getStartState()\n  {\n    return this._states.length <= 0 ? null : this._states[0];\n  }\n\n  getFinalStates()\n  {\n    return this._finalStates;\n  }\n\n  isValidDFA()\n  {\n    const alphabet = this.getAlphabet();\n    const foundSymbols = new Array(alphabet.length);\n    foundSymbols.fill(false);\n\n    for(const state of this._states)\n    {\n      //Get all outgoing transitions\n      const transitions = this.getOutgoingTransitions(state);\n      for(const transition of transitions)\n      {\n        const index = alphabet.indexOf(transition[1]);\n        if (foundSymbols[index] == false)\n        {\n          foundSymbols[index] = true;\n        }\n        else\n        {\n          //Found duplicate\n          return false;\n        }\n      }\n\n      //Reset foundSymbols for next state\n      const length = foundSymbols.length;\n      for(let i = 0; i < length; ++i)\n      {\n        if (foundSymbols[i] == false)\n        {\n          //Found missing symbol for state\n          return false;\n        }\n        foundSymbols[i] = false;\n      }\n    }\n\n    return true;\n  }\n\n  toJSON()\n  {\n    const result = {};\n    if (this instanceof DFA) result.type = \"DFA\";\n    else if (this instanceof NFA) result.type = \"NFA\";\n    else result.type = \"FSA\";\n    result.states = this._states.slice();\n    result.alphabet = this._customAlphabet.slice();\n    result.usedAlphabet = this.getUsedAlphabet();\n    result.transitions = this._transitions.slice();\n    result.startState = this.getStartState();\n    result.finalStates = this._finalStates.slice();\n\n    return result;\n  }\n}\n\nexport default FSA;\n","import React from 'react';\n\nclass UploadIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"upload-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n    </svg>;\n  }\n}\n\nexport default UploadIcon;\n","import React from 'react';\n\nclass SaveIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"save-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/>\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n    </svg>;\n  }\n}\n\nexport default SaveIcon;\n","import React from 'react';\n\nclass UndoIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"undo-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n    </svg>;\n  }\n}\n\nexport default UndoIcon;\n","import React from 'react';\n\nclass RedoIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"redo-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>\n    </svg>;\n  }\n}\n\nexport default RedoIcon;\n","const MAX_HISTORY_LENGTH = 1000;\n\nclass UndoManager\n{\n  constructor()\n  {\n    this.history = [];\n    this.offsetIndex = 0;\n  }\n\n  clear()\n  {\n    this.history.length = 0;\n    this.offsetIndex = 0;\n  }\n\n  captureEvent(eventHandler)\n  {\n    //Pop it all until current event\n    while(this.offsetIndex > 0)\n    {\n      this.history.pop();\n      --this.offsetIndex;\n    }\n\n    //Push the current event to the stack\n    this.history.push(eventHandler);\n\n    while(this.history.length > MAX_HISTORY_LENGTH)\n    {\n      this.history.unshift();\n    }\n  }\n\n  undo()\n  {\n    if (!this.canUndo())\n    {\n      //Already the oldest recorded event!\n      return;\n    }\n\n    const event = this.history[this.history.length - this.offsetIndex - 1];\n    ++this.offsetIndex;\n\n    event.applyUndo();\n  }\n\n  canUndo()\n  {\n    return this.offsetIndex < this.history.length;\n  }\n\n  redo()\n  {\n    if (!this.canRedo())\n    {\n      //Already the most recent event!\n      return;\n    }\n\n    --this.offsetIndex;\n    const event = this.history[this.history.length - this.offsetIndex - 1];\n\n    event.applyRedo();\n  }\n\n  canRedo()\n  {\n    return this.offsetIndex > 0;\n  }\n}\n\nexport default UndoManager;\n","import React from 'react';\nimport './InfoBlock.css';\n\nimport IconToggle from 'icons/IconToggle.js';\nimport DropDownIcon from 'icons/DropDownIcon.js';\n\n//TODO: Should be deprecated to use OptionGroup (or something similar)\nclass InfoBlock extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.dropdown = React.createRef();\n  }\n\n  isOpen()\n  {\n    return this.dropdown.state ? this.dropdown.state.open : false;\n  }\n\n  render()\n  {\n    return <div className={\"infoblock-container \" + this.props.className}>\n      <div className=\"infoblock-header\" onClick={(e)=>this.dropdown.onClick(e)}>\n        <label>{this.props.title}</label>\n        <IconToggle id=\"collapse\" ref={ref=>this.dropdown=ref} defaultValue={this.props.defaultValue}\n          style={{pointerEvents: \"none\"}}>\n          <DropDownIcon/>\n        </IconToggle>\n      </div>\n      <div className=\"infoblock-content\"\n        style={{display: this.isOpen() ? \"block\" : \"none\"}}>\n        {this.props.children}\n      </div>\n    </div>;\n  }\n}\n\nexport default InfoBlock;\n","import React from 'react';\n\nclass BoxAddIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"boxadd-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default BoxAddIcon;\n","import React from 'react';\n\nclass TriangleIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"triangle-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z\"/>\n      <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n    </svg>;\n  }\n}\n\nexport default TriangleIcon;\n","import React from 'react';\nimport './StateTag.css';\n\nimport Config from 'config.js';\n\nclass StateTag extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      value: null,\n      error: false\n    };\n\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  onFocus(e)\n  {\n    const target = e.target;\n    //This is a prop, refer to StateList for the actual node.getNodeLabel()\n    this.setState({ value: this.props.label, error: false }, () => {\n      target.select()\n    });\n\n    //Call any listening focus\n    if (this.props.onFocus) this.props.onFocus(e);\n  }\n\n  onBlur(e)\n  {\n    const graphController = this.props.graphController;\n    const newLabel = this.state.value;\n\n    //The value is already processed, abort\n    if (newLabel != null)\n    {\n      const node = this.props.src;\n      const graph = graphController.getGraph();\n      if (newLabel.length > 0)\n      {\n        const nodes = graph.getNodesByLabel(newLabel);\n        if (nodes.length <= 0)\n        {\n          //Valid! Rename it!\n          graphController.renameNode(node, newLabel);\n        }\n        else\n        {\n          //Found something already named that! Ignore!\n        }\n      }\n      else\n      {\n        //Delete!\n        graphController.deleteTargetNode(this.props.src);\n      }\n\n      this.setState({ value: null, error: false });\n\n      //Call any listening blurs\n      if (this.props.onBlur) this.props.onBlur(e);\n    }\n  }\n\n  onKeyDown(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY || e.keyCode === Config.CLEAR_KEY)\n    {\n      e.preventDefault();\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      e.target.blur();\n    }\n    else if (e.keyCode === Config.CLEAR_KEY)\n    {\n      const target = e.target;\n      this.setState({ value: null, error: false}, () => {\n        target.blur();\n      });\n    }\n  }\n\n  onValueChange(e)\n  {\n    const graph = this.props.graphController.getGraph();\n    const value = e.target.value.trim();\n    let error = false;\n    if (value.length > 0)\n    {\n      const nodes = graph.getNodesByLabel(value);\n      if (nodes.length > 0)\n      {\n        //If there are more than 1 that have the same name\n        //OR if it is NOT the one we have...\n        if (nodes.length > 1 || nodes[0] !== this.props.src)\n        {\n          error = true;\n        }\n      }\n    }\n\n    this.setState({\n      value: value,\n      error: error\n    });\n  }\n\n  render()\n  {\n    const isCustom = this.props.src.getNodeCustom();\n    const value = this.state.value != null ? this.state.value : this.props.label;\n    return <div className={\"statetag-container\" +\n      (isCustom ? \" customtag\" : \"\") +\n      (value.length == 0 ? \" emptytag\" : \"\") +\n      (this.state.value && this.state.error ? \" errortag\" : \"\")}>\n      <input type=\"text\" className={(this.props.accept ? \" accept\" : \"\")}\n        spellCheck=\"false\"\n        style={{width: value.length + \"ch\"}}\n        value={value}\n        onChange={this.onValueChange}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n        onKeyUp={this.onKeyUp}\n        onKeyDown={this.onKeyDown}/>\n    </div>;\n  }\n}\n\nexport default StateTag;\n","import React from 'react';\nimport './StatesList.css';\n\nimport InfoBlock from '../infoblock/InfoBlock.js';\nimport IconButton from 'icons/IconButton.js';\nimport BoxAddIcon from 'icons/BoxAddIcon.js';\nimport TriangleIcon from 'icons/TriangleIcon.js';\n\nimport StateTag from './StateTag.js';\n\nclass StatesList extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onStateCreate = this.onStateCreate.bind(this);\n  }\n\n  onStateCreate(e)\n  {\n    const x = -100 + (Math.random() * 100 * 2);\n    const y = -100 + (Math.random() * 100 * 2);\n    this.props.graphController.createNode(x, y);\n  }\n\n  render()\n  {\n    const graphController = this.props.graphController;\n    const graph = graphController.getGraph();\n    return <InfoBlock title={I18N.toString(\"component.stateslist.title\")} defaultValue=\"true\">\n      <div className=\"statelist-container\">\n        <div className=\"statelist\">\n          <TriangleIcon/>\n          {\n            graph.getNodes().map((e, i) => {\n              return <StateTag key={e.getGraphElementID()} src={e} label={e.getNodeLabel()} accept={e.getNodeAccept()}\n                graphController={graphController}\n                onFocus={ev => graphController.focusOnNode(e)}/>\n            })\n          }\n        </div>\n        <IconButton onClick={this.onStateCreate}>\n          <BoxAddIcon/>\n        </IconButton>\n      </div>\n    </InfoBlock>;\n  }\n}\n\nexport default StatesList;\n","import React from 'react';\n\nimport './AlphabetTag.css';\nimport Config from 'config.js';\n\nclass AlphabetTag extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      symbol: null,\n      error: false\n    };\n\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  onFocus(e)\n  {\n    const target = e.target;\n    this.setState({\n      symbol: this.props.src,\n      error: false\n    }, () => target.select());\n\n    //Call any listening focus\n    if (this.props.onFocus) this.props.onFocus(e);\n  }\n\n  onBlur(e)\n  {\n    const machineController = this.props.machineController;\n    const newSymbol = this.state.symbol;\n\n    if (newSymbol != null)\n    {\n      const oldSymbol = this.props.src;\n      if (newSymbol.length > 0)\n      {\n        const alphabet = machineController.getAlphabet();\n        if (!alphabet.includes(newSymbol))\n        {\n          if (oldSymbol)\n          {\n            //Valid! Rename it!\n            machineController.renameSymbol(oldSymbol, newSymbol);\n          }\n          else\n          {\n            //Valid! Add it to the list!\n            machineController.createSymbol(newSymbol);\n          }\n        }\n        else\n        {\n          //Found something already named that! Ignore!\n        }\n      }\n      else if (oldSymbol)\n      {\n        //Delete!\n        machineController.deleteSymbol(oldSymbol);\n      }\n    }\n\n    this.setState({symbol: null, error: false});\n\n    //Call any listening blurs\n    if (this.props.onBlur) this.props.onBlur(e);\n  }\n\n  onKeyDown(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY || e.keyCode === Config.CLEAR_KEY)\n    {\n      e.preventDefault();\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      e.target.blur();\n    }\n    else if (e.keyCode === Config.CLEAR_KEY)\n    {\n      const target = e.target;\n      this.setState({ symbol: null, error: false}, () => {\n        target.blur();\n      });\n    }\n  }\n\n  onValueChange(e)\n  {\n    const machineController = this.props.machineController;\n    const symbol = e.target.value.trim();\n    let error = false;\n    if (symbol.length > 0)\n    {\n      const alphabet = machineController.getAlphabet();\n      if (alphabet.includes(symbol) && symbol != this.props.src)\n      {\n        error = true;\n      }\n    }\n\n    this.setState({\n      symbol: symbol,\n      error: error\n    });\n  }\n\n  render()\n  {\n    const symbol = this.state.symbol != null ? this.state.symbol : this.props.src;\n    const isUsed = false;\n    //TODO: const isUsed = this.props.src && this.props.machineController.getMachineBuilder().getMachine().getUsedAlphabet().includes(symbol);\n    return <div className={\"alphatag-container\" +\n      (isUsed ? \" usedtag\" : \"\") +\n      (this.props.src && (!symbol || symbol.length == 0) ? \" emptytag\" : \"\") +\n      (this.state.symbol && this.state.error ? \" errortag\" : \"\")}>\n      <input type=\"text\" ref={ref=>this.ref=ref} className=\"alphatag-input\"\n        spellCheck=\"false\"\n        maxLength=\"1\"\n        value={symbol}\n        onChange={this.onValueChange}\n        onFocus = {this.onFocus}\n        onBlur={this.onBlur}\n        onKeyUp={this.onKeyUp}\n        onKeyDown={this.onKeyDown}/>\n    </div>;\n  }\n}\n\nexport default AlphabetTag;\n","import React from 'react';\nimport './AlphabetList.css';\n\nimport InfoBlock from '../infoblock/InfoBlock.js';\nimport IconButton from 'icons/IconButton.js';\nimport BoxAddIcon from 'icons/BoxAddIcon.js';\n\nimport AlphabetTag from './AlphabetTag.js';\n\nclass AlphabetList extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n    this.editingTag = null;\n\n    this.state = {\n      editing: false\n    };\n\n    this.onSymbolCreate = this.onSymbolCreate.bind(this);\n    this.onStopEditing = this.onStopEditing.bind(this);\n  }\n\n  onSymbolCreate(e)\n  {\n    this.setState({editing: true}, () => {\n      this.editingTag.ref.focus();\n    });\n  }\n\n  onStopEditing(e)\n  {\n    this.setState({editing: false});\n  }\n\n  render()\n  {\n    const machineController = this.props.machineController;\n    const alphabet = machineController.getAlphabet();\n\n    return <InfoBlock title={I18N.toString(\"component.alphabetlist.title\")}>\n      <div className=\"alphalist-container\">\n        <div className=\"alphalist\">\n          {\n            alphabet.map((e, i) => {\n              return <AlphabetTag key={e + \".\" + i} src={e} machineController={machineController}/>\n            })\n          }\n          {\n            this.state.editing &&\n            <AlphabetTag ref={ref=>this.editingTag=ref} src={\"\"} machineController={machineController}\n              onBlur={this.onStopEditing}/>\n          }\n        </div>\n\n        <IconButton onClick={this.onSymbolCreate}>\n          <BoxAddIcon/>\n        </IconButton>\n      </div>\n    </InfoBlock>;\n  }\n}\n\nexport default AlphabetList;\n","import React from 'react';\nimport './TransitionTable.css';\n\nimport InfoBlock from '../infoblock/InfoBlock.js';\nimport NFA from 'machine/NFA.js';\nimport { EMPTY } from 'machine/Symbols.js';\n\nconst SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nconst SYMBOL_AXIS = \"symbols\";\nconst STATE_AXIS = \"states\";\n\nclass TransitionTable extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      rowAxis: SYMBOL_AXIS\n    }\n  }\n\n  render()\n  {\n    const machineBuilder = this.props.machineBuilder;\n    const machine = machineBuilder.getMachine();\n    const states = machine.getStates();\n    const alphabet = machine.getAlphabet();\n    const transitions = machine.getTransitions();\n    const rowAxisType = this.state.rowAxis;\n    const isNFAMachine = machineBuilder.getMachineType() == \"NFA\";\n    const hasEmptyColumn = rowAxisType === SYMBOL_AXIS && isNFAMachine;\n\n    return <InfoBlock title={I18N.toString(\"component.transitiontable.title\")}>\n      <div className=\"transitiontable-container\">\n        <table className=\"transitiontable\">\n          <tbody>\n            <tr>\n              <th className=\"emptycell\">\n                <button className=\"panel-button\" onClick={()=>\n                  this.setState((prev, props)=>{\n                    return {\n                      rowAxis: prev.rowAxis == SYMBOL_AXIS ? STATE_AXIS : SYMBOL_AXIS\n                    };\n                  })}>\n                  {this.state.rowAxis == SYMBOL_AXIS ? \"Q/\\u03A3\" : \"Q/Q\"}\n                </button>\n              </th>\n              {\n                rowAxisType === SYMBOL_AXIS ?\n                  alphabet.map((e, i)=><th key={e} scope=\"col\" className=\"col\">{e}</th>) :\n                rowAxisType === STATE_AXIS ?\n                  states.map((e, i)=><th key={e} scope=\"col\" className=\"col\">{e}</th>) :\n                null\n              }\n              {\n                hasEmptyColumn &&\n                  <th scope=\"col\">{EMPTY}</th>\n              }\n            </tr>\n            {\n              states.map((e, i)=><tr key={e}>\n                <th scope=\"row\" className=\"row\">{e}</th>\n                {\n                  rowAxisType === SYMBOL_AXIS ?\n                    alphabet.map((symbol, i) => {\n                      let className = \"\";//TODO: machine.isFinalState(e) ? \"accept\" : \"\";\n                      const result = getDestinationFromSourceAndSymbol(machine, e, symbol, isNFAMachine);\n                      if (!isNFAMachine && (result.startsWith(\"{\") || result == \"-\"))\n                      {\n                        className += \" error\";\n                      }\n                      return <td key={e + \",\" + symbol} className={className}>\n                        {result}\n                      </td>;\n                    }) :\n                  rowAxisType === STATE_AXIS ?\n                    states.map((dst, i) => {\n                      const result = getSymbolFromSourceAndDestination(machine, e, dst);\n                      return <td key={e + \",\" + dst}>\n                        {result}\n                      </td>;\n                    }) :\n                  null\n                }\n                {\n                  hasEmptyColumn &&\n                    <td>{getDestinationFromSourceAndSymbol(machine, e, EMPTY)}</td>\n                }\n              </tr>)\n            }\n          </tbody>\n        </table>\n      </div>\n    </InfoBlock>;\n  }\n}\n\nfunction getDestinationFromSourceAndSymbol(machine, src, symbol, isSet=true)\n{\n  const result = machine.doTransition(src, symbol);\n\n  //Assumes that the machine is always an NFA, therefore the result is an array\n  if (Array.isArray(result))\n  {\n    return !isSet && result.length == 1 ?\n      result[0] :\n      result.length > 0 ?\n      \"{\" + result.join(\", \") + \"}\" : \"-\";\n  }\n  else\n  {\n    return result || \"-\";\n  }\n}\n\nfunction getSymbolFromSourceAndDestination(machine, src, dst)\n{\n  const result = [];\n  const transitions = machine.getTransitions();\n  for(const transition of transitions)\n  {\n    if (transition[SRC] == src && transition[DST] == dst)\n    {\n      result.push(transition[SYMBOL]);\n    }\n  }\n\n  if (result.length === 1)\n  {\n    return result[0];\n  }\n  else if (result.length > 0)\n  {\n    return \"{\" + result.join(\", \") + \"}\";\n  }\n  else\n  {\n    return \"-\";\n  }\n}\n\nexport default TransitionTable;\n","import React from 'react';\nimport './TransitionFunction.css';\n\nimport InfoBlock from '../infoblock/InfoBlock';\nimport { EMPTY } from 'machine/Symbols.js';\n\nclass TransitionFunction extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const machineBuilder = this.props.machineBuilder;\n    const machine = machineBuilder.getMachine();\n    const states = machine.getStates();\n    const alphabet = machine.getAlphabet().sort();\n    let isNFA = machineBuilder.getMachineType() == \"NFA\";\n    return(\n        <InfoBlock title=\"Transition Chart\">\n          <div className=\"transitionfunction-container\">\n            <table className=\"transitionfunction-table\">\n              <tbody>\n                <tr>\n                  <th>Q{\"\\u00d7\"}&Sigma;</th>\n                  <th>{isNFA ? \"\\u2118(Q)\" : \"Q\"}</th>\n                </tr>\n                {\n                  states.map((state, i) => {\n                    let emptrans = machine.doTransition(state, EMPTY);\n                    let empclassName = \"\";\n\n                    let transitions = alphabet.map((symbol, j) => {\n                      let className = \"\";\n                      let trans = machine.doTransition(state, symbol);\n                      if(isNFA && !trans.length) return;\n                      if(!isNFA && !trans.length) {\n                        className = \"error\";\n                        trans = \"-\";\n                      }\n                      if(!isNFA && trans.length > 1) {\n                        className = \"error\";\n                        trans = \"{\" + trans + \"}\"\n                      }\n                      trans = isNFA ? \"{\" + trans + \"}\" : \"\" + trans;\n                      return <tr key={\"\"+state+symbol}>\n                          <td className=\"transitionfunction-key\">{\"(\" + state + \",\" + symbol + \")\"}</td>\n                          <td className={\"transitionfunction-value \" + className}>{trans}</td>\n                        </tr>\n                    });\n\n                    if(emptrans.length > 0) {\n                      if(!isNFA) {\n                        empclassName = \"error\";\n                      }\n                      const addBrac = isNFA || emptrans.length > 1;\n                      emptrans = addBrac ? \"{\" + emptrans + \"}\" : \"\" + emptrans;\n                      transitions.unshift(\n                          <tr key={\"\"+state+EMPTY}>\n                            <td className={\"transitionfunction-key \" + empclassName}>{\"(\" + state + \",\" + EMPTY + \")\"}</td>\n                            <td className=\"transitionfunction-value\">{emptrans}</td>\n                          </tr>\n                      );\n                    }\n                    return transitions;\n                  })\n                }\n              </tbody>\n            </table>\n          </div>\n        </InfoBlock>\n    );\n  }\n}\n\nexport default TransitionFunction;\n","import React from 'react';\nimport './FormalDefinition.css';\nimport { EMPTY } from 'machine/Symbols.js';\n\nimport { EMPTY_SET, ARROW } from 'machine/Symbols.js';\n\nconst EQUAL = \"=\";\nconst DELTA = \"\\u03b4\";\n\nclass FormalDefinition extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const machineBuilder = this.props.machineBuilder;\n    const machine = machineBuilder.getMachine();\n    const states = machine.getStates();\n    const finalStates = machine.getFinalStates();\n    const alphabet = machine.getAlphabet().sort();\n    let isNFA = machineBuilder.getMachineType() == \"NFA\";\n    return <div className=\"formaldef-container\">\n      <h2>{\"M = (Q, \\u03A3, \\u03b4, q0, F)\"}</h2>\n      <div>\n        <h3>Q =</h3>\n        <span className=\"formaldef-values\">\n          {states.length > 0 ? \"{ \" + states.join(\", \") + \" }\" : EMPTY_SET}\n        </span>\n      </div>\n      <div>\n        <h3>&Sigma; =</h3>\n        <span className=\"formaldef-values\">\n          {alphabet.length > 0 ? \"{ \" + alphabet.join(\", \") + \" }\" : EMPTY_SET}\n        </span>\n      </div>\n      <div>\n        <h3>{DELTA}</h3>\n        <div className=\"formaldef-values\">\n          {\n            states.map((state, i) => {\n              let emptrans = machine.doTransition(state, EMPTY);\n              let empclassName = \"\";\n\n              let transitions = alphabet.map((symbol, j) => {\n                let className = \"\";\n                let trans = machine.doTransition(state, symbol);\n                if(isNFA && !trans.length) return;\n                if(!isNFA && !trans.length) {\n                  className = \"error\";\n                  trans = \"-\";\n                }\n                if(!isNFA && trans.length > 1) {\n                  className = \"error\";\n                  trans = \"{ \" + trans + \" }\"\n                }\n                trans = isNFA ? \"{ \" + trans + \" }\" : \"\" + trans;\n                return <div key={\"\"+state+symbol} className={className}>\n                      {DELTA + \"( ( \" + state + \", \" + symbol + \" ) )\" + \" \" + EQUAL + \" \" + trans}\n                </div>\n              });\n\n              if(emptrans.length > 0) {\n                if(!isNFA) {\n                  empclassName = \"error\";\n                }\n                const addBrac = isNFA || emptrans.length > 1;\n                emptrans = addBrac ? \"{ \" + emptrans + \" }\" : \"\" + emptrans;\n                transitions.unshift(\n                    <div key={\"\" + state + EMPTY} className={empclassName}>\n                      {DELTA + \"( ( \" + state + \", \" + EMPTY + \" ) )\" + \" \" + EQUAL + \" \" + emptrans}\n                    </div>\n                );\n              }\n              return transitions;\n            })\n          }\n          {\n            isNFA && <div id=\"formaldef-otherinputs\">\n              <div>{\"For all other inputs (q, x),\"}</div>\n              <div>{DELTA + \"( (q, x) )\" + \" \" + EQUAL + \" \" + EMPTY_SET}</div>\n            </div>\n          }\n        </div>\n      </div>\n      <div>\n        <h3>q0 =</h3>\n        <span className=\"formaldef-values\">\n          {states[0]}\n        </span>\n      </div>\n      <div>\n        <h3>F =</h3>\n        <span className=\"formaldef-values\">\n          {finalStates.length > 0 ? \"{ \" + finalStates.join(\",\") + \" }\" : EMPTY_SET}\n        </span>\n      </div>\n    </div>;\n  }\n}\n\nexport default FormalDefinition;\n","import React from 'react';\nimport '../Panel.css';\nimport './OverviewPanel.css';\n\nimport Config from 'config.js';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\n\nimport StatesList from './stateslist/StatesList.js';\nimport AlphabetList from './alphabetlist/AlphabetList.js';\nimport TransitionTable from './transitiontable/TransitionTable.js';\nimport TransitionFunction from './transitionfunction/TransitionFunction.js';\nimport FormalDefinition from \"./formaldefinition/FormalDefinition\";\n\nclass OverviewPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n\n    this.state = {\n      viewFormal: false\n    };\n\n    this.onChangeMachineType = this.onChangeMachineType.bind(this);\n    this.onAutoLayout = this.onAutoLayout.bind(this);\n\n    this.onChangeAutoRename = this.onChangeAutoRename.bind(this);\n    this.onSubmitAutoStatePrefix = this.onSubmitAutoStatePrefix.bind(this);\n    this.onAutoStateFormat = this.onAutoStateFormat.bind(this);\n\n    this.switchDefinition = this.switchDefinition.bind(this);\n  }\n\n  onAutoLayout(e)\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    graphController.applyAutoLayout();\n  }\n\n  onChangeMachineType(e)\n  {\n    const value = e.target.value;\n    const machineController = this.props.currentModule.getMachineController();\n    machineController.changeMachineTo(value);\n  }\n\n  onChangeAutoRename(e)\n  {\n    const machineBuilder = this.props.currentModule.getMachineController().getMachineBuilder();\n    machineBuilder.setAutoRenameNodes(e.target.checked);\n  }\n\n  onSubmitAutoStatePrefix(next, prev)\n  {\n    const labeler = this.props.currentModule.getMachineController().getMachineBuilder().getLabeler();\n    if (labeler.prefix != next)\n    {\n      labeler.prefix = next;\n      labeler.sortDefaultNodeLabels();\n    }\n  }\n\n  onAutoStateFormat(value)\n  {\n    return value && value.length > 0 ? value : Config.STR_STATE_LABEL;\n  }\n\n  switchDefinition()\n  {\n    this.setState((prev, props) => {\n      return { viewFormal: !prev.viewFormal };\n    });\n  }\n\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const graph = graphController.getGraph();\n    const machineBuilder = machineController.getMachineBuilder();\n\n    return <div className={\"panel-container \" + this.props.className} id=\"overview\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.overview.title\")}</h1>\n      </div>\n        <div className=\"panel-content\">\n          <select className=\"machine-type panel-select\"\n            value={machineBuilder.getMachineType()}\n            onChange={this.onChangeMachineType}>\n            <option value=\"DFA\">DFA</option>\n            <option value=\"NFA\">NFA</option>\n          </select>\n\n          {this.state.viewFormal &&\n            <FormalDefinition machineBuilder={machineBuilder}/>}\n\n          {\n            !this.state.viewFormal &&\n            <div>\n              <div>\n                <div className=\"graphinfo-important\">\n                  <StatesList graphController={graphController}/>\n                  <AlphabetList machineController={machineController}/>\n                </div>\n                <div className=\"graphinfo\">\n                  <TransitionFunction machineBuilder={machineBuilder}/>\n                  <TransitionTable machineBuilder={machineBuilder}/>\n                </div>\n              </div>\n              <hr/>\n\n              {/*State Labeling*/}\n              <div style={{paddingBottom: \"0.5em\"}}>\n                <h3 style={{marginBottom: \"0\"}}>State Labels</h3>\n                <div style={{display: \"flex\", flexDirection: \"row\"}}>\n                  <div className=\"statetag-container\">\n                    <FormattedInput defaultValue={machineBuilder.getLabeler().prefix} style={{width: \"4em\"}} formatter={this.onAutoStateFormat} captureOnExit=\"save\" onSubmit={this.onSubmitAutoStatePrefix}/>\n                  </div>\n                  <select style={{\n                      background: \"none\",\n                      outline: \"none\",\n                      border: \"none\",\n                      padding: \"0\",\n                      margin: \"0\",\n                      appearance: \"none\",\n                      color: \"white\"\n                    }} disabled={true}>\n                    <option>{\"0-9\"}</option>\n                    <option>{\"a-z\"}</option>\n                    <option>{\"A-Z\"}</option>\n                  </select>\n                </div>\n                <div className=\"panel-checkbox\">\n\n                  <input type=\"checkbox\" id=\"auto-statename\"\n                    onChange={this.onChangeAutoRename}\n                    checked={machineBuilder.shouldAutoRenameNodes()}/>\n                  <label htmlFor=\"auto-statename\">{I18N.toString(\"options.autolabel\")}</label>\n                </div>\n              </div>\n\n              <hr/>\n\n              <button className=\"panel-button\" onClick={this.onAutoLayout} disabled={graph.isEmpty()}>\n                {I18N.toString(\"action.overview.autolayout\")}\n              </button>\n            </div>\n          }\n\n          <button className=\"panel-button\" onClick={this.switchDefinition}>\n            {this.state.viewFormal ? \"Back\" : \"View Definition\"}\n          </button>\n        </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(OverviewPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.overview.title\"); }\n});\nOverviewPanel.UNLOCALIZED_NAME = \"component.overview.title\";\n\nexport default OverviewPanel;\n","import FSA from './FSA.js';\n\nconst SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nclass DFA extends FSA\n{\n  constructor()\n  {\n    super();\n  }\n\n  validate()\n  {\n    //TODO: Deprecate this\n    console.error(\"This is deprecated, please use FSA.isValidDFA()\");\n    return this.isValidDFA();\n  }\n\n  //Override default behavior\n  newTransition(fromState, toState, symbol)\n  {\n    if (!this._states.includes(fromState))\n    {\n      throw new Error(\"State \\'\" + fromState + \"\\' does not exist.\");\n    }\n\n    if (!this._states.includes(toState))\n    {\n      throw new Error(\"State \\'\" + toState + \"\\' does not exist.\");\n    }\n\n    for(const transition of this._transitions)\n    {\n      //Check if already exists...\n      if (transition[SRC] == fromState && transition[SYMBOL] == symbol && transition[DST] == toState)\n      {\n        return;\n      }\n      //Check if valid deterministic transition...\n      else if (transition[SRC] == fromState && transition[SYMBOL] == symbol)\n      {\n        throw new Error(\"Unable to create illegal nondeterministic transition for DFA.\");\n      }\n    }\n\n    //Create new transition\n    this._transitions.push([fromState, symbol, toState]);\n  }\n}\n\nexport default DFA;\n","import { solveDFA } from 'machine/util/solveDFA.js';\nimport { solveNFA, solveNFAbyStep } from 'machine/util/solveNFA.js';\n\nimport { DFA } from 'machine/DFA.js';\n\nconst STEPTIME = 500;\nconst SKIPTIME = 50;\n\nclass TestMode\n{\n  constructor(testingManager)\n  {\n    this.graphController = null;\n    this.machineController = null;\n\n    this.testingManager = testingManager;\n\n    this.targets = [];\n\n    this.history = [];\n    this.indexofString = -1;\n    this.result = false;\n\n    //for nfa use\n    this.cachedStates = [];\n    this.cachedSymbols = [];\n    this.checkedStates = [];\n    this.running = false;\n    this.started = false;\n    this.skipToEnd = false;\n\n    this.timer = null;\n\n    this.onNodeDestroy = this.onNodeDestroy.bind(this);\n  }\n\n  initialize(module)\n  {\n    this.graphController = module.getGraphController();\n    this.machineController = module.getMachineController();\n\n    //NOTE: This is not necessary because you can edit once in stepbystep mode\n    //this.graphController.getGraph().on(\"nodeDestroy\", this.onNodeDestroy);\n  }\n\n  destroy()\n  {\n    //this.graphController.getGraph().removeEventListener(\"nodeDestroy\", this.onNodeDestroy);\n  }\n\n  onNodeDestroy(node)\n  {\n    //this.targets.splice(this.targets.indexOf(node), 1);\n  }\n\n  onStart()\n  {\n    //Check the machine, if DFA, then it must be a valid DFA\n    /*if (this.machineController.getMachineBuilder().getMachineType() == \"DFA\")\n    {\n      const dfa = this.machineController.getMachineBuilder().toDFA();\n      if (!dfa.validate()) return;\n    }*/\n    this.prepareForNewTest();\n    this.started = true;\n    this.skipToEnd = false;\n  }\n\n  onResume()\n  {\n    //If at the end, restart!\n    if (!this.hasNextStep())\n    {\n      this.testingManager.inputList.resetTests(false);\n    }\n\n    this.running = true;\n\n    const step = () => {\n      if (this.running)\n      {\n        if (this.hasNextStep())\n        {\n          this.onNextStep();\n          this.timer = setTimeout(step, STEPTIME);\n        }\n        else\n        {\n          this.onPause();\n        }\n      }\n    };\n    this.timer = setTimeout(step, STEPTIME);\n  }\n\n  onPause()\n  {\n    this.running = false;\n  }\n\n  onStop()\n  {\n    this.targets.length = 0;\n\n    this.running = false;\n    this.started = false;\n    this.skipToEnd = false;\n  }\n\n  isRunning()\n  {\n    return this.running;\n  }\n\n  isStarted()\n  {\n    return this.started;\n  }\n\n  isSkipping()\n  {\n    return this.skipToEnd;\n  }\n\n  hasPrevStep()\n  {\n    return this.history.length > 0 ||\n      this.testingManager.inputList.hasPrevInput();\n  }\n\n  onPreviousStep()\n  {\n    if (this.history.length > 0)\n    {\n      const previous = this.history.pop();\n      this.targets.length = 0;\n      this.cachedStates.length = 0;\n      this.cachedSymbols.length = 0;\n      this.checkedStates.length = 0;\n\n      //Copy the old step\n      for(const target of previous.targets)\n      {\n        if (!target) throw new Error(\"Found null target\");\n\n        this.targets.push(target);\n      }\n      for(const state of previous.cachedStates)\n      {\n        this.cachedStates.push(state);\n      }\n      for(const symbol of previous.cachedSymbols)\n      {\n        this.cachedSymbols.push(symbol);\n      }\n      for(const state of previous.checkedStates)\n      {\n        this.checkedStates.push(state);\n      }\n\n      this.indexofString--;\n    }\n    else\n    {\n      this.indexofString = -1;\n      this.testingManager.inputList.prevInput();\n    }\n  }\n\n  hasNextStep()\n  {\n    return this.indexofString < this.testingManager.inputList.getCurrentInput().value.length ||\n      this.testingManager.inputList.hasNextInput();\n  }\n\n  onNextStep()\n  {\n    const testInput = this.testingManager.inputList.getCurrentInput();\n    const fsa = this.machineController.getMachineBuilder().getMachine();\n\n    //Get next character of current test string\n    this.indexofString += 1;\n\n    //If no more characters to get...\n    if(this.indexofString >= testInput.value.length)\n    {\n      //End of test string\n      //Run it one more time...\n      this.result = solveNFAbyStep(fsa, null, this.cachedStates, this.cachedSymbols, this.checkedStates);\n      testInput.setResult(this.result);\n\n      //If this is the last test input...\n      if (!this.testingManager.inputList.hasNextInput())\n      {\n        //End of test!\n        this.onPause();\n        return false;\n      }\n      else\n      {\n        const result = this.testingManager.inputList.nextInput();\n\n        //Stop the resume at each string\n        //this.running = false;\n\n        this.prepareForNewTest();\n        return true;\n      }\n    }\n    else\n    {\n      //Update history\n      const currentStep = this.getCurrentCache();\n      this.history.push(currentStep);\n\n      //Run it\n      let nextChar = testInput.value[this.indexofString];\n\n      this.result = solveNFAbyStep(fsa, nextChar, this.cachedStates, this.cachedSymbols, this.checkedStates);\n      //Update targets\n      this.targets.length = 0;\n\n      for(const state of this.cachedStates)\n      {\n        let node = this.machineController.getFirstGraphNodeByLabel(this.graphController.getGraph(), state.state);\n        if (!node) throw new Error(\"Found null target\");\n\n        if (!this.targets.includes(node)) this.targets.push(node);\n      }\n\n      if (this.targets.length <= 0 && !this.running)\n      {\n        this.skipToEnd = true;\n        const skipFunc = () => {\n          if (this.skipToEnd)\n          {\n            this.indexofString += 1;\n            if (this.indexofString >= testInput.value.length)\n            {\n              this.skipToEnd = false;\n            }\n            else\n            {\n              setTimeout(skipFunc, SKIPTIME);\n            }\n          }\n        };\n        setTimeout(skipFunc, SKIPTIME);\n      }\n\n      return true;\n    }\n  }\n\n  getCurrentCache()\n  {\n    return {\n      targets: this.targets.slice(),\n      cachedStates: this.cachedStates.slice(),\n      cachedSymbols: this.cachedSymbols.slice(),\n      checkedStates: this.checkedStates.slice()\n    };\n  }\n\n  getCurrentTestStringIndex()\n  {\n    return this.indexofString + 1;\n  }\n\n  prepareForNewTest()\n  {\n    this.cachedStates.length = 0;\n\n    const graph = this.graphController.getGraph();\n    if (graph.isEmpty()) return;\n\n    const machine = this.machineController.getMachineBuilder().getMachine();\n\n    this.targets.length = 0;\n\n    let startState = machine.getStartState();\n    for (let curr_state of machine.doClosureTransition(startState))\n    {\n      this.cachedStates.push({state: curr_state, index: 0});\n      const node = this.machineController.getFirstGraphNodeByLabel(graph, curr_state);\n      if (!node) throw new Error(\"Found null target\");\n      this.targets.push(node);\n    }\n\n    this.cachedSymbols.length = 0;\n    this.checkedStates.length = 0;\n    this.indexofString = -1;\n    this.history.length = 0;\n\n    this.skipToEnd = false;\n  }\n}\n\nexport default TestMode;\n","import { guid } from 'util/MathHelper.js';\n\nimport { solveNFA } from 'machine/util/solveNFA.js';\n\nconst SUCCESS = true;\nconst FAILURE = false;\nconst PENDING = null;\n\n//Only refer to input by index, NEVER by reference!\nclass TestingInputList\n{\n  constructor()\n  {\n    this.inputList = [];\n    this.addInput(\"\");\n\n    this.inputIndex = 0;\n  }\n\n  isEmpty()\n  {\n    for(const input of this.inputList)\n    {\n      if (input.value.length > 0)\n      {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  testByIndex(index, machine)\n  {\n    if (index < 0 || index >= this.inputList.length)\n    {\n      throw new Error(\"Cannot find test input for index\");\n    }\n\n    const input = this.inputList[index];\n    input.setResult(null);\n    //TODO: make this a promise\n    const result = solveNFA(machine, input.value);\n    input.setResult(result);\n    return result;\n  }\n\n  importTests(file)\n  {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try\n      {\n        //The only time the first element is being removed (then replaced)\n        this.inputList.length = 0;\n        this.inputIndex = 0;\n\n        const testInputs = event.target.result.split(\"\\n\");\n        for(let testInput of testInputs)\n        {\n          testInput = testInput.trim();\n          if (testInput.length > 0)\n          {\n            this.addInput(testInput);\n          }\n        }\n\n        //Make sure a first element exists\n        if (this.inputList.length < 0)\n        {\n          this.addInput(\"\");\n        }\n      }\n      catch(e)\n      {\n        reader.abort();\n      }\n    };\n    reader.readAsText(file);\n  }\n\n  getTestsAsStrings()\n  {\n    return this.inputList.map((e, i) => e.value);\n  }\n\n  clearTests()\n  {\n    //Reset first element\n    const first = this.inputList[0];\n    first.value = \"\";\n    first.result = null;\n    first.dirty = true;\n\n    //Reset list\n    this.inputList.length = 1;\n    this.inputIndex = 0;\n  }\n\n  resetTests(markDirty=true)\n  {\n    this.inputIndex = 0;\n\n    if (markDirty)\n    {\n      for(const input of this.inputList)\n      {\n        input.dirty = true;\n      }\n    }\n  }\n\n  getTests()\n  {\n    return this.inputList;\n  }\n\n  addInput(value)\n  {\n    const input = {\n      value: value,\n      result: null,\n      dirty: true,\n      id: guid(),\n      setResult(result)\n      {\n        this.dirty = false;\n        this.result = result;\n      }\n    };\n\n    this.inputList.push(input);\n    return input;\n  }\n\n  getInputByIndex(index)\n  {\n    if (index < 0 || index >= this.inputList.length)\n    {\n      throw new Error(\"Cannot find test input for index\");\n    }\n\n    return this.inputList[index];\n  }\n\n  removeInputByIndex(index)\n  {\n    if (index < 0 || index >= this.inputList.length)\n    {\n      throw new Error(\"Cannot find test input for index\");\n    }\n\n    if (index === 0)\n    {\n      //Cannot delete the first input element\n      throw new Error(\"Cannot delete the first test input\");\n    }\n\n    if (index <= this.inputIndex)\n    {\n      --this.inputIndex;\n    }\n\n    this.inputList.splice(index, 1);\n  }\n\n  nextInput()\n  {\n    ++this.inputIndex;\n    if (this.inputIndex >= this.inputList.length)\n    {\n      this.inputIndex = 0;\n    }\n\n    return this.inputList[this.inputIndex];\n  }\n\n  prevInput()\n  {\n    --this.inputIndex;\n    if (this.inputIndex < 0)\n    {\n      this.inputIndex = this.inputList.length - 1;\n    }\n\n    return this.inputList[this.inputIndex];\n  }\n\n  resetInput()\n  {\n    this.inputIndex = 0;\n  }\n\n  hasNextInput()\n  {\n    return this.inputIndex < this.inputList.length;\n  }\n\n  hasPrevInput()\n  {\n    return this.inputIndex > 0;\n  }\n\n  getCurrentInput()\n  {\n    return this.inputList[this.inputIndex];\n  }\n\n  getCurrentInputIndex()\n  {\n    return this.inputIndex;\n  }\n}\n\nexport default TestingInputList;\n","import Viewport from 'content/viewport/Viewport.js';\nimport TestMode from './TestMode.js';\nimport TestingInputList from './TestingInputList.js';\n\nclass TestingManager\n{\n  constructor()\n  {\n    this.machineController = null;\n    this.viewport = null;\n\n    this.inputList = new TestingInputList();\n\n    this.shouldCheckError = false;\n    this.isImmediateErrorCheck = false;\n    this.errorCheckMode = TestingManager.NO_ERROR_CHECK;\n    this.stepByStepMode = false;\n\n    this.testMode = new TestMode(this);\n  }\n\n  initialize(module, viewport)\n  {\n    this.machineController = module.getMachineController();\n    this.viewport = viewport;\n\n    this.testMode.initialize(module);\n  }\n\n  destroy()\n  {\n\n  }\n\n  setErrorCheckMode(mode)\n  {\n    const machineBuilder = this.machineController.getMachineBuilder();\n\n    //Update machine builder error checker\n    machineBuilder.setMachineType(machineBuilder.getMachineType());\n\n    if (mode == TestingManager.NO_ERROR_CHECK)\n    {\n      this.shouldCheckError = false;\n      this.errorCheckMode = mode;\n    }\n    else if (mode == TestingManager.DELAYED_ERROR_CHECK)\n    {\n      this.shouldCheckError = true;\n      this.isImmediateErrorCheck = false;\n      this.errorCheckMode = mode;\n    }\n    else if (mode == TestingManager.IMMEDIATE_ERROR_CHECK)\n    {\n      this.shouldCheckError = true;\n      this.isImmediateErrorCheck = true;\n      this.errorCheckMode = mode;\n    }\n    else\n    {\n      throw new Error(\"Unknown error check mode \\'\" + mode + \"\\'\");\n    }\n  }\n\n  getErrorCheckMode()\n  {\n    return this.errorCheckMode;\n  }\n\n  setStepByStepMode(mode)\n  {\n    this.stepByStepMode = mode ? true : false;\n    if (mode)\n    {\n      if (this.testMode.isStarted()) this.testMode.onStop();\n      this.testMode.onStart();\n      this.viewport.setState((prev, props) => {\n        if (prev.mode != Viewport.TESTING)\n        {\n          return {\n            prevMode: prev.mode,\n            mode: Viewport.TESTING\n          };\n        }\n        else\n        {\n          //It's already the correct viewport mode\n        }\n      });\n    }\n    else\n    {\n      if (this.testMode.isStarted()) this.testMode.onStop();\n      this.viewport.setState((prev, props) => {\n        return {mode: prev.prevMode};\n      });\n    }\n  }\n\n  getStepByStepMode()\n  {\n    return this.stepByStepMode;\n  }\n}\nTestingManager.NO_ERROR_CHECK = \"none\";\nTestingManager.DELAYED_ERROR_CHECK = \"delayed\";\nTestingManager.IMMEDIATE_ERROR_CHECK = \"immediate\";\n\nexport default TestingManager;\n","import React from 'react';\n\nclass AddIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"add-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n    </svg>;\n  }\n}\n\nexport default AddIcon;\n","import React from 'react';\n\nclass RemoveIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"remove-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"/>\n    </svg>;\n  }\n}\n\nexport default RemoveIcon;\n","import React from 'react';\n\nclass SuccessIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"success-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/>\n      <path d=\"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n    </svg>;\n  }\n}\n\nexport default SuccessIcon;\n","import React from 'react';\n\nclass FailureIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"failure-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n    </svg>;\n  }\n}\n\nexport default FailureIcon;\n","import React from 'react';\n\nclass RunningManIcon extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n    render() {\n        return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n                <path d=\"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z\"/>\n            </svg>;\n    }\n}\n\nexport default RunningManIcon;\n","import React from 'react';\nimport './StatusButton.css';\n\nimport IconButton from 'icons/IconButton.js';\nimport SuccessIcon from 'icons/SuccessIcon.js';\nimport FailureIcon from 'icons/FailureIcon.js';\nimport WorkingIcon from 'icons/WorkingIcon.js';\nimport RunningManIcon from 'icons/RunningManIcon.js';\n\nclass StatusButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const active = this.props.active;\n    if (this.props.mode === true)\n    {\n      //Success icon\n      return <IconButton className={\"status-icon success\" + (active ? \" active\" : \"\")}\n        onClick={this.props.onClick}>\n        <SuccessIcon/>\n      </IconButton>;\n    }\n    else if (this.props.mode === false)\n    {\n      //Failure icon\n      return <IconButton className={\"status-icon failure\" + (active ? \" active\" : \"\")}\n        onClick={this.props.onClick}>\n        <FailureIcon/>\n      </IconButton>;\n    }\n    else\n    {\n      //Pending icon\n      return <IconButton className={\"status-icon\" + (active ? \" active\" : \"\")}\n        onClick={this.props.onClick}>\n        <RunningManIcon/>\n      </IconButton>;\n    }\n  }\n}\n\nexport default StatusButton;\n","import React from 'react';\nimport './TestingInput.css';\n\nimport Config from 'config.js';\nimport { EMPTY } from 'machine/Symbols.js';\n\nimport IconButton from 'icons/IconButton.js';\nimport AddIcon from 'icons/AddIcon.js';\nimport RemoveIcon from 'icons/RemoveIcon.js';\n\nimport StatusButton from './StatusButton.js';\n\nclass TestingInput extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = React.createRef();\n\n    this.onStatusClick = this.onStatusClick.bind(this);\n    this.onSubmitClick = this.onSubmitClick.bind(this);\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  getInput()\n  {\n    return this.props.testList.getInputByIndex(this.props.index);\n  }\n\n  isInputFirst()\n  {\n    return this.props.index === 0;\n  }\n\n  onStatusClick(e)\n  {\n    this.props.testList.testByIndex(this.props.index, this.props.machineBuilder.getMachine());\n  }\n\n  onSubmitClick(e)\n  {\n    if (this.isInputFirst())\n    {\n      const src = this.getInput();\n\n      //Add test input to list\n      const newTest = this.props.testList.addInput(src.value);\n      //Copy result to new test (should not be setResult)\n      newTest.result = src.result;\n      newTest.dirty = src.dirty;\n\n      //Delete already processed test\n      src.value = \"\";\n      src.result = null;\n      src.dirty = true;\n\n      //Reselect the target\n      this.ref.focus();\n    }\n    else\n    {\n      //Remove test input from list\n      this.props.testList.removeInputByIndex(this.props.index);\n    }\n  }\n\n  onValueChange(e)\n  {\n    const value = e.target.value.trim();\n    const src = this.getInput();\n    src.value = value;\n    src.dirty = true;\n  }\n\n  onKeyDown(e)\n  {\n    //If it is an 'enter', don't put in a new line...\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      e.preventDefault();\n    }\n    //Delete it if there is no value in it\n    else if (e.keyCode === Config.DELETE_KEY)\n    {\n      const src = this.getInput();\n      if (src.value.length <= 0)\n      {\n        const nextIndex = this.props.index + 1;\n        //Replace this input with the next one if there is one...\n        //Also, cannot delete first input, but this will never get there :)\n        if (this.props.testList.getTests().length > nextIndex)\n        {\n          const nextInput = this.props.testList.getInputByIndex(nextIndex);\n          src.value = nextInput.value;\n          src.result = nextInput.result;\n          src.dirty = nextInput.dirty;\n\n          this.props.testList.removeInputByIndex(nextIndex);\n        }\n      }\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      const shouldTestOnly = e.shiftKey;\n\n      //Should try to add and NOT run\n      if (this.isInputFirst() && !shouldTestOnly)\n      {\n        const src = this.getInput();\n\n        //Add test input to list\n        const newTest = this.props.testList.addInput(src.value);\n        //Copy result to new test (should not be setResult)\n        newTest.result = src.result;\n        newTest.dirty = src.dirty;\n\n        //Delete already processed test\n        src.value = \"\";\n        src.result = null;\n        src.dirty = true;\n\n        //Refocus the target\n        this.ref.focus();\n      }\n      //Should try to run ONLY\n      else\n      {\n        this.props.testList.testByIndex(this.props.index, this.props.machineBuilder.getMachine());\n\n        //Select everything again\n        this.ref.select();\n      }\n    }\n    else if (e.keyCode === Config.CLEAR_KEY)\n    {\n      e.target.blur();\n    }\n  }\n\n  render()\n  {\n    const src = this.getInput();\n    const first = this.isInputFirst();\n    return <div className={\"testinginput-container \" +\n      (this.props.testList.getCurrentInputIndex() === this.props.index ? \" active\" : \"\")}>\n\n      <StatusButton active={!src.dirty} mode={src.result} onClick={this.onStatusClick}/>\n\n      <input ref={ref=>this.ref=ref} className=\"testinginput-field\"\n        value={src.value}\n        placeholder={EMPTY}\n        onChange={this.onValueChange}\n        onKeyDown={this.onKeyDown}\n        onKeyUp={this.onKeyUp}\n        onFocus={(e)=>e.target.select()}/>\n\n      <IconButton className=\"testinginput-submit\" onClick={this.onSubmitClick}>\n        {first ? <AddIcon/> : <RemoveIcon/>}\n      </IconButton>\n    </div>;\n  }\n}\n\nexport default TestingInput;\n","import React from 'react';\n\nclass UploadTestButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.props.onClick}>\n      <input ref={ref=>this.uploadInput=ref}\n        id=\"test-upload-input\" type=\"file\" name=\"import\"\n        style={{display: \"none\"}}\n        onChange={this.props.onChange} accept=\".txt\"/>\n      <label htmlFor=\"test-upload-input\">\n        {this.props.children}\n      </label>\n    </button>;\n  }\n}\n\nexport default UploadTestButton;\n","import React from 'react';\n\nclass PageNewContentIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"pagenewcontent-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/>\n    </svg>;\n  }\n}\n\nexport default PageNewContentIcon;\n","import React from 'react';\n\nclass CloseIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"close-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default CloseIcon;\n","import React from 'react';\nimport '../Panel.css';\nimport './TestingPanel.css';\n\nimport Downloader from 'util/Downloader.js';\n\nimport TestingManager from 'modules/fsa/testing/TestingManager.js';\nimport TestingInput from './TestingInput.js';\n\nimport IconButton from 'icons/IconButton.js';\nimport UploadTestButton from './components/UploadTestButton.js';\n\nimport UploadIcon from 'icons/UploadIcon.js';\nimport CreateIcon from 'icons/PageNewContentIcon.js';\nimport SaveIcon from 'icons/SaveIcon.js';\nimport CloseIcon from 'icons/CloseIcon.js';\n\nconst TEST_FILENAME = \"test.txt\";\n\n//TODO: This is faster, since it's pretty easy to tell latency here. But really it shouldn't.\nconst REFRESH_TEST_TICKS = 30;\n\nclass TestingPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = React.createRef();\n    this.uploadInput = React.createRef();\n\n    this.state = {\n      errorCheckMode: this.props.currentModule.getTestingManager().getErrorCheckMode(),\n      noTestMode: true\n    };\n\n    this._savedGraphHash = 0;\n    this._ticksSinceHash = 0;\n    this.stepByStepModeChecked = false;\n\n    this.onChangeErrorCheckMode = this.onChangeErrorCheckMode.bind(this);\n    this.onUploadFileChange = this.onUploadFileChange.bind(this);\n    this.onGraphChange = this.onGraphChange.bind(this);\n    this.onTestsRunAll = this.onTestsRunAll.bind(this);\n    this.onTestsClear = this.onTestsClear.bind(this);\n    this.onTestsSave = this.onTestsSave.bind(this);\n    this.onTestsNew = this.onTestsNew.bind(this);\n    this.onTestsUpload = this.onTestsUpload.bind(this);\n  }\n\n  componentWillMount()\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    const graph = graphController.getGraph();\n\n    //HACK: this should be in FSABuilder and listen for machine changes instead\n    this._savedGraphHash = graph.getHashCode();\n    this._ticksSinceHash = 0;\n  }\n\n  componentWillUnmount()\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    const graph = graphController.getGraph();\n    this._savedGraphHash = 0;\n  }\n\n  onGraphChange(g)\n  {\n    const tester = this.props.currentModule.getTestingManager();\n    tester.inputList.resetTests();\n  }\n\n  onUploadFileChange(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      const tester = this.props.currentModule.getTestingManager();\n      tester.inputList.importTests(files[0]);\n      document.getElementById(\"test-name\").innerHTML = files[0].name;\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  onChangeErrorCheckMode(e)\n  {\n    const value = e.target.value;\n\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule.getTestingManager();\n\n    const graph = graphController.getGraph();\n    const machineBuilder = machineController.getMachineBuilder();\n    tester.setErrorCheckMode(value);\n\n    //HACK: this should automatically be updated by testing manager on set error check mode\n    if (!tester.shouldCheckError)\n    {\n      machineBuilder.machineErrorChecker.clear();\n    }\n    else\n    {\n      machineBuilder.onGraphChange(graph);\n    }\n\n    this.setState({errorCheckMode: value});\n  }\n\n  onTestsRunAll(e)\n  {\n    const currentModule = this.props.currentModule;\n    const machine = currentModule.getMachineController().getMachineBuilder().getMachine();\n    const tester = currentModule.getTestingManager();\n    if (tester.testMode.isStarted())\n    {\n      tester.setStepByStepMode(false);\n    }\n    else\n    {\n      const testList = tester.inputList;\n      const length = testList.getTests().length;\n      tester.setStepByStepMode(this.stepByStepModeChecked);\n      for(let i = 0; i < length; ++i)\n      {\n        testList.testByIndex(i, machine);\n      }\n    }\n  }\n\n  onTestsClear(e)\n  {\n    const tester = this.props.currentModule.getTestingManager();\n    tester.inputList.clearTests();\n    this.clearTestName();\n    this.hideTestInputList();\n    this.setState({noTestMode: true});\n  }\n\n  onTestsSave(e)\n  {\n    const tester = this.props.currentModule.getTestingManager();\n    Downloader.downloadText(TEST_FILENAME, tester.inputList.getTestsAsStrings().join(\"\\n\"));\n  }\n\n  onTestsNew(e)\n  {\n      this.onTestsClear();\n      this.showTestInputList();\n      this.clearTestName();\n      this.setState({noTestMode: false});\n  }\n\n  onTestsUpload(e)\n  {\n      this.onTestsNew();\n      this.showTestInputList();\n  }\n\n  showTestInputList() {\n      document.getElementById(\"test-inputlist-container\").style.display = \"block\";\n  }\n\n  hideTestInputList() {\n      document.getElementById(\"test-inputlist-container\").style.display = \"none\";\n  }\n\n  clearTestName() {\n      document.getElementById(\"test-name\").innerHTML = \"\";\n  }\n\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const tester = currentModule.getTestingManager();\n    const testList = tester.inputList;\n    const machineBuilder = currentModule.getMachineController().getMachineBuilder();\n\n    const isTestInvalid = !machineBuilder.isValidMachine();\n\n    if (--this._ticksSinceHash <= 0)\n    {\n      this._ticksSinceHash = REFRESH_TEST_TICKS;\n      const graph = currentModule.getGraphController().getGraph();\n      const graphHash = graph.getHashCode();\n      if (this._savedGraphHash !== graphHash)\n      {\n        this.onGraphChange(graph);\n        this._savedGraphHash = graphHash;\n      }\n    }\n\n    return <div className={\"panel-container \" + this.props.className} id=\"testing\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.testing.title\")}</h1>\n      </div>\n\n      <div className=\"test-icon-row\">\n\n          <IconButton className=\"testicon\" id=\"testing-new\" title={I18N.toString(\"action.testing.new\")}\n            onClick={this.onTestsNew}>\n            <CreateIcon/>\n          </IconButton>\n\n          {/*Import Test Button*/}\n          <UploadTestButton className=\"testicon\" id=\"testing-upload\" title={I18N.toString(\"action.testing.import\")}\n            onClick={this.onTestsUpload} onChange={this.onUploadFileChange}>\n            <UploadIcon/>\n          </UploadTestButton>\n\n          {/*Save Test Button*/}\n          <IconButton className=\"testicon\" id=\"testing-save\" title={I18N.toString(\"action.testing.save\")}\n            onClick={this.onTestsSave} disabled={tester.inputList.isEmpty()}>\n            <SaveIcon/>\n          </IconButton>\n\n          <IconButton className=\"testicon\" id=\"testing-clear\" title={I18N.toString(\"action.testing.clear\")}\n            onClick={this.onTestsClear}\n            disabled={this.state.noTestMode}>\n            <CloseIcon/>\n          </IconButton>\n\n      </div>\n\n      <div className=\"panel-content\">\n\n        <div className=\"test-inputlist-container\" id=\"test-inputlist-container\" style={{\"display\": \"none\"}}>\n\n\n          <div className=\"scrollbar-container\">\n            <h3 id=\"test-name\">Test Name</h3>\n            <div className=\"test-inputlist-content\">\n              {\n                isTestInvalid &&\n                <label className=\"test-inputlist-content-warning\">Not a valid machine!</label>\n              }\n              {\n                testList.getTests().map((e, i) =>\n                  <TestingInput key={e.id} index={i}\n                    testList={testList}\n                    machineBuilder={machineBuilder}/>)\n              }\n              {\n                /*\n                <button className=\"panel-button\" onClick={() => testList.addInput(\"\")}>\n                  {I18N.toString(\"action.testing.add\")}\n                </button>\n                */\n              }\n            </div>\n          </div>\n\n          <button className=\"panel-button\" onClick={this.onTestsRunAll}>\n            {tester.testMode.isStarted() ? I18N.toString(\"action.testing.stoprun\") : I18N.toString(\"action.testing.runall\")}\n          </button>\n\n          <div className=\"panel-checkbox\">\n            <input id=\"test-step\" type=\"checkbox\"\n              checked={this.stepByStepModeChecked}\n              onChange={(e) => {\n                this.stepByStepModeChecked = e.target.checked;\n                if(!this.stepByStepModeChecked) tester.setStepByStepMode(false);\n              }}\n              disabled={tester.testMode.isStarted()}/>\n            <label htmlFor=\"test-step\">{I18N.toString(\"options.testing.stepmode\")}</label>\n          </div>\n\n        </div>\n\n        <hr />\n\n        <div id=\"test-errorcheck\">\n          <label>{I18N.toString(\"options.checkerrors\")}</label>\n          <select className=\"panel-select\"\n            value={this.state.errorCheckMode}\n            onChange={this.onChangeErrorCheckMode}>\n            <option value={TestingManager.NO_ERROR_CHECK}>{I18N.toString(\"options.checkerrors.mode.none\")}</option>\n            <option value={TestingManager.DELAYED_ERROR_CHECK}>{I18N.toString(\"options.checkerrors.mode.delayed\")}</option>\n            <option value={TestingManager.IMMEDIATE_ERROR_CHECK}>{I18N.toString(\"options.checkerrors.mode.immediate\")}</option>\n          </select>\n        </div>\n\n      </div>\n\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(TestingPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.testing.title\"); }\n});\nTestingPanel.UNLOCALIZED_NAME = \"component.testing.title\";\n\nexport default TestingPanel;\n","import React from 'react';\n\nclass NFAToDFAConversionWarningMessage extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n    }\n\n    onClick(e)\n    {\n        const message = this.props.message;\n        const buttonValue = e.target.value;\n\n        switch(buttonValue)\n        {\n            case \"convert\":\n                {\n                    const machineController = this.props.machineController;\n                    machineController.convertMachineTo(\"DFA\");\n                    message.close();\n                }\n            break;\n            default:\n              throw new Error(\"Unknown button value for message\");\n        }\n    }\n\n    render()\n    {\n        const machineController = this.props.machineController;\n        const machine = machineController.getMachineBuilder().getMachine();\n        const stateCount = machine.getStates().length;\n\n        return <div>\n          <p>{I18N.toString(\"message.warning.convertNFAToDFA\")}</p>\n          <p>{`${stateCount} states -> ${Math.pow(2, stateCount)} states`}</p>\n          <button value=\"convert\" onClick={this.onClick}>{I18N.toString(\"message.action.convert\")}</button>\n        </div>;\n\n    }\n}\n\nexport default NFAToDFAConversionWarningMessage;\n","import React from 'react';\nimport Config from 'config.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport NFAToDFAConversionWarningMessage from 'modules/fsa/notifications/NFAToDFAConversionWarningMessage.js';\n\nclass AnalysisPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n    this.optimizeUnreachOption = null;\n    this.optimizeRedundOption = null;\n\n    this.onConvertToDFA = this.onConvertToDFA.bind(this);\n    this.onConvertToNFA = this.onConvertToNFA.bind(this);\n\n    this.onOptimizeMachine = this.onOptimizeMachine.bind(this);\n  }\n\n  onDeleteAllUnreachable(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const unreachableArray = machineController.getMachineBuilder().machineErrorChecker.getUnreachableNodes();\n    graphController.deleteTargetNodes(unreachableArray);\n  }\n\n  onConvertToDFA(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const props = {graphController: graphController, machineController: machineController};\n    const messageTag = Config.MACHINE_CONVERSION_MESSAGE_TAG;\n\n    //machineController.convertMachineTo(\"DFA\");\n    Notifications.addMessage(I18N.toString(\"message.warning.convertNFAToDFA\"),\n      \"warning\", messageTag, NFAToDFAConversionWarningMessage, props);\n  }\n\n  onConvertToNFA(e)\n  {\n    const machineController = this.props.currentModule.getMachineController();\n    machineController.convertMachineTo(\"NFA\");\n  }\n\n  onOptimizeMachine(e)\n  {\n    if (this.optimizeUnreachOption.checked)\n    {\n      this.onDeleteAllUnreachable(e);\n    }\n  }\n\n  canOptimize()\n  {\n    return (this.optimizeRedundOption && this.optimizeRedundOption.checked) ||\n    (this.optimizeUnreachOption && this.optimizeUnreachOption.checked);\n  }\n\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const graph = graphController.getGraph();\n    const machineBuilder = machineController.getMachineBuilder();\n\n    return <div className={\"panel-container \" + this.props.className} id=\"analysis\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\"><h1>{I18N.toString(\"component.analysis.title\")}</h1></div>\n      <div className=\"panel-content\">\n\n        {/*Optimize*/}\n        <div style={{paddingBottom: \"0.5em\"}}>\n          <h3 style={{marginBottom: \"0\"}}>Optimizations</h3>\n          <div style={{paddingBottom: \"0.5em\"}}>\n            <div>\n              <input ref={ref=>this.optimizeUnreachOption=ref} id=\"opt-unreach\" type=\"checkbox\"/>\n              <label htmlFor=\"opt-unreach\">Unreachables</label>\n            </div>\n            <div>\n              <input ref={ref=>this.optimizeRedundOption=ref} id=\"opt-redund\" type=\"checkbox\" disabled={true}/>\n              <label htmlFor=\"opt-redund\">Redundant States</label>\n            </div>\n          </div>\n          <button className=\"panel-button\" onClick={this.onOptimizeMachine} disabled={!this.canOptimize()}>Optimize</button>\n        </div>\n\n        <hr/>\n        {\n          machineBuilder.getMachineType() == \"DFA\" ?\n            <button className=\"panel-button\" onClick={this.onConvertToNFA}>\n              {I18N.toString(\"action.overview.convertnfa\")}\n            </button>\n          : machineBuilder.getMachineType() == \"NFA\" ?\n            <button className=\"panel-button\" onClick={this.onConvertToDFA}>\n              {I18N.toString(\"action.overview.convertdfa\")}\n            </button>\n          : null\n        }\n\n      </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(AnalysisPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.analysis.title\"); }\n});\nAnalysisPanel.UNLOCALIZED_NAME = \"component.analysis.title\";\n\nexport default AnalysisPanel;\n","import React from 'react';\n\nclass AboutPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n  }\n\n  //Override\n  render()\n  {\n    return <div className={\"panel-container \" + this.props.className} id=\"about\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>Finite State Automata</h1>\n      </div>\n      <div className=\"panel-content\">\n        <p>{\"Brought to you with \\u2764 by the Flap.js team.\"}</p>\n        <p>{\"<- Tap on a tab to begin!\"}</p>\n      </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\n\nexport default AboutPanel;\n","class AbstractInputController\n{\n  constructor(module, inputAdapter)\n  {\n    this._module = module;\n    this._inputAdapter = inputAdapter.setController(this);\n  }\n\n  initialize(module) {}\n  destroy(module) {}\n  update(module) {}\n\n  //Override\n  onPreInputEvent(pointer) { return false; }\n  //Override\n  onInputEvent(pointer) { return false; }\n  //Override\n  onAltInputEvent(pointer) { return this.onInputEvent(pointer); }\n  //Override\n  onDblInputEvent(pointer) { return false; }\n  //Override\n  onDragStart(pointer) { return false; }\n  //Override\n  onDragMove(pointer) { return false; }\n  //Override\n  onDragStop(pointer) { return false; }\n  //Override\n  onPostInputEvent(pointer) {}\n  //Override\n  onZoomChange(pointer, zoomValue, prevValue) { return true; }\n\n  getInputAdapter()\n  {\n    return this._inputAdapter;\n  }\n\n  getModule()\n  {\n    return this._module;\n  }\n}\n\nexport default AbstractInputController;\n","import Config from 'config.js';\n\nclass GraphPicker\n{\n  constructor()\n  {\n    this.selectionBox = {\n      fromX: 0, fromY: 0,\n      toX: 0, toY: 0,\n      visible: false\n    };\n    this.targets = [];\n\n    this.target = null;\n    this.targetType = \"\";\n\n    this.initialTarget = null;\n    this.initialTargetType = \"\";\n  }\n\n  setInitialTarget(target, type)\n  {\n    this.initialTarget = target;\n    this.initialTargetType = type;\n  }\n\n  updateTarget(graph, x, y)\n  {\n    if (this.target = this.getNodeByInitialMarkerAt(graph, x, y))\n    {\n      //Clicked on initial marker\n      this.targetType = \"initial\";\n    }\n    else if (this.target = this.getEdgeByEndPointAt(graph, x, y))\n    {\n      //Clicked on endpoint\n      this.targetType = \"endpoint\";\n    }\n    else if (this.target = this.getNodeAt(graph, x, y))\n    {\n      //Clicked on node\n      this.targetType = \"node\";\n    }\n    else if (this.target = this.getEdgeAt(graph, x, y))\n    {\n      //Clicked on edge\n      this.targetType = \"edge\";\n    }\n    else\n    {\n      //Clicked on graph\n      this.target = null;\n      this.targetType = \"none\";\n    }\n\n    return this.target;\n  }\n\n  clearTarget()\n  {\n    this.target = null;\n    this.targetType = \"none\";\n  }\n\n  hasTarget()\n  {\n    return this.target != null;\n  }\n\n  getNodeAt(graph, x, y)\n  {\n    //Search graph\n    for(const node of graph.getNodes())\n    {\n      const dx = x - node.x;\n      const dy = y - node.y;\n      if (dx * dx + dy * dy < Config.NODE_RADIUS_SQU)\n      {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  getNodeByInitialMarkerAt(graph, x, y)\n  {\n    const startNode = graph.getStartNode();\n    if (!startNode) return null;\n\n    const dx = x - (startNode.x + Config.INITIAL_MARKER_OFFSET_X);\n    const dy = y - startNode.y;\n    if (dx * dx + dy * dy < Config.EDGE_RADIUS_SQU)\n    {\n      return startNode;\n    }\n\n    return null;\n  }\n\n  getEdgeAt(graph, x, y)\n  {\n    const center = {x: 0, y: 0};\n\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getCenterPoint(center);\n      const dx = x - center.x;\n      const dy = y - center.y;\n      if (dx * dx + dy * dy < Config.EDGE_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getEdgeByEndPointAt(graph, x, y)\n  {\n    const end = {x: 0, y: 0};\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getEndPoint(end);\n      const dx = x - end.x;\n      const dy = y - end.y;\n      if (dx * dx + dy * dy < Config.ENDPOINT_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getSelectionBox()\n  {\n    return this.selectionBox;\n  }\n\n  getSelection(graph, forceUpdate=false)\n  {\n    if (forceUpdate)\n    {\n      const box = this.selectionBox;\n      const mx = Math.max(box.toX, box.fromX);\n      const my = Math.max(box.toY, box.fromY);\n      const lx = Math.min(box.toX, box.fromX);\n      const ly = Math.min(box.toY, box.fromY);\n      this.clearSelection();\n      getNodesWithin(graph, lx, ly, mx, my, this.targets);\n    }\n\n    return this.targets;\n  }\n\n  hasSelection()\n  {\n    return this.targets.length > 0;\n  }\n\n  clearSelection()\n  {\n    this.targets.length = 0;\n  }\n\n  isTargetInSelection(target)\n  {\n    return this.targets.includes(target || this.target);\n  }\n\n  isTarget(target)\n  {\n    return this.target == target;\n  }\n\n  beginSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.fromX = box.toX = x;\n    box.fromY = box.toY = y;\n    this.clearSelection();\n\n    box.visible = true;\n  }\n\n  updateSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n  }\n\n  endSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n\n    box.visible = false;\n  }\n\n  isSelecting()\n  {\n    return this.selectionBox.visible;\n  }\n}\n\nfunction getNodesWithin(graph, x1, y1, x2, y2, dst)\n{\n  const fromX = Math.min(x1, x2);\n  const fromY = Math.min(y1, y2);\n  const toX = Math.max(x1, x2);\n  const toY = Math.max(y1, y2);\n\n  for(const node of graph.getNodes())\n  {\n    if (node.x >= fromX && node.x < toX &&\n        node.y >= fromY && node.y < toY)\n    {\n      dst.push(node);\n    }\n  }\n  return dst;\n}\n\nexport default GraphPicker;\n","class GraphElement\n{\n  constructor(id)\n  {\n    this._id = id;\n  }\n\n  setGraphElementID(graphElementID)\n  {\n    this._id = graphElementID;\n    return this;\n  }\n\n  //A unique identifier for this graph element\n  getGraphElementID()\n  {\n    return this._id;\n  }\n\n  //Calls getHashString() to generate an integer hash generally unqiue to the instance.\n  //Should only be used to distinguish between other objects with the same\n  //hash function. In other words, every instance should only be compared to\n  //other instances of the same class.\n  //usePosition can be used to tell the hash function whether or not to consider\n  //aesthetic, or position, attributes of the element.\n  getHashString(usePosition=true)\n  {\n    return this._id;\n  }\n}\nexport default GraphElement;\n","import GraphElement from 'graph/GraphElement.js';\n\nclass GraphNode extends GraphElement\n{\n  constructor(id, x, y)\n  {\n    super(id);\n\n    this.x = x;\n    this.y = y;\n\n    this._label = \"\";\n  }\n\n  setNodeLabel(label)\n  {\n    this._label = label;\n    return this;\n  }\n\n  getNodeLabel()\n  {\n    return this._label;\n  }\n\n  getNodeSize()\n  {\n    return 16;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    if (usePosition)\n    {\n      return super.getHashString(usePosition) + \":\" + Math.floor(this.x) + \",\" + Math.floor(this.y) + \".\" + this._label;\n    }\n    else\n    {\n      return super.getHashString(usePosition) + \":\" + this._label;\n    }\n  }\n}\n\nexport default GraphNode;\n","import GraphNode from 'graph/GraphNode.js';\nimport Config from 'config.js';\n\nclass FSANode extends GraphNode\n{\n  constructor(id, x, y)\n  {\n    super(id, x, y);\n\n    this._accept = false;\n\n    //this is not saved to hash since it is an aesthetic option\n    this._custom = false;\n  }\n\n  setNodeAccept(value)\n  {\n    this._accept = value;\n  }\n\n  getNodeAccept()\n  {\n    return this._accept;\n  }\n\n  setNodeCustom(value)\n  {\n    this._custom = value;\n  }\n\n  getNodeCustom()\n  {\n    return this._custom;\n  }\n\n  //Override\n  getNodeSize()\n  {\n    return Config.NODE_RADIUS;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    return super.getHashString(usePosition) + \":\" + (this._accept ? \"1\" : \"0\");\n  }\n}\n\nexport default FSANode;\n","import GraphElement from 'graph/GraphElement.js';\n\nclass GraphEdge extends GraphElement\n{\n  constructor(id, from, to=null)\n  {\n    super(id);\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n\n    this._from = from;\n    this._to = to;\n\n    this._label = \"\";\n  }\n\n  setSourceNode(node)\n  {\n    if (!node) throw new Error(\"Source of edge cannot be null.\");\n\n    this._from = node;\n    return this;\n  }\n\n  getSourceNode()\n  {\n    return this._from;\n  }\n\n  setDestinationNode(node)\n  {\n    this._to = node;\n    return this;\n  }\n\n  changeDestinationNode(node)\n  {\n    this._to = node;\n  }\n\n  getDestinationNode()\n  {\n    return this._to;\n  }\n\n  setEdgeLabel(label)\n  {\n    this._label = label;\n  }\n\n  getEdgeLabel()\n  {\n    return this._label;\n  }\n\n  getEdgeDirection()\n  {\n    const from = this._from;\n    const to = this._to;\n    const HALFPI = Math.PI / 2;\n    let result = 0;\n\n    if (this.isPlaceholder())\n    {\n      result = Math.PI / 4;\n    }\n    else\n    {\n      const dy = to.y - from.y;\n      const dx = to.x - from.x;\n      result = Math.atan2(dy, dx);\n    }\n\n    if (result > HALFPI || result < -HALFPI)\n    {\n      result += Math.PI;\n    }\n\n    return result;\n  }\n\n  getStartPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    dst.x = from.x;\n    dst.y = from.y;\n    return dst;\n  }\n\n  getCenterPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n    if (this.isPlaceholder())\n    {\n      const halfPlaceholderLength = this.getPlaceholderLength() / 2;\n      dst.x = from.x + halfPlaceholderLength;\n      dst.y = from.y + halfPlaceholderLength;\n    }\n    else\n    {\n      dst.x = from.x + (to.x - from.x) / 2;\n      dst.y = from.y + (to.y - from.y) / 2;\n    }\n    return dst;\n  }\n\n  getEndPoint(dst={x: 0, y: 0})\n  {\n    if (this.isPlaceholder())\n    {\n      const from = this._from;\n      const placeholderLength = this.getPlaceholderLength();\n      dst.x = from.x + placeholderLength;\n      dst.y = from.y + placeholderLength;\n    }\n    else\n    {\n      const to = this._to;\n      dst.x = to.x;\n      dst.y = to.y;\n    }\n    return dst;\n  }\n\n  getPlaceholderLength()\n  {\n    return this._from.getNodeSize();\n  }\n\n  isPlaceholder()\n  {\n    return !this._to;\n  }\n\n  isSelfLoop()\n  {\n    return this._from === this._to;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    const src = this._from ? this._from.getHashString(usePosition) : \"\";\n    //HACK: to may be a pointer, which is not a node, so getHashString does not exist.\n    const dst = this._to ? this._to.getHashString ? this._to.getHashString(usePosition) : \"0\" : \"\";\n    return super.getHashString(usePosition) + \":\" + src + \",\" + dst + \".\" + this._label;\n  }\n}\n\nexport default GraphEdge;\n","import GraphEdge from 'graph/GraphEdge.js';\n\nclass GraphCurvedEdge extends GraphEdge\n{\n  constructor(id, from, to=null)\n  {\n    super(id, from, null);\n\n    //radians = the angle in radians, where 0 is the normal of midpoint\n    //length = the distance from midpoint\n    this._quad = {\n      radians: 0,\n      length: 0,\n      _coords: {x: 0, y: 0}\n    };\n\n    //Make sure to format it correctly when creating...\n    this.changeDestinationNode(to);\n  }\n\n  setQuadratic(radians, length=undefined)\n  {\n    this._quad.radians = radians;\n    if (typeof length === 'number')\n    {\n      this._quad.length = length;\n    }\n    return this;\n  }\n\n  getQuadratic()\n  {\n    return this._quad;\n  }\n\n  isQuadratic()\n  {\n    return !this.isPlaceholder() && this._quad.length != 0;\n  }\n\n  setQuadraticByCoords(x, y)\n  {\n    const from = this._from;\n    const to = this._to;\n    const fromx = from.x;\n    const fromy = from.y;\n    const tox = to.x;\n    const toy = to.y;\n\n    let dx = tox - fromx;\n    let dy = toy - fromy;\n    const midpointx = fromx + dx / 2;\n    const midpointy = fromy + dy / 2;\n\n    //Remember: y-axis is flipped because canvas coord-space is -y => +y\n    //Therefore, dy needs to be flipped\n    const angleOffset = Math.atan2(-dy, dx);\n    dx = x - midpointx;\n    dy = y - midpointy;\n\n    const PI = Math.PI;\n    const PI2 = PI * 2;\n    const HALFPI = PI / 2;\n    //0 rad = to the right\n    //Also: angleOffset is the offset from midpoint angle, the orthogonal base vector\n    //This is because the from and to could be flipped, and\n    //therefore give a negative, or at least a reversed angle.\n    let radians = Math.atan2(dy, dx) + angleOffset;\n    let length = Math.sqrt(dx * dx + dy * dy);\n    if (length < 0) length = 0;\n\n    const outrad = radians - (-HALFPI);//-PI / 2 is outward\n    const inrad = radians - (HALFPI);//PI / 2 is inward\n    //TODO: Should be dependent on length\n    const maxdr = PI / 20;\n\n    if (Math.abs(length) < 8)\n    {\n      radians = 0;\n      length = 0;\n    }\n    else if (outrad < maxdr && outrad > -maxdr)\n    {\n      radians = -HALFPI;//-PI / 2 is outward\n    }\n    else if (-inrad < maxdr && -inrad > -maxdr)\n    {\n      radians = HALFPI;//PI / 2 is inward\n    }\n\n    this._quad.radians = radians;\n    this._quad.length = length;\n  }\n\n  getQuadraticAsCoords()\n  {\n    const from = this._from;\n    const to = this._to;\n    const dst = this._quad._coords;\n    if (from == null || to == null)\n    {\n      dst.x = 0;\n      dst.y = 0;\n    }\n    else\n    {\n      /*\n      //To mark dirty...\n      _capture: {\n        fx: 0, fy: 0,\n        tx: 0, ty: 0,\n        ql: 0, qr: 0\n      }\n      */\n      getDirectionalVector(from.x, from.y, to.x, to.y, this._quad.length, this._quad.radians, dst);\n    }\n    return dst;\n  }\n\n  getSelfLoopHeight()\n  {\n    return this._from.getNodeSize();\n  }\n\n  formatAsSelfLoop()\n  {\n    this.setQuadratic(-Math.PI / 2, this._from.getNodeSize() + this.getSelfLoopHeight());\n  }\n\n  formatAsPlaceholder(prevDest)\n  {\n    //Quad is re-used to determine edge angle for placeholder\n    //This can be used specifically for quad since regular quad is\n    //dependent on this._to != null, which placeholder assumes this._to == null.\n    //Also, quad.length is ignored, because the length should always be\n    //getPlaceholderLength(). This is resolved by getStartPoint(), etc.\n    if (prevDest)\n    {\n      const dx = this._from.x - prevDest.x;\n      const dy = this._from.y - prevDest.y;\n      const angle = -Math.atan2(dx, dy) - (Math.PI / 2);\n      this._quad.radians = angle;\n    }\n    else\n    {\n      this._quad.radians = 0;\n    }\n  }\n\n  //Override\n  changeDestinationNode(node)\n  {\n    const prevDest = this._to;\n\n    //Just to optimize this a little :)\n    if (prevDest === node) return;\n\n    super.changeDestinationNode(node);\n\n    if (this.isPlaceholder())\n    {\n      this.formatAsPlaceholder(prevDest);\n    }\n    else if (this.isSelfLoop())\n    {\n      this.formatAsSelfLoop();\n    }\n  }\n\n  //Override\n  getEdgeDirection()\n  {\n    let result = 0;\n    if (this.isQuadratic())\n    {\n      const coords = this.getQuadraticAsCoords();\n      result = Math.atan2(coords.y, coords.x) + Math.PI / 2;\n    }\n    else\n    {\n      result = super.getEdgeDirection();\n    }\n\n    return result;\n  }\n\n  //Override\n  getStartPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n    if (!to)\n    {\n      //Make sure to use quad for placeholder direction (not magnitude)\n      const px = Math.cos(this._quad.radians);\n      const py = Math.sin(this._quad.radians);\n      const nodeSize = from.getNodeSize();\n      dst.x = from.x + px * nodeSize;\n      dst.y = from.y + py * nodeSize;\n      return dst;\n    }\n\n    //Check if edge is following something other than a node...then remain flat\n    if (!to.getNodeSize || !this.isQuadratic())\n    {\n      getDirectionalVector(from.x, from.y, to.x, to.y, from.getNodeSize(), 0, dst);\n      dst.x += from.x;\n      dst.y += from.y;\n      return dst;\n    }\n    else\n    {\n      getMidPoint(from.x, from.y, to.x, to.y, dst);\n      const qcoords = this.getQuadraticAsCoords();\n      const qx = dst.x + qcoords.x;\n      const qy = dst.y + qcoords.y;\n      getDirectionalVector(from.x, from.y, qx, qy, from.getNodeSize(), this.isSelfLoop() ? (Math.PI / 4) : 0, dst);\n      dst.x += from.x;\n      dst.y += from.y;\n      return dst;\n    }\n  }\n\n  //Override\n  getEndPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n    if (!to)\n    {\n      //Make sure to use quadCoords for placeholder direction (not magnitude)\n      const px = Math.cos(this._quad.radians);\n      const py = Math.sin(this._quad.radians);\n      const placeholderLength = from.getNodeSize() + this.getPlaceholderLength();\n      dst.x = from.x + px * placeholderLength;\n      dst.y = from.y + py * placeholderLength;\n      return dst;\n    }\n\n    //Get end point for non-nodes...\n    if (!to.getNodeSize)\n    {\n      return to;\n    }\n    //Get end point for straight edges...\n    else if (!this.isQuadratic())\n    {\n      getDirectionalVector(to.x, to.y, from.x, from.y, to.getNodeSize(), 0, dst);\n      dst.x += to.x;\n      dst.y += to.y;\n      return dst;\n    }\n    //Get end point for quadratics...\n    else\n    {\n      getMidPoint(from.x, from.y, to.x, to.y, dst);\n      const qcoords = this.getQuadraticAsCoords();\n      const qx = dst.x + qcoords.x;\n      const qy = dst.y + qcoords.y;\n      getDirectionalVector(to.x, to.y, qx, qy, to.getNodeSize(), this.isSelfLoop() ? -(Math.PI / 4.0) : 0, dst);\n      dst.x += to.x;\n      dst.y += to.y;\n      return dst;\n    }\n  }\n\n  //Override\n  getCenterPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n    if (!to)\n    {\n      //Make sure to use quad for placeholder direction (not magnitude)\n      const px = Math.cos(this._quad.radians);\n      const py = Math.sin(this._quad.radians);\n      const placeholderLength = from.getNodeSize() + this.getPlaceholderLength() / 2;\n      dst.x = from.x + px * placeholderLength;\n      dst.y = from.y + py * placeholderLength;\n      return dst;\n    }\n\n    getMidPoint(from.x, from.y, to.x, to.y, dst);\n\n    if (this.isQuadratic())\n    {\n      const qcoords = this.getQuadraticAsCoords();\n      dst.x += qcoords.x;\n      dst.y += qcoords.y;\n    }\n\n    return dst;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    if (usePosition)\n    {\n      return super.getHashString(usePosition) + \":\" + this._quad.radians + \",\" + this._quad.length;\n    }\n    else\n    {\n      return super.getHashString(usePosition);\n    }\n  }\n}\n\nfunction getDirectionalVector(x1, y1, x2, y2, dist, angleOffset=0, dst={x: 0, y: 0})\n{\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const angle = Math.atan2(dy, dx) + angleOffset;\n  dst.x = Math.cos(angle) * dist;\n  dst.y = Math.sin(angle) * dist;\n  return dst;\n}\n\nfunction getMidPoint(x1, y1, x2, y2, dst={x: 0, y: 0})\n{\n  dst.x = x1 + (x2 - x1) / 2;\n  dst.y = y1 + (y2 - y1) / 2;\n  return dst;\n}\n\nexport default GraphCurvedEdge;\n","import QuadraticEdge from 'graph/QuadraticEdge.js';\n\nexport const SYMBOL_SEPARATOR = ' ';\nexport const EMPTY_CHAR = '\\u03B5';\n\nclass FSAEdge extends QuadraticEdge\n{\n  constructor(id, from, to=null)\n  {\n    super(id, from, to);\n  }\n\n  //Override\n  setEdgeLabel(label)\n  {\n    if (typeof label === 'string')\n    {\n      super.setEdgeLabel(label);\n    }\n    else\n    {\n      super.setEdgeLabel(EMPTY_CHAR);\n    }\n  }\n\n  getEdgeSymbolsFromLabel()\n  {\n    return this.getEdgeLabel().split(SYMBOL_SEPARATOR);\n  }\n}\n\nexport default FSAEdge;\n","import AbstractInputController from 'modules/abstract/AbstractInputController.js';\nimport Config from 'config.js';\n\nimport GraphPicker from './GraphPicker.js';\nimport Node from 'modules/fsa/graph/FSANode.js';\nimport Edge from 'modules/fsa/graph/FSAEdge.js';\n\nclass InputController extends AbstractInputController\n{\n  constructor(module, inputAdapter)\n  {\n    super(module, inputAdapter);\n\n    this._picker = new GraphPicker();\n\n    this._graphController = null;\n\n    //Used to check if target needs to be updated for the hover effect\n    this.prevPointerX = 0;\n    this.prevPointerY = 0;\n\n    //Make sure this is always false when moving endpoints\n    this.isNewEdge = false;\n\n    //Used to change render to follow pointer when moving initial marker\n    this.ghostInitialMarker = null;\n\n    //Whether to destroy pointless edges\n    this.shouldDestroyPointlessEdges = Config.DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE;\n\n    //Swap left to right clicks and vice versa on anything else but Macs\n    this._swapMouseScheme = true;//!navigator.platform.startsWith(\"Mac\");\n\n    //Used to determine whether the target should be destroyed because of trash mode\n    this._trashMode = false;\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this._graphController = module.getGraphController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  //Override\n  update(module)\n  {\n    const graph = this._graphController.getGraph();\n    const picker = this._picker;\n    const x = this._inputAdapter.getPointerX();\n    const y = this._inputAdapter.getPointerY();\n\n    if (x != this.prevPointerX || y != this.prevPointerY)\n    {\n      this.prevPointerX = x;\n      this.prevPointerY = y;\n\n      //Update target\n      picker.updateTarget(graph, x, y);\n\n      //HACK: to make the cursor look like a pointer when targeting\n      if (picker.hasTarget())\n      {\n        document.body.style.cursor = \"pointer\";\n      }\n      else\n      {\n        document.body.style.cursor = \"auto\";\n      }\n    }\n  }\n\n  //Override\n  onPreInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n    picker.setInitialTarget(picker.target, picker.targetType);\n\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    if (picker.hasSelection())\n    {\n      //Unselect everything is clicked on something other than nodes...\n      if (targetType != \"node\" || !picker.isTargetInSelection(target))\n      {\n        picker.clearSelection();\n      }\n    }\n\n    //Disable all graph input when in step-by-step mode\n    if (graphController.tester.getStepByStepMode())\n    {\n      //Consume event!\n      return true;\n    }\n\n    return false;\n  }\n\n  //Override\n  onInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const x = pointer.x;\n    const y = pointer.y;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    picker.updateTarget(graph, x, y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in trash mode... capture all events!\n    if (inputController.isTrashMode())\n    {\n      //Click to delete node\n      if (targetType === 'node')\n      {\n        //So that the emitted 'delete' events can use this\n        graphController.prevX = target.x;\n        graphController.prevY = target.y;\n\n        //If there exists selected states, delete them all!\n        if (picker.hasSelection())\n        {\n          //Delete all selected nodes\n          graphController.deleteSelectedNodes(target);\n        }\n        else\n        {\n          //Delete a single node\n          graphController.deleteTargetNode(target);\n        }\n\n        return true;\n      }\n      else if (targetType === 'edge' || targetType === 'endpoint')\n      {\n        //Delete a single edge\n        graphController.deleteTargetEdge(target);\n        return true;\n      }\n\n      //Clicked on something you cannot delete\n      //return true;\n      return false;\n    }\n\n    //If not in Trash Mode, then events should pass through to here...\n    //Otherwise, ALL events are captured to prevent ALL default behavior.\n\n    //Makes sure that user cannot toggle state while in trash mode\n    if (targetType === 'node')\n    {\n      graphController.toggleNode(target);\n      return true;\n    }\n    //Edit label for selected edge\n    else if (targetType === 'edge')\n    {\n      graphController.openLabelEditor(target, x, y);\n      return true;\n    }\n\n    return false;\n  }\n\n  //Override\n  onAltInputEvent(pointer)\n  {\n    return this.onInputEvent(pointer);\n  }\n\n  //Override\n  onDblInputEvent(pointer)\n  {\n    const graphController = this._graphController;\n    const x = pointer.x;\n    const y = pointer.y;\n\n    if (!this.isTrashMode())\n    {\n      //Create state at position\n      graphController.createNode(x, y);\n      return true;\n    }\n    else\n    {\n      graphController.emit(\"tryCreateWhileTrash\");\n      return true;\n    }\n\n    return false;\n  }\n\n  //Override\n  onDragStart(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    const viewport = inputController.getInputAdapter().getViewport();\n\n    //If is in move mode...\n    if (inputController.isMoveMode())\n    {\n      //Make sure it is not in trash mode\n      if (inputController.isTrashMode())\n      {\n        //inputController.setMoveMode(false, true);//Set to false\n\n        graphController.emit(\"tryCreateWhileTrash\");\n        return false;\n      }\n\n      //Make sure it is not in new edge mode\n      inputController.isNewEdge = false;\n\n      //Makes sure that placeholders are not quadratics!\n      if (targetType === 'edge' && target.isPlaceholder())\n      {\n        //inputController.setMoveMode(false, true);//Set to false\n\n        //Ignore drag event...\n        return false;\n      }\n      //Moving node (and selected nodes)\n      else if (targetType === 'node')\n      {\n        //target MUST be an instance of Node...\n        if (!(target instanceof Node))\n          throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Node.\");\n\n        //Ready to move node(s)...\n        graphController.prevX = target.x;\n        graphController.prevY = target.y;\n        return true;\n      }\n      //Moving edge center point\n      else if (targetType === 'edge')\n      {\n        //target MUST be an instance of Edge...\n        if (!(target instanceof Edge))\n          throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Edge.\");\n\n        //Makes sure that placeholders are not quadratics!\n        if (target.isPlaceholder())\n        {\n          //inputController.setMoveMode(false, true);//Set to false\n          return false;\n        }\n\n        //Save previous quadratics\n        const targetQuad = target.getQuadratic();\n        graphController.prevQuad.radians = targetQuad.radians;\n        graphController.prevQuad.length = targetQuad.length;\n\n        //Ready to move the edge vertex to pointer...\n        return true;\n      }\n      //Moving initial marker\n      else if (targetType === 'initial')\n      {\n        inputController.ghostInitialMarker = pointer;\n\n        //Ready to move the initial marker to another state...\n        return true;\n      }\n      //Moving nothing\n      else if (targetType === 'none')\n      {\n        //Reuse nodal prev pos for graph prev pos\n        graphController.prevX = x;\n        graphController.prevY = y;\n\n        //Ready to move the graph to pointer...\n        return true;\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      //If input dragged a node...\n      if (targetType === 'node')\n      {\n        if (!inputController.isTrashMode())\n        {\n          const edge = graph.createEdge(target, pointer);\n          edge.setEdgeLabel(Config.STR_TRANSITION_DEFAULT_LABEL);\n\n          //Redirect pointer to refer to the edge as the new target\n          picker.setInitialTarget(edge, \"endpoint\");\n          inputController.isNewEdge = true;\n\n          //Reset previous quad values for new proxy edge\n          const edgeQuad = edge.getQuadratic();\n          graphController.prevQuad.radians = edgeQuad.radians;\n          graphController.prevQuad.length = edgeQuad.length;\n\n          //Ready to move proxy edge to pointer...\n          //inputController.setMoveMode(true, true);\n          return true;\n        }\n        else\n        {\n          graphController.emit(\"tryCreateWhileTrash\");\n          return false;\n        }\n      }\n      else if (targetType == 'edge')\n      {\n        //Do nothing.\n        return false;\n      }\n      //If input dragged nothing...\n      else if (targetType === 'none')\n      {\n        //Begin selection box...\n        picker.beginSelection(graph, x, y);\n        return true;\n      }\n    }\n\n    //In either moving or not... moving endpoints\n    if (targetType === 'endpoint')\n    {\n      //target MUST be an instance of Edge...\n      if (!(target instanceof Edge))\n        throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Edge.\");\n\n      const targetQuad = target.getQuadratic();\n      graphController.prevQuad.radians = targetQuad.radians;\n      graphController.prevQuad.length = targetQuad.length;\n\n      graphController.prevEdgeTo = target.getDestinationNode();\n      inputController.isNewEdge = inputController.isMoveMode() ? false : true;\n\n      //Ready to move the edge endpoint to pointer...\n      return true;\n    }\n\n    //All input should be handled\n    //throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n\n    return false;\n  }\n\n  //Override\n  onDragMove(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n    const graph = graphController.getGraph();\n\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in move mode...\n    if (inputController.isMoveMode())\n    {\n      //Continue to move node(s)\n      if (targetType === 'node')\n      {\n        if (picker.hasSelection())\n        {\n          graphController.moveMultipleNodesTo(pointer, picker.getSelection(graph), x, y);\n        }\n        else\n        {\n          graphController.moveNodeTo(pointer, target, x, y);\n        }\n        return true;\n      }\n      //Continue to move edge vertex\n      else if (targetType === 'edge')\n      {\n        graphController.moveEdgeTo(pointer, target, x, y);\n        return true;\n      }\n      //Continue to move edge endpoint\n      else if (targetType === 'endpoint')\n      {\n        graphController.moveEndpointTo(pointer, target, x, y);\n        return true;\n      }\n      //Continue to move initial\n      else if (targetType === 'initial')\n      {\n        //Move initial marker to node or pointer\n        const dst = picker.getNodeAt(graph, x, y) || pointer;\n        inputController.ghostInitialMarker = dst;\n        return true;\n      }\n      //Continue to move graph\n      else if (targetType === 'none')\n      {\n        //Move graph\n        const dx = x - graphController.prevX;\n        const dy = y - graphController.prevY;\n        inputController.getInputAdapter().getViewport().addOffset(dx, dy, true);\n        return true;\n      }\n      else\n      {\n        //All move drag should be handled\n        throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      if (inputController.isNewEdge)\n      {\n        graphController.moveEndpointTo(pointer, target, x, y);\n        return true;\n      }\n\n      //If the selection box is active...\n      if (picker.isSelecting())\n      {\n        //Update the selection box\n        picker.updateSelection(graph, x, y);\n        return true;\n      }\n\n      //Otherwise, don't do anything. Cause even input drags will become move drags.\n    }\n  }\n\n  //Override\n  onDragStop(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    picker.updateTarget(graph, x, y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in move mode...\n    if (inputController.isMoveMode() || inputController.isNewEdge)\n    {\n      //If stopped dragging a node...\n      if (targetType === 'node')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          //If there exists selected states, delete them all!\n          if (picker.hasSelection())\n          {\n            graphController.deleteSelectedNodes(target);\n          }\n          else\n          {\n            //Delete a single node\n            graphController.deleteTargetNode(target);\n          }\n\n          return true;\n        }\n        //If dragged to an empty space (not trash)\n        else\n        {\n          //Do nothing, since should have moved to position\n          if (picker.hasSelection())\n          {\n            const dx = x - graphController.prevX;\n            const dy = y - graphController.prevY;\n            graphController.emit(\"nodeMoveAll\", graph, picker.getSelection(graph), dx, dy);\n          }\n          else\n          {\n            graphController.emit(\"nodeMove\", graph, target, x, y, graphController.prevX, graphController.prevY);\n          }\n          return true;\n        }\n      }\n      //If stopped dragging a edge...\n      else if (targetType === 'edge')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          graphController.deleteTargetEdge(target);\n        }\n        else\n        {\n          //Do nothing, since should have moved to position\n          graphController.emit(\"edgeMove\", graph, target, target.getQuadratic(), graphController.prevQuad);\n        }\n        return true;\n      }\n      //If stopped dragging a endpoint...\n      else if (inputController.isNewEdge || targetType === 'endpoint')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          graphController.deleteTargetEdge(target);\n          return true;\n        }\n        //If hovering over a node...\n        else if (target.getDestinationNode() instanceof Node)\n        {\n          const result = graph.formatEdge(target);\n\n          //If a different edge is the result of the target...\n          if (result !== target)\n          {\n            //Allow the user to edit the merged labels\n            graphController.openLabelEditor(result, x, y, result.getEdgeLabel(), false);\n\n            //Delete the merged label\n            graph.deleteEdge(target);\n            return true;\n          }\n          //Open label editor if a new edge...\n          else\n          {\n            if (inputController.isNewEdge)\n            {\n              graphController.openLabelEditor(target, x, y, null, true, () => {\n                graphController.emit(\"userPostCreateEdge\", graph, target);\n              });\n            }\n            else\n            {\n              graphController.openLabelEditor(target, x, y);\n            }\n          }\n\n          if (inputController.isNewEdge)\n          {\n            //Must be after openLabelEditor() to allow the function to check it...\n            inputController.isNewEdge = false;\n\n            //Emit event\n            graphController.emit(\"userCreateEdge\", graph, target);\n          }\n          else if (graphController.prevEdgeTo !== null)\n          {\n            //Emit event\n            graphController.emit(\"edgeDestination\", graph, target, target.getDestinationNode(), graphController.prevEdgeTo, graphController.prevQuad);\n          }\n\n          return true;\n        }\n        //If hovering over anything else...\n        else\n        {\n          //Destroy any edge that no longer have a destination\n          if (inputController.shouldDestroyPointlessEdges)\n          {\n            if (!inputController.isNewEdge)\n            {\n              graphController.deleteTargetEdge(target);\n            }\n            else\n            {\n              graph.deleteEdge(target);\n            }\n            return true;\n          }\n          //Keep edges as placeholders (used in DFA's)\n          else\n          {\n            target.changeDestinationNode(null);\n\n            //Open label editor if default edge...\n            if (target.getEdgeLabel().length <= 0)\n            {\n              graphController.openLabelEditor(target, x, y);\n            }\n            return true;\n          }\n        }\n      }\n      else if (targetType === 'initial')\n      {\n        //If valid initial object to mark...\n        if (inputController.ghostInitialMarker instanceof Node)\n        {\n          const prevInitial = graph.getStartNode();\n\n          //Set the new object as the initial node\n          graph.setStartNode(inputController.ghostInitialMarker);\n\n          //Emit event\n          graphController.emit(\"nodeInitial\", graph, inputController.ghostInitialMarker, prevInitial);\n        }\n\n        //Reset ghost initial marker\n        inputController.ghostInitialMarker = null;\n        return true;\n      }\n      else if (targetType === 'none')\n      {\n        //Do nothing. It should already be moved.\n        return true;\n      }\n      else\n      {\n        //All move drag should be handled\n        throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      //If was trying to select...\n      if (picker.isSelecting())\n      {\n        //Stop selecting stuff, fool.\n        picker.endSelection(graph, x, y);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  //Override\n  onPostInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n\n    picker.clearTarget();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n  }\n\n  //Override\n  onZoomChange(pointer, zoomValue, prevValue)\n  {\n    return true;\n  }\n\n  setTrashMode(enabled)\n  {\n    this._trashMode = enabled;\n  }\n\n  isTrashMode()\n  {\n    return this._trashMode;\n  }\n\n  setInputScheme(shouldInputFirst)\n  {\n    this._swapMouseScheme = !shouldInputFirst;\n  }\n\n  getInputScheme()\n  {\n    return this._swapMouseScheme;\n  }\n\n  isMoveMode()\n  {\n    const result = this._inputAdapter.isAltInput();\n    return this._swapMouseScheme ? !result : result;\n  }\n\n  isDragging()\n  {\n    return this._inputAdapter.isDragging();\n  }\n\n  isActionMode(graphController)\n  {\n    return this._inputAdapter.isPointerActive() ?\n      //Is considered an input when NOT moving or when creating a new edge...\n      graphController.isNewEdge || !this.isMoveMode() :\n      //If not active, just show default input...\n      !this._swapMouseScheme;\n  }\n\n  getPicker()\n  {\n    return this._picker;\n  }\n}\n\nexport default InputController;\n","class AbstractGraphController\n{\n  constructor(module, graph)\n  {\n    this._module = module;\n    this._graph = graph;\n\n    //throw new Error(\"Missing implementation for graph controller \\'\" + this.getModule().getModuleName() + \"\\'\");\n  }\n\n  initialize(module) {}\n  destroy(module) {}\n  update(module) {}\n\n  getGraph()\n  {\n    return this._graph;\n  }\n\n  getModule()\n  {\n    return this._module;\n  }\n}\n\nexport default AbstractGraphController;\n","\nfunction getReachableState(graph)\n{\n  let reachable = [];\n  let startNode = graph.getStartNode();\n  reachable.push(startNode);\n  for(let i = 0; i < reachable.length; i++)\n  {\n    for (const edge of graph.getEdges())\n    {\n      if(edge.from == reachable[i])\n      {\n        if(!reachable.includes(edge.to))\n        {\n          reachable.push(edge.to);\n        }\n      }\n    }\n  }\n  return reachable;\n}\n\nclass GraphLayout\n{\n  static applyLayout(graph, type=\"circle\")\n  {\n    if (type != \"circle\") throw new Error(\"Invalid layout type\");\n    //seperate node to reachable and unreachable\n    const reachableNode= getReachableState(graph);\n    function unreachable(node)\n    {\n      return !reachableNode.includes(node)\n    }\n    const unreachableNode = graph.getNodes().filter(unreachable)\n\n    //get num of nodes\n    const numOfReachable = reachableNode.length;\n    const numOfUnreachable = unreachableNode.length;\n    const numOfNode = graph.getNodes().length;\n    const maxNum = Math.max(numOfReachable, numOfUnreachable)\n    if(numOfNode == 0)\n    {\n      return;\n    }\n    //set radius\n    var radius;\n    if(numOfReachable < 10 && numOfUnreachable < 10){\n      radius = maxNum/4 * 50 + 10;\n    }\n    else{\n      radius = (maxNum/5) * 40 + 10;\n    }\n    /*var radius;\n    if(numOfNode < 10){\n      radius = numOfNode/4 * 50 + 10;\n    }\n    else{\n      radius = (numOfNode/5) * 40 + 10;\n    }*/\n\n    //set degree\n    const degree_re = 2* Math.PI/numOfReachable;\n    const degree_un = 2* Math.PI/numOfUnreachable;\n\n    let currentStep = 0\n    for(const node of reachableNode)\n    {\n      node.y = Math.sin(degree_re*currentStep + Math.PI)*radius;\n      node.x = Math.cos(degree_re*currentStep + Math.PI)*radius;\n      currentStep += 1\n    }\n    currentStep = 0\n    for(const node of unreachableNode)\n    {\n      node.y = Math.sin(degree_un*currentStep + Math.PI)*(radius + 100);\n      node.x = Math.cos(degree_un*currentStep + Math.PI)*(radius + 100);\n      currentStep += 1\n    }\n    /*for(const node of graph.getNodes())\n    {\n      node.y = Math.sin(degree*currentStep + Math.PI)*radius;\n      node.x = Math.cos(degree*currentStep + Math.PI)*radius;\n      currentStep += 1\n    }*/\n  }\n\n\n}\n\nexport default GraphLayout;\n","import GraphNode from './GraphNode.js';\nimport GraphEdge from './GraphEdge.js';\nimport { guid, stringHash } from 'util/MathHelper.js';\n\nclass NodalGraph\n{\n  constructor(nodeClass=GraphNode, edgeClass=GraphEdge)\n  {\n    this._nodeClass = nodeClass;\n    this._edgeClass = edgeClass;\n\n    this._nodes = [];\n    this._edges = [];\n    this._nodeMapping = new Map();\n    this._edgeMapping = new Map();\n  }\n\n  /** NODES **/\n\n  createNode(x=0, y=0, id=null)\n  {\n    const result = new (this._nodeClass)(id || guid(), x, y);\n    const i = this._nodes.length;\n    this._nodes.push(result);\n    this._nodeMapping.set(result.getGraphElementID(), i);\n    return result;\n  }\n  deleteNode(node)\n  {\n    const elementID = node.getGraphElementID();\n    const i = this._nodeMapping.get(elementID);\n    if (i >= 0)\n    {\n      this._nodes.splice(i, 1);\n      this._nodeMapping.delete(elementID);\n\n      //HACK: This is inefficient, you should convert everything to use only\n      //the map so the indicies would not need to be fixed in the array.\n      //Basically, get rid of this._nodes (you will have to change how setStartNode works)\n      for(let j = i, len = this._nodes.length; j < len; ++j)\n      {\n        this._nodeMapping.set(this._nodes[j].getGraphElementID(), j);\n      }\n\n      const nullSourceEdges = [];\n\n      //Remove connected edges\n      for(const edge of this._edges)\n      {\n        if (edge.getSourceNode() === node)\n        {\n          nullSourceEdges.push(edge);\n        }\n        else if (edge.getDestinationNode() === node)\n        {\n          edge.changeDestinationNode(null);\n        }\n      }\n      for(const edge of nullSourceEdges)\n      {\n        this.deleteEdge(edge);\n      }\n    }\n  }\n  addNode(node)\n  {\n    if (!node.getGraphElementID()) node.setGraphElementID(guid());\n\n    const i = this._nodes.length;\n    this._nodes.push(node);\n    this._nodeMapping.set(node.getGraphElementID(), i);\n    return node;\n  }\n  clearNodes() { this._nodes.length = 0; this._nodeMapping.clear(); }\n  getNodeByElementID(elementID)\n  {\n    const index = this._nodeMapping.get(elementID);\n    return index >= 0 ? this._nodes[index] : null;\n  }\n  getNodesByLabel(label, dst=[])\n  {\n    for(const node of this._nodes)\n    {\n      if (node.getNodeLabel() == label) dst.push(node);\n    }\n    return dst;\n  }\n  getNodes() { return this._nodes; }\n  getNodeCount() { return this._nodes.length; }\n  getNodeClass() { return this._nodeClass; }\n\n  /** EDGES **/\n\n  createEdge(from, to=null, id=null)\n  {\n    const result = new (this._edgeClass)(id || guid(), from, to);\n    const i = this._edges.length;\n    this._edges.push(result);\n    this._edgeMapping.set(result.getGraphElementID(), i);\n    return result;\n  }\n  deleteEdge(edge)\n  {\n    const elementID = edge.getGraphElementID();\n    const i = this._edgeMapping.get(elementID);\n    if (i >= 0)\n    {\n      this._edges.splice(i, 1);\n      this._edgeMapping.delete(elementID);\n\n      //HACK: This is inefficient, refer to deleteNode().\n      for(let j = i, len = this._edges.length; j < len; ++j)\n      {\n        this._edgeMapping.set(this._edges[j].getGraphElementID(), j);\n      }\n    }\n  }\n  addEdge(edge)\n  {\n    if (!edge.getGraphElementID()) edge.setGraphElementID(guid());\n\n    const i = this._edges.length;\n    this._edges.push(edge);\n    this._edgeMapping.set(edge.getGraphElementID(), i);\n    return edge;\n  }\n  clearEdges() { this._edges.length = 0; this._edgeMapping.clear(); }\n  getEdgeByElementID(elementID)\n  {\n    const index = this._edgeMapping.get(elementID);\n    return index >= 0 ? this._edges[index] : null;\n  }\n  getEdges() { return this._edges; }\n  getEdgeCount() { return this._edges.length; }\n  getEdgeClass() { return this._edgeClass; }\n\n  /** HELPER **/\n\n  clear()\n  {\n    this.clearEdges();\n    this.clearNodes();\n  }\n\n  isEmpty()\n  {\n    return this.getNodeCount() <= 0 && this.getEdgeCount() <= 0;\n  }\n\n  getBoundingRect()\n  {\n    if (this._nodes.length <= 0) return {\n      minX: 0,\n      minY: 0,\n      maxX: 1,\n      maxY: 1,\n      width: 1,\n      height: 1\n    };\n\n    var minNX = Number.MAX_VALUE;\n    var minNY = Number.MAX_VALUE;\n    var maxNX = Number.MIN_VALUE;\n    var maxNY = Number.MIN_VALUE;\n\n    var maxNodeSize = 0;\n    for(const node of this._nodes)\n    {\n      const x = node.x;\n      const y = node.y;\n      const size = node.getNodeSize();\n      if (size > maxNodeSize) maxNodeSize = size;\n\n      minNX = Math.min(minNX, x);\n      maxNX = Math.max(maxNX, x);\n\n      minNY = Math.min(minNY, y);\n      maxNY = Math.max(maxNY, y);\n    }\n\n    minNX -= maxNodeSize;\n    minNY -= maxNodeSize;\n    maxNX += maxNodeSize;\n    maxNY += maxNodeSize;\n\n    var minEX = Number.MAX_VALUE;\n    var minEY = Number.MAX_VALUE;\n    var maxEX = Number.MIN_VALUE;\n    var maxEY = Number.MIN_VALUE;\n\n    const startPoint = {x: 0, y: 0};\n    const endPoint = {x: 0, y: 0};\n    const centerPoint = {x: 0, y: 0};\n    for(const edge of this._edges)\n    {\n      //Will store into point objects...\n      edge.getStartPoint(startPoint);\n      edge.getEndPoint(endPoint);\n      edge.getCenterPoint(centerPoint);\n\n      const sx = startPoint.x;\n      const sy = startPoint.y;\n      const ex = endPoint.x;\n      const ey = endPoint.y;\n      const cx = centerPoint.x;\n      const cy = centerPoint.y;\n\n      minEX = Math.min(minEX, sx, ex, cx);\n      maxEX = Math.max(maxEX, sx, ex, cx);\n\n      minEY = Math.min(minEY, sy, ey, cy);\n      maxEY = Math.max(maxEY, sy, ey, cy);\n    }\n\n    const result = {\n      minX: Math.min(minNX, minEX),\n      minY: Math.min(minNY, minEY),\n      maxX: Math.max(maxNX, maxEX),\n      maxY: Math.max(maxNY, maxEY),\n      width: 0,\n      height: 0\n    };\n    result.width = result.maxX - result.minX;\n    result.height = result.maxY - result.minY;\n    return result;\n  }\n\n  //Gets a hash of the graph's current state. Can generally assume the hash will\n  //change if the graph's content has changed (including nodes and edges).\n  getHashCode(usePosition=true)\n  {\n    let string = \"\";\n    for(const node of this._nodes)\n    {\n      string += node.getHashString(usePosition) + \",\";\n    }\n    string += \"|\";\n    for(const edge of this._edges)\n    {\n      string += edge.getHashString(usePosition) + \",\";\n    }\n    return stringHash(string);\n  }\n}\n\nexport default NodalGraph;\n","import NodalGraph from 'graph/NodalGraph.js';\nimport FSANode from './FSANode.js';\nimport FSAEdge, { SYMBOL_SEPARATOR } from './FSAEdge.js';\n\nconst PARALLEL_EDGE_HEIGHT = 10;\n\nclass FSAGraph extends NodalGraph\n{\n  constructor()\n  {\n    super(FSANode, FSAEdge);\n  }\n\n  setStartNode(node)\n  {\n    if (this._nodes.length <= 0) throw new Error(\"Cannot set start node to empty graph\");\n\n    //There is only one node, and that is already the start node\n    if (this._nodes.length === 1) return;\n\n    const i = this._nodes.indexOf(node);\n    if (i > 0)\n    {\n      //This does a swap; we could do a prepend but that's more costly...\n      const prev = this._nodes[0];\n      this._nodes[0] = node;\n      this._nodes[i] = prev;\n    }\n    else if (i < 0)\n    {\n      throw new Error(\"Cannot set start node for unknown node\");\n    }\n  }\n\n  getStartNode()\n  {\n    return this._nodes.length > 0 ? this._nodes[0] : null;\n  }\n\n  //This is more like addEdge() without adding it to the graph and just returns the result\n  //This should only be called once when completing an edge\n  formatEdge(edge)\n  {\n    const edgeSource = edge.getSourceNode();\n    const edgeDestination = edge.getDestinationNode();\n    const edgeLabel = edge.getEdgeSymbolsFromLabel();\n\n    //Look for an existing edge with similar from and to\n    for(const otherEdge of this._edges)\n    {\n      if (otherEdge === edge) continue;\n      if (otherEdge.getSourceNode() === edgeSource && otherEdge.getDestinationNode() === edgeDestination)\n      {\n        const otherSymbols = otherEdge.getEdgeSymbolsFromLabel();\n        if (edgeLabel.length > 0)\n        {\n          const result = otherSymbols.concat(edgeLabel);\n          otherEdge.setEdgeLabel(result.join(SYMBOL_SEPARATOR));\n        }\n\n        //Merged with newfound edge...\n        return otherEdge;\n      }\n    }\n\n    //Otherwise, format the current edge\n\n    if (!edge.isSelfLoop())\n    {\n      let flag = false;\n\n      //Bend away if there is another edge not bent with the same src/dst\n      const parallelEdgeHeight = PARALLEL_EDGE_HEIGHT;\n      const HALFPI = Math.PI / 2;\n      for(const otherEdge of this._edges)\n      {\n        if (otherEdge.isQuadratic() && Math.abs(otherEdge.getQuadratic().length) >= parallelEdgeHeight * 2) continue;\n        if ((otherEdge.getDestinationNode() === edgeSource && otherEdge.getSourceNode() === edgeDestination))\n        {\n          edge.setQuadratic(HALFPI, parallelEdgeHeight);\n          otherEdge.setQuadratic(HALFPI, parallelEdgeHeight);\n          flag = true;\n\n          //ASSUMES that there will only ever be 2 edges that are parallel...\n          break;\n        }\n      }\n\n      //Try to move the edge away from intersecting nodes...\n      if (!flag)\n      {\n        const maxNodeSize = Math.max(edgeSource.getNodeSize(), edgeDestination.getNodeSize());\n        const x1 = edgeSource.x;\n        const y1 = edgeSource.y;\n        const x2 = edgeDestination.x;\n        const y2 = edgeDestination.y;\n        const dist12sq = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n        let vertical = false;\n        let m = 0;\n        let b = 0;\n\n        if(x1 > x2)\n        {\n          m = (y1-y2) / (x1-x2);\n          b = y2-m*x2;\n        }\n        else if (x1 < x2)\n        {\n          m = (y2-y1) / (x2-x1);\n          b = y1-m*x1;\n        }\n        else\n        {\n          vertical = true;\n        }\n\n        for(const node of this._nodes)\n        {\n          if(node === edgeSource || node === edgeDestination) continue;\n\n          const x0 = node.x;\n          const y0 = node.y;\n\n          const dist01sq = (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n          const dist02sq = (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n          if(dist01sq > dist12sq || dist02sq > dist12sq) continue;\n\n          let dist = 0;\n          if(vertical) {\n            dist = Math.abs(x1-x0);\n          } else {\n            dist = Math.abs(b+ m*x0 - y0) / Math.sqrt(1+m*m);\n          }\n\n          if(dist < node.getNodeSize())\n          {\n            flag = true;\n            break;\n          }\n        }\n\n        if (flag)\n        {\n          edge.setQuadratic(-Math.PI / 2, maxNodeSize + 10);\n        }\n      }\n    }\n\n    return edge;\n  }\n}\n\nexport default FSAGraph;\n","import AbstractGraphController from 'modules/abstract/AbstractGraphController.js';\n\nimport Config from 'config.js';\nimport Eventable from 'util/Eventable.js';\nimport GraphLayout from 'modules/fsa/graph/GraphLayout.js';\nimport FSAGraph from 'modules/fsa/graph/FSAGraph.js';\n\nclass GraphController extends AbstractGraphController\n{\n  constructor(module)\n  {\n    super(module, new FSAGraph());\n\n    this.inputController = null;\n    this.machineController = null;\n\n    this.labelEditorElement = null;\n    this.tester = null;\n\n    this.prevQuad = {\n      radians: 0, length: 0,\n      x: 0, y: 0\n    };\n    this.prevEdgeTo = null;\n    this.prevX = 0;\n    this.prevY = 0;\n\n    //The difference between controller events vs graph events is: controller has user-intent\n\n    //userCreateNode(graph, node) - When user creates a node\n    this.registerEvent(\"userCreateNode\");\n    this.registerEvent(\"userPreCreateNode\");//(graph, nextNodeID, x, y)\n    this.registerEvent(\"userPostCreateNode\");//(graph, node)\n\n    //userToggleNode(graph, node, prevAccept) - When user toggles the accept state\n    this.registerEvent(\"userToggleNode\");\n\n    //userDeleteNodes(graph, node, targetNodes, prevX, prevY) - When user deletes one or more nodes\n    this.registerEvent(\"userDeleteNodes\");\n    this.registerEvent(\"userPreDeleteNodes\");\n    this.registerEvent(\"userPostDeleteNodes\");\n\n    //userDeleteEdge(graph, edge, prevTo, prevQuad) - When user deletes an edge\n    this.registerEvent(\"userDeleteEdge\");\n    this.registerEvent(\"userPreDeleteEdge\");\n    this.registerEvent(\"userPostDeleteEdge\");\n\n    //userCreateEdge(graph, edge) - When user creates an edge, after naming it\n    this.registerEvent(\"userCreateEdge\");\n    //this.registerEvent(\"userPreCreateEdge\");\n    this.registerEvent(\"userPostCreateEdge\");\n\n    /*\n    //userMoveNodes(graph, nodes, dx, dy) - When user moves one or more nodes\n    this.registerEvent(\"userMoveNodes\");\n    //userMoveInitial(graph, node, prevNode) - When user moves the initial marker to another\n    this.registerEvent(\"userMoveInitial\");\n    //userPreCreateEdge(graph, edge) - When user is about to create an edge, before src\n    this.registerEvent(\"userPreCreateEdge\");\n    //userBeginEdge(graph, edge, src) - When user begins to create an edge, after src and before naming it\n    this.registerEvent(\"userBeginEdge\");\n    //userEndEdge(graph, edge, src, dst) - When user finishes creating an edge, after dst and before naming it (dst could be null for deletion)\n    this.registerEvent(\"userEndEdge\");\n    //userPostCreateEdge(graph, edge) - When user is finished creating an edge, after dst and after quad changes\n    this.registerEvent(\"userPostCreateEdge\");\n    //userMoveEdge(graph, edge, prevDest) - When user changes the dst of edge\n    this.registerEvent(\"userChangeEdge\");\n    //userBendEdge(graph, edge, prevQuad) - When user bends the edge\n    this.registerEvent(\"userBendEdge\");\n    //userLabelEdge(graph, edge, prevLabel) - When user re-labels the edge\n    this.registerEvent(\"userLabelEdge\");\n    */\n\n    //userRenameNode(graph, node, nextLabel, prevLabel, isPrevCustom) - When user sets the label of node\n    this.registerEvent(\"userRenameNode\");\n\n    //userChangeLayout(graph, prevLayout) - When user re-layouts the graph\n    this.registerEvent(\"userChangeLayout\");\n    this.registerEvent(\"userPreChangeLayout\");//before any changes\n    this.registerEvent(\"userPostChangeLayout\");//after all changes\n\n    //userImportGraph(graph) - When user imports a graph\n    this.registerEvent(\"userImportGraph\");\n    this.registerEvent(\"userPreImportGraph\");//before any changes\n    this.registerEvent(\"userPostImportGraph\");//after all changes\n\n    //nodeMove(targetNode, nextX, nextY, prevX, prevY)\n    this.registerEvent(\"nodeMove\");\n    //nodeMoveAll(targetNodes, dx, dy)\n    this.registerEvent(\"nodeMoveAll\");\n    //nodeInitial(nextInitial, prevInitial)\n    this.registerEvent(\"nodeInitial\");\n    //edgeDestination(targetEdge, nextDestination, prevDestination, prevQuad)\n    this.registerEvent(\"edgeDestination\");\n    //edgeMove(targetEdge, nextQuad, prevQuad)\n    this.registerEvent(\"edgeMove\");\n    //edgeLabel(targetEdge, nextLabel, prevLabel)\n    this.registerEvent(\"edgeLabel\");\n    //tryCreateWhileTrash()\n    this.registerEvent(\"tryCreateWhileTrash\");\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n    this.tester = module.getTestingManager();\n\n    this.inputController = module.getInputController();\n    this.machineController = module.getMachineController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  applyAutoLayout()\n  {\n    this.emit(\"userPreChangeLayout\", this.getGraph());\n    GraphLayout.applyLayout(this.getGraph());\n\n    this.emit(\"userChangeLayout\", this.getGraph());\n    this.emit(\"userPostChangeLayout\", this.getGraph());\n  }\n\n  renameNode(node, name)\n  {\n    const prev = node.getNodeLabel();\n    const isPrevCustom = node.getNodeCustom();\n\n    node.setNodeLabel(name);\n    node.setNodeCustom(true);\n\n    this.emit(\"userRenameNode\", this.getGraph(), node, name, prev, isPrevCustom);\n  }\n\n  createNode(x, y)\n  {\n    const newNodeLabel = this.machineController.getMachineBuilder().getLabeler().getNextDefaultNodeLabel();\n\n    if (typeof x === 'undefined') x = (Math.random() * Config.SPAWN_RADIUS * 2) - Config.SPAWN_RADIUS;\n    if (typeof y === 'undefined') y = (Math.random() * Config.SPAWN_RADIUS * 2) - Config.SPAWN_RADIUS;\n\n    this.emit(\"userPreCreateNode\", this.getGraph(), newNodeLabel, x, y);\n\n    const node = this.getGraph().createNode(x, y);\n    node.setNodeLabel(newNodeLabel);\n\n    this.emit(\"userCreateNode\", this.getGraph(), node);\n\n    this.emit(\"userPostCreateNode\", this.getGraph(), node);\n    return node;\n  }\n\n  toggleNode(node)\n  {\n    const prev = node.getNodeAccept();\n    const result = !prev;\n    //Toggle accept for selected node\n    node.setNodeAccept(result);\n\n    //Emit event\n    this.emit(\"userToggleNode\", this.getGraph(), node, prev);\n  }\n\n  deleteSelectedNodes(selectedNode)\n  {\n    const picker = this.inputController.getPicker();\n    const selection = picker.getSelection(this.getGraph()).slice();\n\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n\n    //Remove from graph\n    for(const node of selection)\n    {\n      this.getGraph().deleteNode(node);\n    }\n\n    //Remove from selection\n    picker.clearSelection();\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n  }\n\n  deleteTargetNode(target)\n  {\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n\n    this.getGraph().deleteNode(target);\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n  }\n\n  deleteTargetNodes(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n\n    const graph = this.getGraph();\n    for(const node of targets)\n    {\n      graph.deleteNode(node);\n    }\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n  }\n\n  deleteTargetEdge(target)\n  {\n    this.emit(\"userPreDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    this.getGraph().deleteEdge(target);\n\n    //Emit event\n    this.emit(\"userDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    this.emit(\"userPostDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n  }\n\n  deleteTargetEdges(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    for(const target of targets)\n    {\n      this.deleteTargetEdge(target);\n    }\n  }\n\n  moveNodeTo(pointer, node, x, y)\n  {\n    for(const other of this.getGraph().getNodes())\n    {\n      //Update node collision\n      if (node === other) continue;\n\n      const dx = x - other.x;\n      const dy = y - other.y;\n      const angle = Math.atan2(dy, dx);\n\n      const diameter = (Config.NODE_RADIUS * 2);\n      const nextDX = other.x + (Math.cos(angle) * diameter) - x;\n      const nextDY = other.y + (Math.sin(angle) * diameter) - y;\n\n      if (dx * dx + dy * dy < Config.NODE_RADIUS_SQU * 4)\n      {\n        x += nextDX;\n        y += nextDY;\n      }\n    }\n\n    node.x = x;\n    node.y = y;\n  }\n\n  moveMultipleNodesTo(pointer, nodes, x, y)\n  {\n    //Moves all nodes by difference between initial position with passed-in x and y\n    const pos = pointer.getInputEventPosition();\n    const dx = x - pos.x;\n    const dy = y - pos.y;\n    for(const node of nodes)\n    {\n      node.x += dx;\n      node.y += dy;\n    }\n\n    //Updates initial position to passed-in x and y to maintain relative position\n    pointer.changeInputEventPosition(x, y);\n  }\n\n  moveEdgeTo(pointer, edge, x, y)\n  {\n    edge.setQuadraticByCoords(x, y);\n  }\n\n  moveEndpointTo(pointer, edge, x, y)\n  {\n    //Get ONLY node at x and y (cannot use hover target, since it is not ONLY nodes)\n    const picker = this.inputController.getPicker();\n    const dst = picker.getNodeAt(this.getGraph(), x, y) || pointer;\n\n    edge.changeDestinationNode(dst);\n\n    //If the cursor returns to the state after leaving it...\n    if (edge.isSelfLoop())\n    {\n      //Make it a self loop\n      const sourceNode = edge.getSourceNode();\n      const dx = sourceNode.x - x;\n      const dy = sourceNode.y - y;\n      const radians = Math.atan2(dy, dx) + Math.PI;\n      edge.setQuadratic(radians);\n    }\n    //Otherwise, maintain original curve\n    else\n    {\n      //TODO: This also causes self-loops to act weird when no longer a self loop\n      edge.setQuadratic(this.prevQuad.radians, this.prevQuad.length);\n    }\n  }\n\n  openLabelEditor(target, x, y, placeholder=null, replace=true, callback=null)\n  {\n    if (!this.labelEditorElement)\n    {\n      if (callback) callback();\n      return;\n    }\n\n    const prevLabel = placeholder || target.getEdgeLabel();\n    this.labelEditorElement.openEditor(target, placeholder, replace, () => {\n      const label = target.getEdgeLabel();\n      if (prevLabel.length > 0 && label != prevLabel)\n      {\n        this.emit(\"edgeLabel\", this.getGraph(), target, label, prevLabel);\n      }\n\n      if (callback)\n      {\n        callback();\n      }\n    });\n  }\n\n  focusOnNode(node)\n  {\n    //Center workspace at focused node; inverted due to graph-to-screen space\n    this.inputController.getInputAdapter().getViewport().setOffset(-node.x, -node.y);\n  }\n\n  focusOnEdge(edge)\n  {\n    //Center workspace at focused edge; inverted due to graph-to-screen space\n    const center = edge.getCenterPoint();\n    this.inputController.getInputAdapter().getViewport().setOffset(-center.x, -center.y);\n  }\n\n  focusOnNodes(nodes)\n  {\n    //Center workspace at the average of focused nodes; inverted due to graph-to-screen space\n    const length = nodes.length;\n    let ax = 0;\n    let ay = 0;\n    for(const node of nodes)\n    {\n      ax += node.x;\n      ay += node.y;\n    }\n    this.inputController.getInputAdapter().getViewport().setOffset(-ax / length, -ay / length);\n  }\n}\n//Mixin Eventable\nEventable.mixin(GraphController);\n\nfunction moveNodesOutOfEdges(target, graph)\n{\n\n  const x1 = target.getSourceNode().x;\n  const y1 = target.getSourceNode().y;\n  const x2 = target.getDestinationNode().x;\n  const y2 = target.getDestinationNode().y;\n  const dist12sq = (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1);\n  let vertical = false;\n  let m = 0;\n  let b = 0;\n  if(x1 > x2) {\n    m = (y1-y2) / (x1-x2);\n    b = y2-m*x2;\n  } else if (x1 < x2) {\n    m = (y2-y1) / (x2-x1);\n    b = y1-m*x1;\n  } else {\n    vertical = true;\n  }\n\n  for(const node of graph.getNodes())\n  {\n    if(node === target.getSourceNode() || node === target.getDestinationNode()) continue;\n\n    const x0 = node.x;\n    const y0 = node.y;\n\n    const dist01sq = (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n    const dist02sq = (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n    if(dist01sq > dist12sq || dist02sq > dist12sq) continue;\n\n\n    let dist = 0;\n    let xint = 0;\n    let yint = 0;\n    let m0 = 0;\n    let horizontal = false;\n    if(vertical) {\n      dist = Math.abs(x1-x0);\n      xint = x1;\n      yint = y0;\n      m0 = 0;\n    } else {\n      dist = Math.abs(b+ m*x0 - y0) / Math.sqrt(1+m*m);\n      xint = (x0 + m*y0 - m*b) / (m*m + 1);\n      yint = m * xint + b;\n      if(m !== 0) {\n        m0 = 1 / m;\n      } else {\n        horizontal = true;\n      }\n    }\n\n    if(dist < Config.NODE_RADIUS) {\n      const toMove = Config.NODE_RADIUS - dist + 10;\n      const distx = x0 - xint;\n      const disty = y0 - yint;\n      let signx = -1;\n      let signy = -1;\n      if(distx > 0) signx = 1;\n      if(disty > 0) signy = 1;\n\n      if(horizontal) {\n        node.y = y0 + signy * toMove;\n      } else {\n        let toMovex = toMove / Math.sqrt(m0*m0 + 1);\n        let toMovey = Math.abs(m0) * toMovex;\n        node.x = x0 + signx * toMovex;\n        node.y = y0 + signy * toMovey;\n      }\n    }\n  }\n}\n\nexport default GraphController;\n","import DFA from 'machine/DFA.js';\nimport { EMPTY } from 'machine/Symbols.js';\n\nexport function convertToDFA(nfa, dst=null)\n{\n  const result = dst || new DFA();\n\n  const alphabet = nfa.getAlphabet();\n  const startState = nfa.getStartState();\n\n  //Make new DFA start state\n  let nextStates = nfa.doClosureTransition(startState);\n  const newStartState = newDFAStateFromNFA(result, nfa, nextStates);\n\n  //For every state from the NFA's powerset, add it to DFA with correct transitions\n  const powerSetStates = nfa.getPowerSet();\n  for(const powerSetState of powerSetStates) {\n      console.log(\"Adding to DFA: \" + getStateFromSet(powerSetState));\n      if(powerSetState.length != 0)\n        expandPowersetStateToDFA(powerSetState, nfa, result);\n  }\n\n  //Create trap state\n  const trapState = result.newState(\"{}\");\n  let flag = false;\n\n  //Check for the new alphabet...\n  const newAlphabet = result.getAlphabet();\n  for(const state of result.getStates())\n  {\n    for(const symbol of newAlphabet)\n    {\n      //If transition for this symbol does not exist...\n      if (!result.doTransition(state, symbol))\n      {\n        //Create it\n        result.newTransition(state, trapState, symbol);\n\n        if (state !== trapState) flag = true;\n      }\n    }\n  }\n\n  return result;\n}\n\n/* Inspired by expandNFAStateToDFA, it takes a powerSetState, which is a set\n * of NFA states from the powerset (e.g. [q1, q1]) and adds it to the DFA as a\n * single state (e.g. {q1, q2}) and adds its transitions\n */\nfunction expandPowersetStateToDFA(powerSetState, nfa, dfa) {\n    const result = [];\n    const alphabet = nfa.getAlphabet();\n    const state = getStateFromSet(powerSetState);\n\n    if(!dfa.hasState(state)) {\n        result.push(newDFAStateFromNFA(dfa, nfa, powerSetState));\n    }\n\n    let terminals = [];\n    let dfaState = null;\n\n    for(const symbol of alphabet)\n    {\n      //Get all closed reachable states...\n      for(const s of powerSetState)\n      {\n        nfa.doTerminalTransition(s, symbol, terminals);\n      }\n\n      //If has reachable states...\n      if (terminals.length > 0)\n      {\n        dfaState = getStateFromSet(terminals);\n\n        //Create state if it does not exist...\n        if (!dfa.hasState(dfaState))\n        {\n          dfaState = newDFAStateFromNFA(dfa, nfa, terminals);\n          result.push(dfaState);\n        }\n\n        //Create transition for reachable state\n        dfa.newTransition(state, dfaState, symbol);\n      }\n\n      //Reset list\n      terminals.length = 0;\n    }\n\n    return result;\n}\n\nfunction expandNFAStateToDFA(state, nfa, dfa)\n{\n  const result = [];\n  const alphabet = nfa.getAlphabet();\n\n  let terminals = [];\n  let nfaStates = null;\n  let dfaState = null;\n\n  for(const symbol of alphabet)\n  {\n    //Get all closed reachable states...\n    nfaStates = getSetFromState(state);\n    for(const s of nfaStates)\n    {\n      nfa.doTerminalTransition(s, symbol, terminals);\n    }\n\n    //If has reachable states...\n    if (terminals.length > 0)\n    {\n      dfaState = getStateFromSet(terminals);\n\n      //Create state if it does not exist...\n      if (!dfa.hasState(dfaState))\n      {\n        dfaState = newDFAStateFromNFA(dfa, nfa, terminals);\n        result.push(dfaState);\n      }\n\n      //Create transition for reachable state\n      dfa.newTransition(state, dfaState, symbol);\n    }\n\n    //Reset list\n    terminals.length = 0;\n  }\n\n  return result;\n}\n\nfunction newDFAStateFromNFA(dfa, nfa, nfaStates)\n{\n  const result = dfa.newState(getStateFromSet(nfaStates));\n\n  //If the NFA states contain a final, then DFA state should be final\n  for(const s of nfaStates)\n  {\n    if (nfa.isFinalState(s))\n    {\n      dfa.setFinalState(result);\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction getStateFromSet(nfaStates)\n{\n  nfaStates.sort();\n  return \"{\" + nfaStates.join(\",\") + \"}\";\n}\n\nfunction getSetFromState(dfaState)\n{\n  return dfaState.substring(1, dfaState.length - 1).split(\",\");\n}\n","import Eventable from 'util/Eventable.js';\n\nimport GraphLayout from 'modules/fsa/graph/GraphLayout.js';\nimport { convertToDFA } from 'machine/util/convertNFA.js';\nimport DFA from 'machine/DFA.js';\n\nclass MachineController\n{\n  constructor(module)\n  {\n    this._module = module;\n\n    this.machineName = null;\n\n    this.graphController = null;\n\n    //userChangeMachine(machineBuilder, nextMachineType, prevMachineType) - when user changes machine type\n    this.registerEvent(\"userChangeMachine\");\n    //userConvertMachine(machineBuilder, nextMachineType, prevMachineType) - when user converts machine type\n    this.registerEvent(\"userConvertMachine\");\n    this.registerEvent(\"userPreConvertMachine\");//Before changes\n    this.registerEvent(\"userPostConvertMachine\");//After all changes\n    //userRenameMachine(machineBuilder, nextMachineName, prevMachineName) - when machine name is changed\n    this.registerEvent(\"userRenameMachine\");\n    //userCreateSymbol(machineBuilder, symbol) - When user adds a custom symbol\n    this.registerEvent(\"userCreateSymbol\");\n    //userDeleteSymbol(machineBuilder, symbol, prevEdges) - When user delets a symbol (and affects the edges)\n    this.registerEvent(\"userDeleteSymbol\");\n    this.registerEvent(\"userPreDeleteSymbol\");//userPreDeleteSymbol(machineBuilder, symbol)\n    this.registerEvent(\"userPostDeleteSymbol\");\n    //userRenameSymbol(machineBuilder, symbol, prevSymbol, targetEdges) - When user renames a used symbol (and affects the edges)\n    this.registerEvent(\"userRenameSymbol\");\n    this.registerEvent(\"userPreRenameSymbol\");//userPreDeleteSymbol(machineBuilder, symbol, prevSymbol)\n    this.registerEvent(\"userPostRenameSymbol\");\n  }\n\n  setModule(module)\n  {\n    this._module = module;\n  }\n\n  getModule()\n  {\n    return this._module;\n  }\n\n  initialize(module)\n  {\n    this.graphController = module.getGraphController();\n  }\n\n  destroy()\n  {\n\n  }\n\n  getLabelFormatter()\n  {\n    return this._module.getLabelFormatter();\n  }\n\n  getMachineBuilder()\n  {\n    return this._module.getMachineBuilder();\n  }\n\n  getMachineType()\n  {\n    return this.getMachineBuilder().getMachineType();\n  }\n\n  setMachineType(machineType)\n  {\n    this.getMachineBuilder().setMachineType(machineType);\n  }\n\n  getMachineName()\n  {\n    return this.machineName || I18N.toString(\"file.untitled\");\n  }\n\n  setMachineName(machineName)\n  {\n    if (!machineName || machineName.length <= 0)\n    {\n      this.machineName = null;\n    }\n    else\n    {\n      this.machineName = machineName;\n    }\n\n    const value = this.getMachineName();\n    const element = document.getElementById('window-title');\n    const string = element.innerHTML;\n    const separator = string.indexOf('-');\n    if (separator !== -1)\n    {\n      element.innerHTML = value + \" - \" + string.substring(separator + 1).trim();\n    }\n    else\n    {\n      element.innerHTML = value + \" - \" + string;\n    }\n  }\n\n  renameMachine(machineName)\n  {\n    const prev = this.machineName;\n    this.setMachineName(machineName);\n\n    //Emit a user rename machine event\n    this.emit(\"userRenameMachine\", this.getMachineBuilder(), machineName, prev);\n  }\n\n  changeMachineTo(machineType)\n  {\n    const prev = this.getMachineBuilder().getMachineType();\n    if (prev != machineType)\n    {\n      this.setMachineType(machineType);\n\n      //Emit event\n      this.emit(\"userChangeMachine\", this.getMachineBuilder(), machineType, prev);\n    }\n  }\n\n  getFirstGraphNodeByLabel(graph, label)\n  {\n    for(const node of graph.getNodes())\n    {\n      if (node.getNodeLabel() == label)\n      {\n        return node;\n      }\n    }\n\n    return null;\n  }\n\n  setGraphToMachine(graph, machine)\n  {\n    graph.clear();\n\n    //Add all states\n    let node;\n    for(const state of machine.getStates())\n    {\n      node = graph.createNode(0, 0);\n      node.setNodeLabel(state);\n      if (machine.isFinalState(state))\n      {\n        node.setNodeAccept(true);\n      }\n    }\n\n    //Add all transitions\n    let edge, from, to, read, labels, flag;\n    for(let transition of machine.getTransitions())\n    {\n      from = this.getFirstGraphNodeByLabel(graph, transition[0]);\n      read = transition[1];\n      to = this.getFirstGraphNodeByLabel(graph, transition[2]);\n      edge = graph.createEdge(from, to);\n      edge.setEdgeLabel(read);\n      const formattedEdge = graph.formatEdge(edge);\n      if (edge != formattedEdge) graph.deleteEdge(edge);\n    }\n\n    //Set start state\n    const startState = machine.getStartState();\n    graph.setStartNode(this.getFirstGraphNodeByLabel(graph, startState));\n\n    //Auto layout graph\n    GraphLayout.applyLayout(graph);\n  }\n\n  convertMachineTo(machineType)\n  {\n    const currentMachineType = this.getMachineType();\n\n    //Already converted machine...\n    if (currentMachineType === machineType) return;\n\n    if (machineType == \"DFA\" && currentMachineType == \"NFA\")\n    {\n      this.emit(\"userPreConvertMachine\", this.getMachineBuilder(), machineType, currentMachineType);\n\n      const result = convertToDFA(this.getMachineBuilder().getMachine(), new DFA());\n      this.setGraphToMachine(this.graphController.getGraph(), result);\n      this.setMachineType(machineType);\n\n      this.emit(\"userConvertMachine\", this.getMachineBuilder(), machineType, currentMachineType);\n      this.emit(\"userPostConvertMachine\", this.getMachineBuilder(), machineType, currentMachineType);\n    }\n    else if (machineType == \"NFA\" && currentMachineType == \"DFA\")\n    {\n      this.changeMachineTo(machineType);\n    }\n    else\n    {\n      throw new Error(\"Conversion scheme between \\'\" + currentMachineType + \"\\' to \\'\" + machineType + \"\\' is not supported\");\n    }\n  }\n\n  getAlphabet()\n  {\n    return this.getMachineBuilder().getAlphabet();\n  }\n\n  createSymbol(symbol)\n  {\n    this.getMachineBuilder().addCustomSymbol(symbol);\n\n    this.emit(\"userCreateSymbol\", this.getMachineBuilder(), symbol);\n  }\n\n  deleteSymbol(symbol)\n  {\n    let edge = null;\n    let index = null;\n    let result = null;\n    const targets = [];\n\n    this.emit(\"userPreDeleteSymbol\", this.getMachineBuilder(), symbol);\n\n    const graph = this.graphController.getGraph();\n    for(let i = graph.getEdges().length - 1; i >= 0; --i)\n    {\n      edge = graph.getEdges()[i];\n      index = edge.getEdgeLabel().indexOf(symbol);\n      if (index >= 0)\n      {\n        result = edge.getEdgeLabel().substring(0, index) + edge.getEdgeLabel().substring(index + 1);\n        if (result.length > 0)\n        {\n          edge.setEdgeLabel(result);\n        }\n        else\n        {\n          edge.setEdgeLabel(\"\");\n          graph.deleteEdge(edge);\n        }\n        targets.push(edge);\n      }\n    }\n\n    if (targets.length <= 0)\n    {\n      this.getMachineBuilder().removeCustomSymbol(symbol);\n    }\n\n    this.emit(\"userDeleteSymbol\", this.getMachineBuilder(), symbol, targets);\n    this.emit(\"userPostDeleteSymbol\", this.getMachineBuilder(), symbol, targets);\n  }\n\n  renameSymbol(prevSymbol, nextSymbol)\n  {\n    let edge = null;\n    let result = null;\n    const targets = [];\n\n    this.emit(\"userPreRenameSymbol\", this.getMachineBuilder(), nextSymbol, prevSymbol);\n\n    const graph = this.graphController.getGraph();\n    const length = graph.getEdges().length;\n    for(let i = 0; i < length; ++i)\n    {\n      edge = graph.getEdges()[i];\n      let result = edge.getEdgeLabel().replace(prevSymbol, nextSymbol);\n      if (result != edge.getEdgeLabel())\n      {\n        targets.push(edge);\n      }\n      edge.setEdgeLabel(result);\n    }\n\n    if (targets.length <= 0)\n    {\n      this.getMachineBuilder().renameCustomSymbol(prevSymbol, nextSymbol);\n    }\n\n    this.emit(\"userRenameSymbol\", this.getMachineBuilder(), nextSymbol, prevSymbol, targets);\n    this.emit(\"userPostRenameSymbol\", this.getMachineBuilder(), nextSymbol, prevSymbol, targets);\n  }\n\n  getCustomSymbols()\n  {\n    return this.getMachineBuilder()._symbols;\n  }\n\n  isCustomSymbol(symbol)\n  {\n    return this.getMachineBuilder().isCustomSymbol(symbol);\n  }\n}\nEventable.mixin(MachineController);\n\nexport default MachineController;\n","import React from 'react';\n\nimport Config from 'config.js';\n\nclass NodeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    //TODO: Refer to app.css for comparable colors\n    const node = this.props.node;\n    return <g className=\"graph-node-container\">\n      {/*Outer circle*/}\n      <circle className=\"graph-node\"\n        cx={node.x}\n        cy={node.y}\n        r={Config.NODE_RADIUS}\n\n        fill=\"#FEE781\"\n        stroke=\"#000000\"/>\n\n      {/*Inner circle*/}\n      {node.getNodeAccept() &&\n        <circle className=\"graph-node-inner\"\n          cx={node.x}\n          cy={node.y}\n          r={Config.NODE_RADIUS_INNER}\n          fill=\"none\"\n\n          stroke=\"#000000\"/>}\n\n      //Label\n      <text className=\"graph-node-label\"\n        x={node.x} y={node.y + 4}\n        pointerEvents=\"none\"\n        style={{\n          userSelect: \"none\",\n          fontSize: (1 - Math.min(Math.max(node.getNodeLabel().length - 2, 0) / 6, 0.5)) + \"em\"\n        }}\n        textAnchor=\"middle\">\n        {node.getNodeLabel()}\n      </text>\n    </g>;\n  }\n}\n\nexport default NodeRenderer;\n","import React from 'react';\n\nimport Config from 'config.js';\n\nclass EdgeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const SIXTH_PI = Math.PI / 6;\n\n    let arrowAngle = 0;\n    const edge = this.props.edge;\n    const start = edge.getStartPoint();\n    const end = edge.getEndPoint();\n    const center = edge.getCenterPoint();\n    const label = edge.getEdgeLabel();\n    const quad = edge.getQuadratic();\n    const quadCoords = edge.getQuadraticAsCoords();\n    const edgeDir = edge.getEdgeDirection();\n    const flipLabel = quadCoords.y > 0;\n\n    //Calculate curved lines...\n    let quadLine = null;\n    if (!edge.isQuadratic())\n    {\n      //Straight line\n      arrowAngle = Math.atan2(start.x - end.x, start.y - end.y) + Math.PI;\n      quadLine = \"L \" + end.x + \" \" + end.y;\n    }\n    else\n    {\n      //Quadratic curve\n      //center = (midpoint + the quadratic offset) + the quadratic offset\n      const cx = center.x + quadCoords.x;\n      const cy = center.y + quadCoords.y;\n      arrowAngle = Math.atan2(cx - end.x, cy - end.y) + Math.PI;\n      quadLine = \"Q \" + cx + \" \" + cy + \" \" + end.x + \" \" + end.y;\n    }\n\n    //Draw multiple labels\n    const labels = edge.getEdgeSymbolsFromLabel();\n    let dy = 0;\n\n    const cx = (center && center.x || 0);\n    const cy = (center && center.y || 0);\n\n    return <g className=\"graph-edge-container\">\n      //Draw lines\n      <path className=\"graph-edge\" id={\"edge:\" + edge.getGraphElementID()}\n        d={\n          \"M \" + start.x + \" \" + start.y + \" \" +\n          quadLine + \" \" +\n          \"M \" +\n            (end.x - (Config.ARROW_WIDTH * Math.sin(arrowAngle - SIXTH_PI))) + \" \" +\n            (end.y - (Config.ARROW_WIDTH * Math.cos(arrowAngle - SIXTH_PI))) + \" \" +\n          \"L \" + end.x + \" \" + end.y + \" \" +\n          \"L \" +\n            (end.x - (Config.ARROW_WIDTH * Math.sin(arrowAngle + SIXTH_PI))) + \" \" +\n            (end.y - (Config.ARROW_WIDTH * Math.cos(arrowAngle + SIXTH_PI)))}\n        fill=\"none\"\n\n        stroke=\"#000000\"/>\n\n      {/*Draw labels*/}\n      <g transform={\"translate(\" + (cx) + \",\" + (cy) + \") rotate(\" + (edgeDir * 180 / Math.PI) + \")\"}>\n      { labels.length > 0 && labels.map((str, i) => {\n          const yy = (i + 1) * -15;\n\n          //TODO: ctx.clearRect(xx - cx - 2, yy - 5, (cx * 2) + 4, 10);\n          return <text\n            key={str + \".\" + i}\n            className=\"graph-edge-label\"\n            transform={\"translate(0, \" + yy + \")\" + (flipLabel ? \" scale(-1, -1)\" : \"\")}\n            alignmentBaseline=\"central\"\n            pointerEvents=\"none\"\n            style={{userSelect: \"none\"}}\n            textAnchor=\"middle\">\n            {str}\n          </text>;\n      })}\n      </g>\n    </g>;\n  }\n}\n\nexport default EdgeRenderer;\n","import React from 'react';\n\nimport Node from 'modules/fsa/graph/FSANode.js';\n\nimport Config from 'config.js';\n\nclass InitialMarkerRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const node = this.props.node;\n    //node.x + offset marker back to center if not a node (or is a pointer)\n    const x = node.x + (!(node instanceof Node) ? -Config.INITIAL_MARKER_OFFSET_X : 0);\n    const y = node.y;\n    const r = Config.NODE_RADIUS;\n    const d = r * 2;\n    return <g className=\"graph-initial-container\">\n      <path className=\"graph-initial\" d={\n        \"M\" + (x - r) + \" \" + (y) +\n        \" L\" + (x - d) + \" \" + (y - r) +\n        \" L\" + (x - d) + \" \" + (y + r) +\n        \" Z\"}\n        fill=\"none\"\n\n        stroke=\"#000000\"/>\n    </g>;\n  }\n}\n\nexport default InitialMarkerRenderer;\n","import React from 'react';\nimport './FSAGraphRenderer.css';\n\nimport NodeRenderer from './NodeRenderer.js';\nimport EdgeRenderer from './EdgeRenderer.js';\nimport InitialMarkerRenderer from './InitialMarkerRenderer.js';\n\nclass FSAGraphRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const graph = graphController.getGraph();\n\n    return <g>\n      {/* Nodes */}\n      {graph.getNodes().map((e, i) => <NodeRenderer key={e.getGraphElementID() || i} node={e}/>)}\n\n      {/* Edges */}\n      {graph.getEdges().map((e, i) => <EdgeRenderer key={e.getGraphElementID() || i} edge={e}/>)}\n\n      {/* Initial marker and ghost */}\n      { graph.getStartNode() && (inputController.ghostInitialMarker == null ?\n        <InitialMarkerRenderer node={graph.getStartNode()}/> :\n        <InitialMarkerRenderer node={inputController.ghostInitialMarker}/>) }\n    </g>;\n  }\n}\n\nexport default FSAGraphRenderer;\n","import React from 'react';\n\nimport Config from 'config.js';\n\nclass SelectionBoxRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const visible = this.props.visible;\n    const fromX = this.props.fromX || 0;\n    const fromY = this.props.fromY || 0;\n    const toX = this.props.toX || fromX + 1;\n    const toY = this.props.toY || fromY + 1;\n\n    const dx = toX - fromX;\n    const dy = toY - fromY;\n\n    return <g className=\"graph-selection-container\">\n    { visible &&\n      <rect className=\"graph-selection\"\n        x={dx < 0 ? toX : fromX}\n        y={dy < 0 ? toY : fromY}\n        width={dx < 0 ? -dx : dx}\n        height={dy < 0 ? -dy : dy}/> }\n    </g>;\n  }\n}\n\nexport default SelectionBoxRenderer;\n","import React from 'react';\nimport Config from 'config.js';\n\nconst HIGHLIGHT_RADIUS_OFFSET = 4;\nconst HIGHLIGHT_LINE_WIDTH = 3;\nconst HIGHLIGHT_LINE_ARRAY = [8, 6];\n\nclass HighlightRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const target = this.props.target;\n    const type = this.props.type;\n\n    let x = 0;\n    let y = 0;\n    let r = Config.CURSOR_RADIUS;\n    switch(type)\n    {\n      case \"node\":\n        x = target.x || 0;\n        y = target.y || 0;\n        r = Config.NODE_RADIUS;\n        break;\n      case \"edge\":\n        const center = target.getCenterPoint();\n        x = center.x || 0;\n        y = center.y || 0;\n        r = Config.EDGE_RADIUS;\n        break;\n      case \"endpoint\":\n        const endpoint = target.getEndPoint();\n        x = endpoint.x || 0;\n        y = endpoint.y || 0;\n        r = Config.ENDPOINT_RADIUS;\n        break;\n      case \"initial\":\n        x = target.x + Config.INITIAL_MARKER_OFFSET_X || 0;\n        y = target.y || 0;\n        r = Config.EDGE_RADIUS;\n        break;\n    }\n\n    return <g className=\"graph-highlight-container\">\n      <circle className={\"graph-highlight \" + this.props.className}\n        cx={x} cy={y}\n        r={r + HIGHLIGHT_RADIUS_OFFSET}\n        strokeDashoffset={this.props.offset || 0}\n        strokeDasharray={HIGHLIGHT_LINE_ARRAY}\n        strokeWidth={HIGHLIGHT_LINE_WIDTH}\n        fill=\"none\"/>\n    </g>;\n  }\n}\n\nexport default HighlightRenderer;\n","import React from 'react';\n\nimport SelectionBoxRenderer from 'content/workspace/renderer/SelectionBoxRenderer.js';\nimport HighlightRenderer from 'content/workspace/renderer/HighlightRenderer.js';\n\nclass FSAGraphOverlayRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n\n    const graphController = currentModule.getGraphController();\n    const inputController = currentModule.getInputController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule.getTestingManager();\n\n    const graph = graphController.getGraph();\n    const viewport = inputController.getInputAdapter().getViewport();\n    const machineBuilder = machineController.getMachineBuilder();\n    const picker = inputController.getPicker();\n    const selectionBox = picker.getSelectionBox();\n\n    return <g>\n      {/* Selected elements */}\n      { picker.hasSelection() &&\n        picker.getSelection(graph).map((e, i) =>\n          <HighlightRenderer key={e.getGraphElementID()} className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={e} type=\"node\"/>) }\n\n      {/* Selection box */}\n      <SelectionBoxRenderer visible={selectionBox.visible}\n        fromX={selectionBox.fromX} fromY={selectionBox.fromY}\n        toX={selectionBox.toX} toY={selectionBox.toY}/>\n\n      {/* Node warning targets */}\n      { machineController.getMachineBuilder().machineErrorChecker.warningNodes.map((e, i) =>\n        <HighlightRenderer key={e.getGraphElementID()} className=\"highlight-warning graph-gui\" target={e} type=\"node\" offset=\"6\"/>) }\n\n      {/* Edge warning targets */}\n      { machineController.getMachineBuilder().machineErrorChecker.warningEdges.map((e, i) =>\n        <HighlightRenderer key={e.getGraphElementID()} className=\"highlight-warning graph-gui\" target={e} type=\"edge\" offset=\"6\"/>) }\n\n      {/* Node error targets */}\n      { machineController.getMachineBuilder().machineErrorChecker.errorNodes.map((e, i) =>\n        <HighlightRenderer key={e.getGraphElementID()} className=\"highlight-error graph-gui\" target={e} type=\"node\" offset=\"6\"/>) }\n\n      {/* Edge error targets */}\n      { machineController.getMachineBuilder().machineErrorChecker.errorEdges.map((e, i) =>\n        <HighlightRenderer key={e.getGraphElementID()} className=\"highlight-error graph-gui\" target={e} type=\"edge\" offset=\"6\"/>) }\n\n      {/* Node test targets */}\n      { tester.testMode.targets.map((e, i) => {\n          return <HighlightRenderer key={e.getGraphElementID()} className=\"highlight-test graph-gui\" target={e} type=\"node\" offset=\"6\"/>;\n        }) }\n\n      {/* Hover markers */}\n      { picker.hasTarget() &&\n        !picker.isTargetInSelection() &&\n        <HighlightRenderer className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={picker.target} type={picker.targetType}/> }\n    </g>;\n  }\n}\n\nexport default FSAGraphOverlayRenderer;\n","import React from 'react';\nimport './TrashCan.css';\n\nimport Viewport from './Viewport.js';\n\nclass TrashCan extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      staticTrash: false\n    };\n  }\n\n  onTrashEnter(e)\n  {\n    if (this.state.staticTrash) return;\n    this.props.inputController.setTrashMode(true);\n\n    //Enable mode: dangerous\n    this.props.viewport.setState((prev, props) => {\n      return {mode: Viewport.DANGEROUS};\n    });\n  }\n\n  onTrashLeave(e)\n  {\n    if (this.state.staticTrash) return;\n    this.props.inputController.setTrashMode(false);\n\n    //Disable mode: dangerous\n    this.props.viewport.setState((prev, props) => {\n      return {mode: Viewport.NORMAL};\n    });\n  }\n\n  onTrashClick(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.setState((prev, props) => {\n      const result = !prev.staticTrash;\n      this.props.inputController.setTrashMode(result);\n\n      //Enable mode: dangerous\n      this.props.viewport.setState((prev, props) => {\n        return {mode: result ? Viewport.DANGEROUS : Viewport.NORMAL};\n      })\n\n      return {\n        staticTrash: result\n      };\n    });\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const inputAdapter = inputController.getInputAdapter();\n\n    return <svg id=\"trash-btn\"\n      className={(inputController.isTrashMode() ? \"danger \" : \"\") +\n        (inputAdapter.isUsingTouch() && inputAdapter.isDragging() ? \"hidden\" : \"\")}\n      width=\"24\" height=\"24\"\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      onMouseEnter={this.onTrashEnter.bind(this)}\n      onMouseLeave={this.onTrashLeave.bind(this)}\n      onClick={this.onTrashClick.bind(this)}>\n      <path d={\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 \" +\n      \"1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 \" +\n      \"1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 \" +\n      \"1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\"}/>\n    </svg>;\n  }\n}\n\nexport default TrashCan;\n","import React from 'react';\n\nclass PlayIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M8 5v14l11-7z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default PlayIcon;\n","import React from 'react';\n\nclass PauseIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"pause-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default PauseIcon;\n","import React from 'react';\n\nclass StopIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"stop-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M6 6h12v12H6z\"/>\n    </svg>;\n  }\n}\n\nexport default StopIcon;\n","import React from 'react';\nimport './TestTray.css';\n\nimport IconButton from 'icons/IconButton.js';\nimport PlayIcon from 'icons/PlayIcon.js';\nimport PauseIcon from 'icons/PauseIcon.js';\nimport StopIcon from 'icons/StopIcon.js';\nimport UndoIcon from 'icons/UndoIcon.js';\nimport RedoIcon from 'icons/RedoIcon.js';\n\nconst MAX_STRING_PREV_LENGTH = 2;\nconst MAX_ELLIPSIS_COUNT = 3;\n\nclass TestTray extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const graphController = this.props.graphController;\n    const tester = this.props.tester;\n    const testList = this.props.tester.inputList;\n    const testMode = this.props.tester.testMode;\n    const testInput = testList.getCurrentInput();\n    const testIndex = testMode.getCurrentTestStringIndex();\n\n    return <div className=\"test-tray-container\">\n      <div className=\"test-tray-input-string-container\">\n      {\n        testInput && testIndex >= 0 &&\n        testInput.value.split('').map((e, i) => {\n          const testOffset = testIndex - i;\n          if (testOffset > MAX_ELLIPSIS_COUNT + MAX_STRING_PREV_LENGTH) return;\n          if (testOffset > MAX_STRING_PREV_LENGTH)\n          {\n            return <span key={e + \".\" + i} className=\"test-tray-input-placeholder\">.</span>;\n          }\n          return <span key={e + \".\" + i}\n            className={\"test-tray-input-char\" +\n            (testIndex == i ? \" active\" : \"\")}>\n            {e}\n            </span>;\n        })\n      }\n      </div>\n      <div className=\"test-tray-control\">\n\n        <IconButton onClick={(e)=>{\n          testMode.onResume();\n        }} disabled={testMode.isRunning()}>\n          <PlayIcon/>\n        </IconButton>\n\n        <IconButton onClick = {(e)=>{\n          testMode.onPause();\n        }} disabled={!testMode.isRunning()}>\n          <PauseIcon/>\n        </IconButton>\n\n        <IconButton onClick = {(e)=>{\n          testMode.onPreviousStep();\n          /*if (testMode.targets.length > 0)\n          {\n            graphController.focusOnNodes(testMode.targets);\n          }*/\n        }} disabled={!testMode.hasPrevStep() || testMode.isSkipping()}>\n          <UndoIcon/>\n        </IconButton>\n\n        <IconButton onClick = {(e)=>{\n          testMode.onNextStep();\n          /*if (testMode.targets.length > 0)\n          {\n            graphController.focusOnNodes(testMode.targets);\n          }*/\n        }} disabled={!tester.testMode.hasNextStep() || testMode.isSkipping()}>\n          <RedoIcon/>\n        </IconButton>\n\n        <IconButton onClick={(e)=>{\n          tester.setStepByStepMode(false);\n        }}>\n          <StopIcon/>\n        </IconButton>\n\n        <div className=\"trash-placeholder\">{/*PLACEHOLDER for TRASH*/}</div>\n      </div>\n    </div>;\n  }\n}\n\nexport default TestTray;\n","import React from 'react';\n\nclass CreateIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"create-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default CreateIcon;\n","import React from 'react';\n\nclass MoveIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"move-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\" />\n    </svg>;\n  }\n}\n\nexport default MoveIcon;\n","import React from 'react';\nimport './CursorMode.css';\n\nimport IconButton from 'icons/IconButton.js';\nimport CreateIcon from 'icons/CreateIcon.js';\nimport MoveIcon from 'icons/MoveIcon.js';\n\nclass CursorMode extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const graphController = this.props.graphController;\n    const actionMode = inputController.isActionMode(graphController);\n\n    return <div id=\"cursor-btn\">\n      <IconButton id=\"action-mode\" className={actionMode ? \"active\" : \"\"}\n        onClick={() => inputController.setInputScheme(true)}\n        title={I18N.toString(\"cursor.actionmode\")}>\n        <CreateIcon/>\n      </IconButton>\n      <IconButton id=\"move-mode\" className={!actionMode ? \"active\" : \"\"}\n        onClick={() => inputController.setInputScheme(false)}\n        title={I18N.toString(\"cursor.movemode\")}>\n        <MoveIcon/>\n      </IconButton>\n    </div>;\n  }\n}\n\nexport default CursorMode;\n","import React from 'react';\n\nimport TrashCan from 'content/viewport/TrashCan.js';\nimport TestTray from './TestTray.js';\nimport CursorMode from 'content/viewport/CursorMode.js';\n\nclass ViewportRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n    const screen = this.props.screen;\n\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule.getTestingManager();\n\n    const LabelEditor = currentModule.getLabelEditor();\n\n    return <span>\n    { LabelEditor &&\n      <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n      inputController={inputController}\n      graphController={graphController}\n      machineController={machineController}\n      screen={screen}/> }\n    {\n      tester.getStepByStepMode() ?\n      <div className=\"anchor-bottom-left\" style={{width: \"100%\"}}>\n        <TestTray tester={tester} graphController={graphController}/>\n      </div>\n      :\n      <span>\n        <div className=\"anchor-bottom-left\" style={{width: \"100%\"}}>\n          <CursorMode inputController={inputController} graphController={graphController}/>\n        </div>\n        <div className=\"anchor-bottom-right\">\n          <TrashCan inputController={inputController} viewport={parent}/>\n        </div>\n      </span>\n    }\n    </span>;\n  }\n}\nexport default ViewportRenderer;\n","import Config from 'config.js';\n\nclass MachineLabeler\n{\n  constructor(graph)\n  {\n    this.graph = graph;\n    this.prefix = Config.STR_STATE_LABEL;\n\n    //TODO: this is hooked into the controller in module\n    this.shouldAutoLabel = false;\n  }\n\n  sortDefaultNodeLabels()\n  {\n    const startNode = this.graph.getStartNode();\n    if (!startNode) return;\n    const isDefaultInitial = !startNode.getNodeCustom();\n\n    const defaultNodes = [];\n    const customLabels = [];\n    for(const node of this.graph.getNodes())\n    {\n      if (node.getNodeCustom())\n      {\n        customLabels.push(node.getNodeLabel());\n      }\n      else\n      {\n        defaultNodes.push(node);\n      }\n    }\n\n    let index = isDefaultInitial ? 0 : 1;\n    for(const node of defaultNodes)\n    {\n      let defaultName = null;\n      while(customLabels.includes(\n        defaultName = this.getDefaultNodeLabelByIndex(index++))) {}\n\n      node.setNodeLabel(defaultName);\n    }\n  }\n\n  getNextDefaultNodeLabel()\n  {\n    //if (!this.shouldAutoLabel) return this.prefix;\n\n    let nodeIndex = 0;\n    let result = this.getDefaultNodeLabelByIndex(nodeIndex);\n    while(!this.isUniqueNodeLabel(result))\n    {\n      ++nodeIndex;\n      result = this.getDefaultNodeLabelByIndex(nodeIndex);\n    }\n    return result;\n  }\n\n  getDefaultNodeLabelByIndex(index)\n  {\n    return this.prefix + (index);\n  }\n\n  isUniqueNodeLabel(newLabel)\n  {\n    for(const node of this.graph.getNodes())\n    {\n      if (node.getNodeLabel() == newLabel)\n      {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n\nexport default MachineLabeler;\n","import Config from 'config.js';\nimport MachineLabeler from './MachineLabeler.js';\n\nconst DEFAULT_AUTO_RENAME = true;\n\nclass MachineBuilder\n{\n  constructor(graph)\n  {\n    this.graph = graph;\n    this.graphController = null;\n\n    this.labeler = new MachineLabeler(graph);\n\n    this.onGraphNodeLabelChange = this.onGraphNodeLabelChange.bind(this);\n  }\n\n  initialize(module)\n  {\n    this.graphController = module.getGraphController();\n\n    this.setAutoRenameNodes(DEFAULT_AUTO_RENAME);\n  }\n\n  destroy()\n  {\n\n  }\n\n  onGraphNodeLabelChange(graph, node, targetNodes, prevX, prevY)\n  {\n    this.labeler.sortDefaultNodeLabels();\n  }\n\n  setAutoRenameNodes(enable)\n  {\n    const prev = this.labeler.shouldAutoLabel;\n    this.labeler.shouldAutoLabel = enable;\n    if (prev != enable && enable)\n    {\n      this.graphController.on(\"userDeleteNodes\", this.onGraphNodeLabelChange);\n    }\n    else\n    {\n      this.graphController.removeEventListener(\"userDeleteNodes\", this.onGraphNodeLabelChange);\n    }\n  }\n\n  shouldAutoRenameNodes()\n  {\n    return this.labeler.shouldAutoLabel;\n  }\n\n  getLabeler()\n  {\n    return this.labeler;\n  }\n}\n\nexport default MachineBuilder;\n","import React from 'react';\n\nclass StateUnreachableWarningMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.targetIndex = 0;\n    this.targetLabel = \"\";\n    const targets = props.message.value;\n    for(const target of targets)\n    {\n      if (this.targetLabel.length > 0)\n      {\n        this.targetLabel += \", \";\n      }\n      this.targetLabel += target.getNodeLabel();\n    }\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    const buttonValue = e.target.value;\n    const message = this.props.message;\n    switch(buttonValue)\n    {\n      case \"locate\":\n      {\n        //Locate the target node\n        const target = message.value[this.targetIndex++];\n        if (this.targetIndex >= message.value.length)\n        {\n          this.targetIndex = 0;\n        }\n\n        //Move pointer to target\n        graphController.focusOnNode(target);\n      }\n      break;\n      case \"deleteall\":\n      {\n        const targets = message.value;\n        //Delete all target nodes\n        graphController.deleteTargetNodes(targets);\n\n        //Sort the nodes after deleting if enabled...\n        machineController.getMachineBuilder().labeler.sortDefaultNodeLabels();\n\n        //Exit the message\n        message.close();\n      }\n      break;\n      default:\n        throw new Error(\"Unknown button value for message\");\n    }\n  }\n\n  //Override\n  render()\n  {\n    return <div>\n      <p>{I18N.toString(\"message.warning.unreachable\") + \": \" + this.targetLabel}</p>\n      <button value=\"locate\" onClick={this.onClick}>{I18N.toString(\"message.action.locate\")}</button>\n      <button value=\"deleteall\" onClick={this.onClick}>{I18N.toString(\"message.action.deleteall\")}</button>\n    </div>;\n  }\n}\n\nexport default StateUnreachableWarningMessage;\n","import React from 'react';\n\nclass StateMissingTransitionErrorMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.targetIndex = 0;\n    this.targetLabel = \"\";\n    const targets = props.message.value.targets;\n    for(const target of targets)\n    {\n      if (this.targetLabel.length > 0)\n      {\n        this.targetLabel += \", \";\n      }\n      this.targetLabel += target.getNodeLabel();\n    }\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    const buttonValue = e.target.value;\n    const message = this.props.message;\n    switch(buttonValue)\n    {\n      case \"locate\":\n      {\n        const targets = message.value.targets;\n        const targetLength = targets.length;\n        if (targetLength > 0 && this.targetIndex < targetLength)\n        {\n          //Locate the target edge\n          const target = targets[this.targetIndex++];\n          if (this.targetIndex >= targetLength) this.targetIndex = 0;\n\n          //Move pointer to target\n          graphController.focusOnNode(target);\n        }\n      }\n      break;\n      default:\n        throw new Error(\"Unknown button value for message\");\n    }\n  }\n\n  //Override\n  render()\n  {\n    return <div>\n      <p>{I18N.toString(\"message.error.missing\") + \": \" + this.targetLabel}</p>\n      <button value=\"locate\" onClick={this.onClick}>{I18N.toString(\"message.action.locate\")}</button>\n    </div>;\n  }\n}\n\nexport default StateMissingTransitionErrorMessage;\n","import React from 'react';\n\nimport { ARROW } from 'machine/Symbols.js';\n\nclass TransitionErrorMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.targetIndex = 0;\n    this.targetLabel = \"\";\n    const targets = props.message.value.targets;\n    for(const target of targets)\n    {\n      if (this.targetLabel.length > 0)\n      {\n        this.targetLabel += \", \";\n      }\n      this.targetLabel += \"(\" + target.getSourceNode().getNodeLabel() + \", \" + (target.getDestinationNode() ? target.getDestinationNode().getNodeLabel() : \"null\") + \") \" + ARROW + \" \" + target.getEdgeLabel();\n    }\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    const buttonValue = e.target.value;\n    const message = this.props.message;\n    switch(buttonValue)\n    {\n      case \"locate\":\n      {\n        const targets = message.value.targets;\n        const targetLength = targets.length;\n        if (targetLength > 0 && this.targetIndex < targetLength)\n        {\n          //Locate the target edge\n          const target = targets[this.targetIndex++];\n          if (this.targetIndex >= targetLength) this.targetIndex = 0;\n\n          //Move pointer to target\n          graphController.focusOnEdge(target);\n        }\n      }\n      break;\n      case \"deleteall\":\n      {\n        const targets = message.value.targets;\n        //Delete all target edges\n        graphController.deleteTargetEdges(targets);\n\n        //Exit the message\n        message.close();\n      }\n      break;\n      default:\n        throw new Error(\"Unknown button value for message\");\n    }\n  }\n\n  //Override\n  render()\n  {\n    return <div>\n      <p>{this.props.message.value.text + \": \" + this.targetLabel}</p>\n      <button value=\"locate\" onClick={this.onClick}>{I18N.toString(\"message.action.locate\")}</button>\n      <button value=\"deleteall\" onClick={this.onClick}>{I18N.toString(\"message.action.deleteall\")}</button>\n    </div>;\n  }\n}\n\nexport default TransitionErrorMessage;\n","import Config from 'config.js';\nimport { EMPTY } from 'machine/Symbols.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport StateUnreachableWarningMessage from 'modules/fsa/notifications/StateUnreachableWarningMessage.js';\nimport StateMissingTransitionErrorMessage from 'modules/fsa/notifications/StateMissingTransitionErrorMessage.js';\nimport TransitionErrorMessage from 'modules/fsa/notifications/TransitionErrorMessage.js';\nimport StateErrorMessage from 'modules/fsa/notifications/StateErrorMessage.js';\n\nclass DFAErrorChecker\n{\n  constructor(machineBuilder, graph)\n  {\n    this.machineBuilder = machineBuilder;\n    this.graph = graph;\n\n    this.errorNodes = [];\n    this.errorEdges = [];\n    this.warningNodes = [];\n    this.warningEdges = [];\n  }\n\n  clear()\n  {\n    this.errorNodes.length = 0;\n    this.errorEdges.length = 0;\n    this.warningNodes.length = 0;\n    this.warningEdges.length = 0;\n  }\n\n  checkErrors(shouldNotifyErrors=false, graphController=null, machineController=null)\n  {\n    //This should only run for \"DFA\" machine types...\n    if (this.machineBuilder.getMachineType() != \"DFA\")\n    {\n      throw new Error(\"Invalid machine type to check for DFA errors\");\n    }\n\n    const machine = this.machineBuilder.getMachine();\n    const graph = this.graph;\n    const alphabet = machine.getAlphabet();\n    const errorNodes = this.errorNodes;\n    const errorEdges = this.errorEdges;\n    const warnNodes = this.warningNodes;\n    const warnEdges = this.warningEdges;\n    this.clear();\n\n    let nodeTransitionMap = new Map();\n    let startNode = graph.getStartNode();\n\n    const placeholderEdges = [];\n    const emptyEdges = [];\n    const dupeEdges = [];\n    for(const edge of graph.getEdges())\n    {\n      //check incomplete edges\n      if (edge.isPlaceholder())\n      {\n        //Update cached error targets\n        placeholderEdges.push(edge);\n        if (errorEdges.indexOf(edge) == -1) errorEdges.push(edge);\n      }\n      else\n      {\n        const from = edge.getSourceNode();\n        const to = edge.getDestinationNode();\n        const labels = edge.getEdgeSymbolsFromLabel();\n\n        for(const label of labels)\n        {\n          //check for empty transitions\n          if(label == EMPTY)\n          {\n            //Update cached error targets\n            emptyEdges.push(edge);\n            if (errorEdges.indexOf(edge) == -1) errorEdges.push(edge);\n          }\n          else\n          {\n            if(!nodeTransitionMap.has(from))\n            {\n              nodeTransitionMap.set(from, [label]);\n            }\n            else\n            {\n              //check for duplicate transitions\n              const currentAlphabet = nodeTransitionMap.get(from);\n              if(currentAlphabet.includes(label))\n              {\n                //Update cached error targets\n                dupeEdges.push(edge);\n                if (errorEdges.indexOf(edge) == -1) errorEdges.push(edge);\n              }\n              else\n              {\n                currentAlphabet.push(label);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    const missingNodes = [];\n    //Check for missing transitions\n    for(const node of graph.getNodes())\n    {\n      const nodeTransitions = nodeTransitionMap.get(node);\n      if (!nodeTransitions && alphabet.length != 0 ||\n        nodeTransitions && nodeTransitions.length < alphabet.length)\n      {\n        //Get the required missing symbols\n        /*\n        let array;\n        if (nodeTransitions)\n        {\n          array = [];\n          for(const symbol of alphabet)\n          {\n            if (!nodeTransitions.includes(symbol))\n            {\n              array.push(symbol);\n            }\n          }\n        }\n        else\n        {\n          array = alphabet.slice();\n        }\n        */\n\n        //Update cached error targets\n        missingNodes.push(node);\n        if (errorNodes.indexOf(node) == -1) errorNodes.push(node);\n      }\n    }\n\n    const result = !(errorNodes.length == 0 && errorEdges.length == 0 &&\n      warnNodes.length == 0 && warnEdges.length == 0);\n\n    //Callbacks for all collected errors\n    if (shouldNotifyErrors)\n    {\n      const messageTag = Config.MACHINE_ERRORS_MESSAGE_TAG;\n      //Clear the existing messages\n      Notifications.clearMessages(messageTag);\n\n      //No errors!\n      if (!result)\n      {\n        Notifications.addMessage(I18N.toString(\"message.error.none\"), \"success\", messageTag, null, null, false);\n      }\n      //There are some errors/warnings...\n      else\n      {\n        const props = {graphController: graphController, machineController: machineController};\n        //Add new warning messages\n        const unReachedNodes = this.getUnreachableNodes();\n        if (unReachedNodes.length > 0)\n        {\n          Notifications.addMessage(unReachedNodes,\n            \"warning\", messageTag, StateUnreachableWarningMessage, props, false);\n        }\n\n        //Add new error messages\n        if (placeholderEdges.length > 0)\n        {\n          Notifications.addMessage({text: I18N.toString(\"message.error.incomplete\"), targets: placeholderEdges},\n            \"error\", messageTag, TransitionErrorMessage, props, false);\n        }\n        if (emptyEdges.length > 0)\n        {\n          Notifications.addMessage({text: I18N.toString(\"message.error.empty\"), targets: emptyEdges},\n            \"error\", messageTag, TransitionErrorMessage, props, false);\n        }\n        if (dupeEdges.length > 0)\n        {\n          Notifications.addMessage({text: I18N.toString(\"message.error.dupe\"), targets: dupeEdges},\n            \"error\", messageTag, TransitionErrorMessage, props, false);\n        }\n        if (missingNodes.length > 0)\n        {\n          Notifications.addMessage({targets: missingNodes},\n            \"error\", messageTag, StateMissingTransitionErrorMessage, props, false);\n        }\n      }\n    }\n\n    return result;\n  }\n\n  getUnreachableNodes() {\n    const graph = this.graph;\n    if (graph.getNodeCount() <= 1) return [];\n\n    const edges = graph.getEdges();\n    const nodes = graph.getNodes().slice();\n    const startNode = nodes.shift();\n    let nextNodes = [];\n    nextNodes.push(startNode);\n\n    while(nextNodes.length > 0)\n    {\n      const node = nextNodes.pop();\n      for(const edge of edges)\n      {\n        if (edge.getSourceNode() === node)\n        {\n          const i = nodes.indexOf(edge.getDestinationNode());\n          if (i >= 0)\n          {\n            const nextNode = nodes.splice(i, 1)[0];\n            nextNodes.push(nextNode);\n          }\n        }\n      }\n    }\n\n    return nodes;\n  }\n}\n\nexport default DFAErrorChecker;\n","import Config from 'config.js';\nimport { EMPTY } from 'machine/Symbols.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport StateUnreachableWarningMessage from 'modules/fsa/notifications/StateUnreachableWarningMessage.js';\nimport TransitionErrorMessage from 'modules/fsa/notifications/TransitionErrorMessage.js';\n\nclass NFAErrorChecker\n{\n  constructor(machineBuilder, graph)\n  {\n    this.machineBuilder = machineBuilder;\n    this.graph = graph;\n\n    this.errorNodes = [];\n    this.errorEdges = [];\n    this.warningNodes = [];\n    this.warningEdges = [];\n  }\n\n  clear()\n  {\n    this.errorNodes.length = 0;\n    this.errorEdges.length = 0;\n    this.warningNodes.length = 0;\n    this.warningEdges.length = 0;\n  }\n\n  checkErrors(shouldNotifyErrors=false, graphController=null, machineController=null)\n  {\n    const machine = this.machineBuilder.getMachine();\n    const graph = this.graph;\n    const alphabet = machine.getAlphabet();\n    const errorNodes = this.errorNodes;\n    const errorEdges = this.errorEdges;\n    const warnNodes = this.warningNodes;\n    const warnEdges = this.warningEdges;\n    this.clear();\n\n    let nodeTransitionMap = new Map();\n    let unReachedNode = graph.getNodes().slice();\n    let startNode = graph.getStartNode();\n    unReachedNode.splice(unReachedNode.indexOf(startNode),1);\n\n    const placeholderEdges = [];\n    const emptyEdges = [];\n    const dupeEdges = [];\n    for(const edge of graph.getEdges())\n    {\n      //check incomplete edges\n      if (edge.isPlaceholder())\n      {\n        //Update cached error targets\n        placeholderEdges.push(edge);\n        if (errorEdges.indexOf(edge) == -1) errorEdges.push(edge);\n      }\n      else\n      {\n        const from = edge.getSourceNode();\n        const to = edge.getDestinationNode();\n        const labels = edge.getEdgeSymbolsFromLabel();\n\n        for(const label of labels)\n        {\n          //remove to from unReachedNode list\n          if (unReachedNode.includes(to)) unReachedNode.splice(unReachedNode.indexOf(to),1);\n        }\n      }\n    }\n\n    //check disconnect states\n    for (const node of unReachedNode)\n    {\n      if (warnNodes.indexOf(node) == -1) warnNodes.push(node);\n    }\n\n    const result = !(errorNodes.length == 0 && errorEdges.length == 0 &&\n      warnNodes.length == 0 && warnEdges.length == 0);\n\n    //Callbacks for all collected errors\n    const messageTag = Config.MACHINE_ERRORS_MESSAGE_TAG;\n    //Clear the existing messages\n    Notifications.clearMessages(messageTag);\n\n    //No errors!\n    if (!result)\n    {\n      Notifications.addMessage(I18N.toString(\"message.error.none\"), \"success\", messageTag, null, null, false);\n    }\n    //There are some errors/warnings...\n    else\n    {\n      const props = {graphController: graphController, machineController: machineController};\n\n      //Add new warning messages\n      if (unReachedNode.length > 0)\n      {\n        Notifications.addMessage(unReachedNode,\n          \"warning\", messageTag, StateUnreachableWarningMessage, props, false);\n      }\n\n      //Add new error messages\n      if (placeholderEdges.length > 0)\n      {\n        Notifications.addMessage({text: I18N.toString(\"message.error.incomplete\"), targets: placeholderEdges},\n          \"error\", messageTag, TransitionErrorMessage, props, false);\n      }\n    }\n\n    return result;\n  }\n\n  getUnreachableNodes() {\n\n    const graph = this.graph;\n\n    let unReachedNodes = graph.getNodes().slice();\n\n    //keep start state\n    //unReachedNodes.splice(unReachedNodes.indexOf(unReachedNode.getStartNode()), 1);\n    for(const edge of graph.getEdges()) {\n      const labels = edge.label.split(\",\");\n      for(const label of labels) {\n\n        const from = edge.from;\n        const to = edge.to;\n        //remove to from unReachedNode list\n        if(unReachedNodes.includes(to)) unReachedNodes.splice(unReachedNodes.indexOf(to),1);\n      }\n    }\n    return unReachedNodes;\n  }\n}\n\nexport default NFAErrorChecker;\n","import Config from 'config.js';\n\nimport MachineBuilder from './MachineBuilder.js';\nimport DFAErrorChecker from './DFAErrorChecker.js';\nimport NFAErrorChecker from './NFAErrorChecker.js';\nimport DFA from 'machine/DFA.js';\nimport NFA from 'machine/NFA.js';\nimport Node from 'modules/fsa/graph/FSANode.js';\nimport { SYMBOL_SEPARATOR } from 'modules/fsa/graph/FSAEdge.js';\nimport { EMPTY } from 'machine/Symbols.js';\n\nclass FSABuilder extends MachineBuilder\n{\n  constructor(graph)\n  {\n    super(graph);\n\n    this._machine = new NFA();\n    this._machineType = \"DFA\";\n    this._machineValidDFA = false;\n    this._alphabet = [];\n    this._symbols = [];\n\n    this._savedGraphHash = 0;\n\n    this._timer = null;\n    this._errorTimer = null;\n\n    this.machineErrorChecker = new DFAErrorChecker(this, graph);\n    this.tester = null;\n\n    this.graphController = null;\n    this.machineController = null;\n\n    this.onGraphChange = this.onGraphChange.bind(this);\n    this.onDelayedGraphChange = this.onDelayedGraphChange.bind(this);\n    this.onDelayedErrorCheck = this.onDelayedErrorCheck.bind(this);\n  }\n\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this.tester = module.getTestingManager();\n    this.graphController = module.getGraphController();\n    this.machineController = module.getMachineController();\n\n    this._savedGraphHash = this.graph.getHashCode(false);\n    this.onGraphChange();\n  }\n\n  destroy()\n  {\n    this._savedGraphHash = this.graph.getHashCode(false);\n    this.onGraphChange();\n\n    super.destroy();\n  }\n\n  update()\n  {\n    const graphHash = this.graph.getHashCode(false);\n    if (graphHash !== this._savedGraphHash)\n    {\n      this._savedGraphHash = graphHash;\n      this.onGraphChange(this.graph);\n    }\n  }\n\n  onGraphChange(graph)\n  {\n    if (!this.tester) return;\n\n    if (this._timer)\n    {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n\n    if (this._errorTimer)\n    {\n      clearTimeout(this._errorTimer);\n      this._errorTimer = null;\n    }\n\n    this._timer = setTimeout(this.onDelayedGraphChange, Config.GRAPH_IMMEDIATE_INTERVAL);\n    this._errorTimer = setTimeout(this.onDelayedErrorCheck,\n      this.tester.isImmediateErrorCheck ? (Config.GRAPH_IMMEDIATE_INTERVAL * 2) : Config.ERROR_CHECK_INTERVAL);\n  }\n\n  onDelayedGraphChange()\n  {\n    this._machine.clear();\n    const result = this.toNFA(this._machine);\n    for(const s of this._symbols)\n    {\n      this._machine.newSymbol(s);\n    }\n    this._machineValidDFA = this._machine.isValidDFA();\n  }\n\n  onDelayedErrorCheck()\n  {\n    if (!this.tester.shouldCheckError) return;\n\n    this.machineErrorChecker.checkErrors(true, this.graphController, this.machineController);\n  }\n\n  formatAlphabetString(string, allowNull=false)\n  {\n    const symbols = string.split(SYMBOL_SEPARATOR);\n    const result = new Set();\n\n    let symbol = \"\";\n    let symbolLength = 0;\n    const length = symbols.length;\n    for(let i = 0; i < length; ++i)\n    {\n      symbol = symbols[i].trim();\n      symbolLength = symbol.length;\n      //If the symbol has none or more than 1 char\n      if (symbolLength !== 1)\n      {\n        //Remove symbol (by not adding to result)\n\n        //Divide multi-char symbol into smaller single char symbols\n        if (symbolLength > 1)\n        {\n          for(let subsymbol of symbol.split(\"\"))\n          {\n            subsymbol = subsymbol.trim();\n            if (!result.has(subsymbol))\n            {\n              result.add(subsymbol);\n            }\n          }\n        }\n      }\n      else\n      {\n        result.add(symbol);\n      }\n    }\n\n    //If it is an empty string...\n    if (result.size <= 0) return allowNull ? null : EMPTY;\n    return Array.from(result).join(SYMBOL_SEPARATOR);\n  }\n\n  setMachineType(machineType)\n  {\n    if (this._machineType == machineType) return;\n\n    this._machineType = machineType;\n    if (machineType == \"DFA\")\n    {\n      this.machineErrorChecker = new DFAErrorChecker(this, this.graph);\n    }\n    else if (machineType == \"NFA\")\n    {\n      this.machineErrorChecker = new NFAErrorChecker(this, this.graph);\n    }\n    else\n    {\n      throw new Error(\"Cannot find error checker for machine type \\'\" + machineType + \"\\'\");\n    }\n\n    this.onGraphChange();\n  }\n\n  getMachineType()\n  {\n    return this._machineType;\n  }\n\n  addCustomSymbol(symbol)\n  {\n    this._symbols.push(symbol);\n\n    this.onGraphChange();\n  }\n\n  removeCustomSymbol(symbol)\n  {\n    this._symbols.splice(this._symbols.indexOf(symbol), 1);\n\n    this.onGraphChange();\n  }\n\n  renameCustomSymbol(prevSymbol, nextSymbol)\n  {\n    const i = this._symbols.indexOf(prevSymbol);\n    if (i <= 0) throw new Error(\"Trying to rename unknown symbol \\'\" + prevSymbol + \"\\'\");\n    this._symbols[i] = nextSymbol;\n\n    this.onGraphChange();\n  }\n\n  isCustomSymbol(symbol)\n  {\n    return this._symbols.includes(symbol);\n  }\n\n  getAlphabet()\n  {\n    const machine = this.getMachine();\n    this._alphabet.length = 0;\n    machine.getAlphabet(this._alphabet);\n    return this._alphabet;\n  }\n\n  isValidMachine()\n  {\n    if (this._machineType == \"DFA\")\n    {\n      return this._machineValidDFA;\n    }\n    else\n    {\n      return true;\n    }\n  }\n\n  toDFA(dst = null)\n  {\n    const result = dst || new DFA();\n    if (!(result instanceof DFA))\n      throw new Error(\"Trying to parse graph mismatched machine type.\");\n    fillFSA(this.graph, result);\n    return result;\n  }\n\n  toNFA(dst=null)\n  {\n    const result = dst || new NFA();\n    if (!(result instanceof NFA))\n      throw new Error(\"Trying to parse graph mismatched machine type.\");\n    fillFSA(this.graph, result);\n    return result;\n  }\n\n  getMachine()\n  {\n    return this._machine;\n  }\n}\n\nfunction fillFSA(graph, fsa)\n{\n  if (graph.getNodes().length <= 0) return fsa;\n  //Create all the nodes\n  for(const node of graph.getNodes())\n  {\n    try\n    {\n      let state = node.getNodeLabel();\n      fsa.newState(state);\n\n      //Set final state\n      if (node.getNodeAccept())\n      {\n        fsa.setFinalState(state, true);\n      }\n    }\n    catch(e)\n    {\n      throw e;\n    }\n  }\n\n  //Create all the edges\n  for(const edge of graph.getEdges())\n  {\n    //Ignore any incomplete edges\n    if (edge.isPlaceholder()) continue;\n    const from = edge.getSourceNode();\n    const to = edge.getDestinationNode();\n    if (from instanceof Node && to instanceof Node)\n    {\n      const labels = edge.getEdgeSymbolsFromLabel();\n      for(const label of labels)\n      {\n        try\n        {\n          fsa.newTransition(from.getNodeLabel(), to.getNodeLabel(), label);\n        }\n        catch(e)\n        {\n          throw e;\n        }\n      }\n    }\n  }\n\n  //Set start state\n  let startState = graph.getStartNode().getNodeLabel();\n  fsa.setStartState(startState);\n\n  return fsa;\n}\n\nexport default FSABuilder;\n","class EventHandler\n{\n  constructor(eventLogger, controller, eventName, postEventName)\n  {\n    this.eventLogger = eventLogger;\n    this.controller = controller;\n    this.eventName = eventName;\n    this.postEventName = postEventName || null;\n\n    this.onEvent = this.onEvent.bind(this);\n\n    this.controller.on(this.eventName, this.onEvent);\n  }\n\n  destroy()\n  {\n    this.controller.removeEventListener(this.eventName, this.onEvent);\n  }\n\n  onEvent(...args)\n  {\n    const result = {};\n    result.applyUndo = this.applyUndo.bind(this, result);\n    result.applyRedo = this.applyRedo.bind(this, result);\n\n    result.eventData = this.captureEvent(...args);\n\n    if (this.postEventName)\n    {\n      //Wait for post event to finalize event\n      this.controller.once(this.postEventName, (...args) => {\n        result.postData = this.capturePostEvent(...args);\n\n        this.eventLogger.captureEvent(result);\n      });\n    }\n    else\n    {\n      result.postData = result.eventData;\n\n      //Finalize event right now\n      this.eventLogger.captureEvent(result);\n    }\n  }\n\n  captureEvent(...args)\n  {\n    return {};\n  }\n\n  capturePostEvent(...args)\n  {\n    return {};\n  }\n\n  applyUndo(e)\n  {\n\n  }\n\n  applyRedo(e)\n  {\n\n  }\n}\n\nexport default EventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass GraphEdgeDestinationEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"nodeInitial\");\n  }\n\n  //Override\n  captureEvent(graph, nextInitial, prevInitial)\n  {\n    return {\n      graph: graph,\n      nodeID: nextInitial.getGraphElementID(),\n      prevID: prevInitial.getGraphElementID()\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.prevID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    graph.setStartNode(node);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    graph.setStartNode(node);\n  }\n}\nexport default GraphEdgeDestinationEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass GraphNodeMoveEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"nodeMove\");\n  }\n\n  //Override\n  captureEvent(graph, targetNode, nextX, nextY, prevX, prevY)\n  {\n    return {\n      graph: graph,\n      nodeID: targetNode.getGraphElementID(),\n      nextX: nextX,\n      nextY: nextY,\n      prevX: prevX,\n      prevY: prevY\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    node.x = e.eventData.prevX;\n    node.y = e.eventData.prevY;\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n    \n    node.x = e.eventData.nextX;\n    node.y = e.eventData.nextY;\n  }\n}\nexport default GraphNodeMoveEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass GraphNodeMoveAllEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"nodeMoveAll\");\n  }\n\n  //Override\n  captureEvent(graph, nodes, dx, dy)\n  {\n    return {\n      graph: graph,\n      nodeIDs: nodes.map(e => e.getGraphElementID()),\n      dx: dx,\n      dy: dy\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    let node = null;\n    for(const nodeID of e.eventData.nodeIDs)\n    {\n      node = graph.getNodeByElementID(nodeID);\n      if (!node) throw new Error(\"Unable to find target in graph\");\n\n      node.x -= e.eventData.dx;\n      node.y -= e.eventData.dy;\n    }\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    let node = null;\n    for(const nodeID of e.eventData.nodeIDs)\n    {\n      node = graph.getNodeByElementID(nodeID);\n      if (!node) throw new Error(\"Unable to find target in graph\");\n\n      node.x += e.eventData.dx;\n      node.y += e.eventData.dy;\n    }\n  }\n}\nexport default GraphNodeMoveAllEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass GraphEdgeMoveEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"edgeMove\");\n  }\n\n  //Override\n  captureEvent(graph, targetEdge, nextQuad, prevQuad)\n  {\n    return {\n      graph: graph,\n      edgeID: targetEdge.getGraphElementID(),\n      nextQuad: Object.assign({}, nextQuad),\n      prevQuad: Object.assign({}, prevQuad)\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    edge.setQuadratic(e.eventData.prevQuad.radians, e.eventData.prevQuad.length);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    edge.setQuadratic(e.eventData.nextQuad.radians, e.eventData.nextQuad.length);\n  }\n}\nexport default GraphEdgeMoveEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass GraphEdgeDestinationEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"edgeDestination\");\n  }\n\n  //Override\n  captureEvent(graph, targetEdge, nextDestination, prevDestination, prevQuad)\n  {\n    return {\n      graph: graph,\n      edgeID: targetEdge.getGraphElementID(),\n      nextDestination: nextDestination,\n      prevDestination: prevDestination,\n      nextQuad: Object.assign({}, targetEdge.getQuadratic()),\n      prevQuad: Object.assign({}, prevQuad),\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    let radians = e.eventData.prevQuad.radians;\n    const length = e.eventData.prevQuad.length;\n\n    edge.changeDestinationNode(e.eventData.prevDestination);\n    //Flip them, since self loops are upside down\n    if (edge.isSelfLoop()) radians = -radians;\n    edge.setQuadratic(radians, length);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    let radians = e.eventData.nextQuad.radians;\n    const length = e.eventData.nextQuad.length;\n\n    edge.changeDestinationNode(e.eventData.nextDestination);\n    edge.setQuadratic(radians, length);\n  }\n}\nexport default GraphEdgeDestinationEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass GraphEdgeLabelEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"edgeLabel\");\n  }\n\n  //Override\n  captureEvent(graph, targetEdge, nextLabel, prevLabel)\n  {\n    return {\n      graph: graph,\n      edgeID: targetEdge.getGraphElementID(),\n      nextLabel: nextLabel,\n      prevLabel: prevLabel\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    edge.setEdgeLabel(e.eventData.prevLabel);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    edge.setEdgeLabel(e.eventData.nextLabel);\n  }\n}\nexport default GraphEdgeLabelEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass UserCreateNodeEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"userPostCreateNode\");\n  }\n\n  //Override\n  captureEvent(graph, node)\n  {\n    return {\n      nodeID: node.getGraphElementID(),\n      x: node.x,\n      y: node.y,\n      accept: node.getNodeAccept(),\n      label: node.getNodeLabel(),\n      custom: node.getNodeCustom()\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    graph.deleteNode(node);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    let node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node)\n    {\n      node = graph.createNode(e.postData.x, e.postData.y, e.postData.nodeID);\n    }\n    else\n    {\n      node.x = e.postData.x;\n      node.y = e.postData.y;\n    }\n    node.setNodeLabel(e.postData.label);\n    node.setNodeAccept(e.postData.accept);\n    node.setNodeCustom(e.postData.custom);\n  }\n}\nexport default UserCreateNodeEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass UserToggleNodeEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"userToggleNode\");\n  }\n\n  //Override\n  captureEvent(graph, node, prevAccept)\n  {\n    return {\n      nodeID: node.getGraphElementID(),\n      prevAccept: prevAccept\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    node.setNodeAccept(e.eventData.prevAccept);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    node.setNodeAccept(!e.eventData.prevAccept);\n  }\n}\nexport default UserToggleNodeEventHandler;\n","import FSAGraph from './FSAGraph.js';\nimport { SYMBOL_SEPARATOR } from './FSAEdge.js';\n\nconst GRAPH_PARSER_VERSION = \"1.0.0\";\n\nexport const JSON = {\n  parse(data, dst=null)\n  {\n    if (!dst) dst = new FSAGraph();\n    else dst.clear();\n\n    const nodeDatas = data['nodes'] || [];\n    const nodeCount = Math.min(nodeDatas.length || 0, data['nodeCount'] || 0);\n    const edgeDatas = data['edges'] || [];\n    const edgeCount = Math.min(edgeDatas.length || 0, data['edgeCount'] || 0);\n    const initialIndex = data['initial'] || 0;\n\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const nodeData = nodeDatas[i];\n      if (!nodeData) continue;\n\n      //NOTE: Assumes createNode will maintain order\n      const node = dst.createNode(nodeData['x'] || 0, nodeData['y'] || 0, nodeData['id']);\n      node.setNodeLabel(nodeData['label'] || \"\");\n      node.setNodeAccept(nodeData['accept'] || false);\n      node.setNodeCustom(nodeData['custom'] || false);\n\n      nodeIndices.set(i, node);\n    }\n\n    const initialNode = nodeIndices.get(initialIndex);\n    if (initialNode)\n    {\n      dst.setStartNode(initialNode);\n    }\n\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edgeData = edgeDatas[i];\n      if (!edgeData) continue;\n      const sourceNode = nodeIndices.get(edgeData['from']) || null;\n      //Cannot create source-less edges\n      if (!sourceNode) continue;\n      const destinationNode = nodeIndices.get(edgeData['to']) || null;\n      //NOTE: Assumes createEdge will maintain order\n      const edge = dst.createEdge(sourceNode, destinationNode, edgeData['id']);\n      const quadData = edgeData['quad'] || {};\n      edge.setEdgeLabel(edgeData['label'] || \"\");\n      edge.setQuadratic(quadData['radians'] || 0, quadData['length'] || 0);\n    }\n\n    return dst;\n  },\n  objectify(graph)\n  {\n    const graphNodes = graph.getNodes() || [];\n    const nodeCount = graphNodes.length || 0;\n    const graphEdges = graph.getEdges() || [];\n    const edgeCount = graphEdges.length || 0;\n    const graphInitial = graph.getStartNode();\n\n    const nodeDatas = new Array(nodeCount);\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const node = graphNodes[i];\n      if (node)\n      {\n        //NOTE: Assumes node must have an id\n        const elementID = node.getGraphElementID();\n\n        nodeIndices.set(node, i);\n        nodeDatas[i] = {\n          id: elementID,\n          x: node.x || 0, y: node.y || 0,\n          label: node.getNodeLabel() || \"\",\n          accept: node.getNodeAccept() || false,\n          custom: node.getNodeCustom() || false\n        };\n      }\n    }\n\n    const edgeDatas = new Array(edgeCount);\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edge = graphEdges[i];\n      if (edge)\n      {\n        //NOTE: Assumes edge must have an id\n        const elementID = edge.getGraphElementID();\n\n        const quad = edge.getQuadratic() || {};\n        const edgeSource = edge.getSourceNode();\n        const edgeDestination = edge.getDestinationNode();\n        const sourceIndex = nodeIndices.has(edgeSource) ? nodeIndices.get(edgeSource) : -1;\n        const destinationIndex = nodeIndices.has(edgeDestination) ? nodeIndices.get(edgeDestination) : -1;\n        edgeDatas[i] = {\n          id: elementID,\n          from: sourceIndex,\n          to: destinationIndex,\n          quad: { radians: quad['radians'] || 0, length: quad['length'] || 0 },\n          label: edge.getEdgeLabel() || \"\"\n        };\n      }\n    }\n\n    const initialIndex = nodeIndices.get(graphInitial) || 0;\n\n    return {\n      nodeCount: nodeCount,\n      nodes: nodeDatas,\n      edgeCount: edgeCount,\n      edges: edgeDatas,\n      initial: initialIndex,\n      _version: GRAPH_PARSER_VERSION\n    };\n  }\n};\n\nexport const XML = {\n  parse(data, dst=NULL)\n  {\n    if (!dst) dst = new FSAGraph();\n    else dst.clear();\n\n    const nodeElements = data.getElementsByTagName('state') || [];\n    const nodeCount = nodeElements.length;\n    const edgeElements = data.getElementsByTagName('transition') || [];\n    const edgeCount = edgeElements.length;\n    let initialIndex = \"0\";\n\n    //Get the nodes...\n    const nodeElementIDs = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const nodeElement = nodeElements[i];\n      if (!nodeElement) continue;\n      const nodeElementID = nodeElement.getAttribute('id');\n      if (!nodeElementID) continue;\n\n      //Get x value\n      let x = 0;\n      const xElements = nodeElement.getElementsByTagName('x');\n      //If no elements exists, we are guaranteed an empty list...\n      if (xElements.length > 0)\n      {\n        const xElement = xElements[0];\n        if (xElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const xValue = xElement.childNodes[0];\n          if (xValue)\n          {\n            try\n            {\n              x = parseFloat(xValue.nodeValue) || 0;\n            }\n            catch (e)\n            {\n              x = 0;\n            }\n          }\n        }\n      }\n\n      //Get y value\n      let y = 0;\n      const yElements = nodeElement.getElementsByTagName('y');\n      //If no elements exists, we are guaranteed an empty list...\n      if (yElements.length > 0)\n      {\n        const yElement = yElements[0];\n        if (yElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const yValue = yElement.childNodes[0];\n          if (yValue)\n          {\n            try\n            {\n              y = parseFloat(yValue.nodeValue) || 0;\n            }\n            catch (e)\n            {\n              y = 0;\n            }\n          }\n        }\n      }\n\n      //Get initial flag\n      const initialElements = nodeElement.getElementsByTagName('initial');\n      //If no elements exists, we are guaranteed an empty list...\n      const initial = initialElements.length > 0;\n\n      //Get final flag\n      const finalElements = nodeElement.getElementsByTagName('final');\n      //If no elements exists, we are guaranteed an empty list...\n      const final = finalElements.length > 0;\n\n      //NOTE: Assumes createNode will maintain order\n      const node = dst.createNode(x, y);\n      node.setNodeLabel(nodeElement.getAttribute('name') || \"\");\n      node.setNodeAccept(final);\n\n      if (initial) initialIndex = nodeElementID;\n      nodeElementIDs.set(nodeElementID, node);\n    }\n\n    //Set the initial node...\n    const initialNode = nodeElementIDs.get(initialIndex);\n    if (initialNode)\n    {\n      dst.setStartNode(initialNode);\n    }\n\n    //Readjust the center of graph...\n    const boundingRect = dst.getBoundingRect();\n    const minX = boundingRect.minX;\n    const minY = boundingRect.minY;\n    const width = boundingRect.width;\n    const height = boundingRect.height;\n    const graphNodes = dst.getNodes();\n    for(let i = 0, len = graphNodes.length; i < len; ++i)\n    {\n      graphNodes[i].x -= minX + width / 2;\n      graphNodes[i].y -= minY + height / 2;\n    }\n\n    //Get the transitions...\n    const transitionMapping = new Map();\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edgeElement = edgeElements[i];\n      if (!edgeElement) continue;\n\n      //Get from value\n      let sourceID = null;\n      const fromElements = edgeElement.getElementsByTagName('from');\n      //If no elements exists, we are guaranteed an empty list...\n      if (fromElements.length > 0)\n      {\n        const fromElement = fromElements[0];\n        if (fromElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const fromValue = fromElement.childNodes[0];\n          if (fromValue)\n          {\n            sourceID = fromValue.nodeValue;\n          }\n        }\n      }\n\n      //Cannot create source-less edges\n      if (!nodeElementIDs.has(sourceID)) continue;\n\n      //Get to value\n      let destinationID = \"\";\n      const toElements = edgeElement.getElementsByTagName('to');\n      //If no elements exists, we are guaranteed an empty list...\n      if (toElements.length > 0)\n      {\n        const toElement = toElements[0];\n        if (toElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const toValue = toElement.childNodes[0];\n          if (toValue)\n          {\n            destinationID = toValue.nodeValue || \"\";\n          }\n        }\n      }\n\n      //Get read value\n      let symbol = \"\";\n      const readElements = edgeElement.getElementsByTagName('read');\n      //If no elements exists, we are guaranteed an empty list...\n      if (readElements.length > 0)\n      {\n        const readElement = readElements[0];\n        if (readElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const readValue = readElement.childNodes[0];\n          if (readValue)\n          {\n            symbol = readValue.nodeValue || \"\";\n          }\n        }\n      }\n\n      const transitionID = sourceID + \"\\n\" + destinationID;\n      let symbols;\n      if (transitionMapping.has(transitionID))\n      {\n        symbols = transitionMapping.get(transitionID);\n      }\n      else\n      {\n        symbols = [];\n        transitionMapping.set(transitionID, symbols);\n      }\n      symbols.push(symbol);\n    }\n\n    for(const transitionKey of transitionMapping.keys())\n    {\n      const key = transitionKey.split(\"\\n\");\n      if (key.length !== 2) continue;\n\n      const symbols = transitionMapping.get(transitionKey);\n      const label = symbols.join(SYMBOL_SEPARATOR);\n      //Should never be null, since it was checked before...\n      const sourceNode = nodeElementIDs.get(key[0]);\n      const destinationNode = nodeElementIDs.get(key[1]);\n\n      //NOTE: Assumes createEdge will maintain order\n      const edge = dst.createEdge(sourceNode, destinationNode);\n      edge.setEdgeLabel(label);\n    }\n\n    return dst;\n  },\n  objectify(graph)\n  {\n    const graphNodes = graph.getNodes() || [];\n    const nodeCount = graphNodes.length || 0;\n    const graphEdges = graph.getEdges() || [];\n    const edgeCount = graphEdges.length || 0;\n    const graphInitial = graph.getStartNode();\n\n    const header = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\" +\n      \"<!--Created with flap.js \" + GRAPH_PARSER_VERSION + \"-->\" +\n      \"<structure></structure>\";\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(header, \"application/xml\");\n    const structure = doc.getElementsByTagName(\"structure\")[0];\n\n    const type = doc.createElement(\"type\");\n    type.innerHTML = \"fa\"; //finite automata\n    structure.appendChild(type);\n\n    const automaton = doc.createElement(\"automaton\");\n    structure.appendChild(automaton);\n\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const node = graphNodes[i];\n      nodeIndices.set(node, i);\n\n      //state tag\n      const state = doc.createElement(\"state\");\n      state.id = \"\" + i;\n      state.setAttribute(\"name\", node.getNodeLabel());\n      automaton.appendChild(state);\n\n      //x tag\n      const x = doc.createElement(\"x\");\n      x.innerHTML = \"\" + (node.x || 0);\n      state.appendChild(x);\n\n      //y tag\n      const y = doc.createElement(\"y\");\n      y.innerHTML = \"\" + (node.y || 0);\n      state.appendChild(y);\n\n      //initial tag\n      if (graphInitial === node)\n      {\n        state.appendChild(doc.createElement(\"initial\"));\n      }\n\n      //final tag\n      if (node.getNodeAccept())\n      {\n        state.appendChild(doc.createElement(\"final\"));\n      }\n    }\n\n    for(let edge of graphEdges)\n    {\n      const symbols = edge.getEdgeSymbolsFromLabel();\n      for(let symbol of symbols)\n      {\n        //transition tag\n        const transition = doc.createElement(\"transition\");\n        automaton.appendChild(transition);\n\n        //from tag\n        const from = doc.createElement(\"from\");\n        from.innerHTML = \"\" + (nodeIndices.get(edge.getSourceNode()) || 0);\n        transition.appendChild(from);\n\n        //to tag\n        const to = doc.createElement(\"to\");\n        to.innerHTML = \"\" + (nodeIndices.get(edge.getDestinationNode()) || 0);\n        transition.appendChild(to);\n\n        //read tag\n        const read = doc.createElement(\"read\");\n        read.innerHTML = \"\" + (symbol || \"\");\n        transition.appendChild(read);\n      }\n    }\n\n    return doc;\n  }\n};\n","import EventHandler from './EventHandler.js';\n\nimport * as FSAGraphParser from 'modules/fsa/graph/FSAGraphParser.js';\n\nclass UserDeleteNodesEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"userPreDeleteNodes\", \"userPostDeleteNodes\");\n  }\n\n  //Override\n  captureEvent(graph, node, targetNodes, prevX, prevY)\n  {\n    const targets = [];\n    for(const target of targetNodes)\n    {\n      targets.push(target.getGraphElementID());\n    }\n    const dx = node.x - prevX;\n    const dy = node.y - prevY;\n\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph),\n      targets: targets,\n      dx: dx,\n      dy: dy\n    };\n  }\n\n  //Override\n  capturePostEvent(graph, node, targetNodes, prevX, prevY)\n  {\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph)\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    FSAGraphParser.JSON.parse(e.eventData.graphData, this.controller.getGraph());\n    for(const targetID of e.eventData.targets)\n    {\n      const node = graph.getNodeByElementID(targetID);\n      if (!node) throw new Error(\"Unable to find target in graph\");\n\n      node.x -= e.eventData.dx;\n      node.y -= e.eventData.dy;\n    }\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    FSAGraphParser.JSON.parse(e.postData.graphData, this.controller.getGraph());\n  }\n}\nexport default UserDeleteNodesEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass UserRenameNodeEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"userRenameNode\");\n  }\n\n  //Override\n  captureEvent(graph, node, nextLabel, prevLabel, isPrevCustom)\n  {\n    return {\n      node: node,\n      nodeID: node.getGraphElementID(),\n      nextLabel: nextLabel,\n      prevLabel: prevLabel,\n      prevCustom: isPrevCustom\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    node.setNodeLabel(e.eventData.prevLabel);\n    node.setNodeCustom(e.eventData.prevCustom);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const node = graph.getNodeByElementID(e.eventData.nodeID);\n    if (!node) throw new Error(\"Unable to find target in graph\");\n\n    node.setNodeLabel(e.eventData.nextLabel);\n    node.setNodeCustom(true);\n  }\n}\nexport default UserRenameNodeEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass UserCreateEdgeEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"userPostCreateEdge\");\n  }\n\n  //Override\n  captureEvent(graph, edge)\n  {\n    const edgeQuad = edge.getQuadratic();\n    return {\n      edge: edge,\n      edgeID: edge.getGraphElementID(),\n      fromID: edge.getSourceNode().getGraphElementID(),\n      toID: edge.getDestinationNode() ? edge.getDestinationNode().getGraphElementID() : null,\n      label: edge.getEdgeLabel(),\n      quad: { radians: edgeQuad.radians, length: edgeQuad.length }\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    //TODO: when formatting edges change an edge different than this one, it does not revert them.\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    graph.deleteEdge(edge);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    let edge = graph.getEdgeByElementID(e.postData.edgeID);\n\n    const from = graph.getNodeByElementID(e.postData.fromID);\n    if (!from) throw new Error(\"Trying to create a sourceless edge\");\n    const to = graph.getNodeByElementID(e.postData.toID) || null;\n\n    if (!edge)\n    {\n      edge = graph.createEdge(from, to, e.postData.edgeID);\n    }\n    else\n    {\n      edge.setSourceNode(from);\n      edge.changeDestinationNode(to);\n    }\n\n    edge.setEdgeLabel(e.postData.label);\n    edge.setQuadratic(e.postData.quad.radians, e.postData.quad.length);\n  }\n}\nexport default UserCreateEdgeEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass UserDeleteEdgeEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController)\n  {\n    super(eventLogger, graphController, \"userPreDeleteEdge\");\n  }\n\n  //Override\n  captureEvent(graph, edge, prevTo, prevQuad)\n  {\n    return {\n      edge: edge,\n      edgeID: edge.getGraphElementID(),\n      fromID: edge.getSourceNode().getGraphElementID(),\n      toID: prevTo ? prevTo.getGraphElementID() : null,\n      label: edge.getEdgeLabel(),\n      quad: Object.assign({}, prevQuad)\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    const graph = this.controller.getGraph();\n    let edge = graph.getEdgeByElementID(e.eventData.edgeID);\n\n    const from = graph.getNodeByElementID(e.eventData.fromID);\n    if (!from) throw new Error(\"Trying to create a sourceless edge\");\n    const to = graph.getNodeByElementID(e.eventData.toID) || null;\n\n    if (!edge)\n    {\n      edge = graph.createEdge(from, to, e.eventData.edgeID);\n    }\n    else\n    {\n      edge.setSourceNode(from);\n      edge.changeDestinationNode(to);\n    }\n\n    edge.setEdgeLabel(e.eventData.label);\n    edge.setQuadratic(e.eventData.quad.radians, e.eventData.quad.length);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    const graph = this.controller.getGraph();\n    const edge = graph.getEdgeByElementID(e.eventData.edgeID);\n    if (!edge) throw new Error(\"Unable to find target in graph\");\n\n    graph.deleteEdge(edge);\n  }\n}\nexport default UserDeleteEdgeEventHandler;\n","import EventHandler from './EventHandler.js';\n\nimport * as FSAGraphParser from 'modules/fsa/graph/FSAGraphParser.js';\n\nclass UserImportGraphEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController, machineController)\n  {\n    super(eventLogger, graphController, \"userPreImportGraph\", \"userPostImportGraph\");\n\n    this.machineController = machineController;\n  }\n\n  //Override\n  captureEvent(graph)\n  {\n    return {\n      graphName: this.machineController.getMachineName(),\n      graphData: FSAGraphParser.JSON.objectify(graph)\n    };\n  }\n\n  //Override\n  capturePostEvent(graph)\n  {\n    return {\n      graphName: this.machineController.getMachineName(),\n      graphData: FSAGraphParser.JSON.objectify(graph)\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    FSAGraphParser.JSON.parse(e.eventData.graphData, this.controller.getGraph());\n\n    this.machineController.setMachineName(e.eventData.graphName);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    FSAGraphParser.JSON.parse(e.postData.graphData, this.controller.getGraph());\n\n    this.machineController.setMachineName(e.postData.graphName);\n  }\n}\nexport default UserImportGraphEventHandler;\n","import EventHandler from './EventHandler.js';\n\nimport * as FSAGraphParser from 'modules/fsa/graph/FSAGraphParser.js';\n\nclass SafeGraphEventHandler extends EventHandler\n{\n  constructor(eventLogger, graphController, eventName, postEventName)\n  {\n    super(eventLogger, graphController, eventName, postEventName);\n  }\n\n  //Override\n  captureEvent(graph)\n  {\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph)\n    };\n  }\n\n  //Override\n  capturePostEvent(graph)\n  {\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph)\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    FSAGraphParser.JSON.parse(e.eventData.graphData, this.controller.getGraph());\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    FSAGraphParser.JSON.parse(e.postData.graphData, this.controller.getGraph());\n  }\n}\nexport default SafeGraphEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass UserChangeMachineEventHandler extends EventHandler\n{\n  constructor(eventLogger, machineController)\n  {\n    super(eventLogger, machineController, \"userChangeMachine\");\n  }\n\n  //Override\n  captureEvent(machineBuilder, nextMachineType, prevMachineType)\n  {\n    return {\n      prevType: prevMachineType,\n      nextType: nextMachineType\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    this.controller.setMachineType(e.eventData.prevType);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    this.controller.setMachineType(e.postData.nextType);\n  }\n}\nexport default UserChangeMachineEventHandler;\n","import EventHandler from './EventHandler.js';\n\nimport * as FSAGraphParser from 'modules/fsa/graph/FSAGraphParser.js';\n\nclass UserConvertMachineEventHandler extends EventHandler\n{\n  constructor(eventLogger, machineController, graphController)\n  {\n    super(eventLogger, machineController, \"userPreConvertMachine\", \"userPostConvertMachine\");\n\n    this.graphController = graphController;\n  }\n\n  //Override\n  captureEvent(machineBuilder, nextMachineType, prevMachineType)\n  {\n    const graph = this.graphController.getGraph();\n\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph),\n      prevType: prevMachineType\n    };\n  }\n\n  //Override\n  capturePostEvent(machineBuilder, nextMachineType, prevMachineType)\n  {\n    const graph = this.graphController.getGraph();\n\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph),\n      nextType: nextMachineType\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    FSAGraphParser.JSON.parse(e.eventData.graphData, this.graphController.getGraph());\n    this.controller.setMachineType(e.eventData.prevType);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    FSAGraphParser.JSON.parse(e.postData.graphData, this.graphController.getGraph());\n    this.controller.setMachineType(e.postData.nextType);\n  }\n}\nexport default UserConvertMachineEventHandler;\n","import EventHandler from './EventHandler.js';\n\nclass UserRenameMachineEventHandler extends EventHandler\n{\n  constructor(eventLogger, machineController)\n  {\n    super(eventLogger, machineController, \"userRenameMachine\");\n  }\n\n  //Override\n  captureEvent(machineBuilder, nextMachineName, prevMachineName)\n  {\n    return {\n      prevName: prevMachineName,\n      nextName: nextMachineName\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    this.controller.setMachineName(e.eventData.prevName);\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    this.controller.setMachineName(e.postData.nextName);\n  }\n}\nexport default UserRenameMachineEventHandler;\n","import EventHandler from './EventHandler.js';\n\nimport * as FSAGraphParser from 'modules/fsa/graph/FSAGraphParser.js';\n\nclass UserRenameSymbolEventHandler extends EventHandler\n{\n  constructor(eventLogger, machineController, graphController)\n  {\n    super(eventLogger, machineController, \"userPreRenameSymbol\", \"userPostRenameSymbol\");\n\n    this.graphController = graphController;\n  }\n\n  //Override\n  captureEvent(machineBuilder, symbol, prevSymbol)\n  {\n    const graph = this.graphController.getGraph();\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph),\n      symbol: symbol,\n      prevSymbol: prevSymbol\n    };\n  }\n\n  //Override\n  capturePostEvent(machineBuilder, symbol, prevSymbol, targets)\n  {\n    const graph = this.graphController.getGraph();\n    const targetIDs = [];\n\n    for(const target of targets)\n    {\n      targetIDs.push(target.getGraphElementID());\n    }\n\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph),\n      symbol: symbol,\n      prevSymbol: prevSymbol,\n      targets: targetIDs\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    //TODO: restore machine custom alphabet\n    FSAGraphParser.JSON.parse(e.eventData.graphData, this.graphController.getGraph());\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    //TODO: restore machine custom alphabet\n    FSAGraphParser.JSON.parse(e.postData.graphData, this.graphController.getGraph());\n  }\n}\nexport default UserRenameSymbolEventHandler;\n","import EventHandler from './EventHandler.js';\n\nimport * as FSAGraphParser from 'modules/fsa/graph/FSAGraphParser.js';\n\nclass UserDeleteSymbolEventHandler extends EventHandler\n{\n  constructor(eventLogger, machineController, graphController)\n  {\n    super(eventLogger, machineController, \"userPreDeleteSymbol\", \"userPostDeleteSymbol\");\n\n    this.graphController = graphController;\n  }\n\n  //Override\n  captureEvent(machineBuilder, symbol)\n  {\n    const graph = this.graphController.getGraph();\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph),\n      symbol: symbol\n    };\n  }\n\n  //Override\n  capturePostEvent(machineBuilder, symbol, targets)\n  {\n    const graph = this.graphController.getGraph();\n    const targetIDs = [];\n\n    for(const target of targets)\n    {\n      targetIDs.push(target.getGraphElementID());\n    }\n\n    return {\n      graphData: FSAGraphParser.JSON.objectify(graph),\n      symbol: symbol,\n      targets: targetIDs\n    };\n  }\n\n  //Override - this = event\n  applyUndo(e)\n  {\n    //TODO: restore machine custom alphabet\n    FSAGraphParser.JSON.parse(e.eventData.graphData, this.graphController.getGraph());\n  }\n\n  //Override - this = event\n  applyRedo(e)\n  {\n    //TODO: restore machine custom alphabet\n    FSAGraphParser.JSON.parse(e.postData.graphData, this.graphController.getGraph());\n  }\n}\nexport default UserDeleteSymbolEventHandler;\n","import GraphNodeInitialEventHandler from './controller/events/GraphNodeInitialEventHandler.js';\nimport GraphNodeMoveEventHandler from './controller/events/GraphNodeMoveEventHandler.js';\nimport GraphNodeMoveAllEventHandler from './controller/events/GraphNodeMoveAllEventHandler.js';\nimport GraphEdgeMoveEventHandler from './controller/events/GraphEdgeMoveEventHandler.js';\nimport GraphEdgeDestinationEventHandler from './controller/events/GraphEdgeDestinationEventHandler.js';\nimport GraphEdgeLabelEventHandler from './controller/events/GraphEdgeLabelEventHandler.js';\n\nimport UserCreateNodeEventHandler from './controller/events/UserCreateNodeEventHandler.js';\nimport UserToggleNodeEventHandler from './controller/events/UserToggleNodeEventHandler.js';\nimport UserDeleteNodesEventHandler from './controller/events/UserDeleteNodesEventHandler.js';\nimport UserRenameNodeEventHandler from './controller/events/UserRenameNodeEventHandler.js';\n\nimport UserCreateEdgeEventHandler from './controller/events/UserCreateEdgeEventHandler.js';\nimport UserDeleteEdgeEventHandler from './controller/events/UserDeleteEdgeEventHandler.js';\nimport UserImportGraphEventHandler from './controller/events/UserImportGraphEventHandler.js';\nimport SafeGraphEventHandler from './controller/events/SafeGraphEventHandler.js';\n\nimport UserChangeMachineEventHandler from './controller/events/UserChangeMachineEventHandler.js';\nimport UserConvertMachineEventHandler from './controller/events/UserConvertMachineEventHandler.js';\nimport UserRenameMachineEventHandler from './controller/events/UserRenameMachineEventHandler.js';\nimport UserRenameSymbolEventHandler from './controller/events/UserRenameSymbolEventHandler.js';\nimport UserDeleteSymbolEventHandler from './controller/events/UserDeleteSymbolEventHandler.js';\n\nclass EventManager\n{\n  constructor(undoManager)\n  {\n    this.graphController = null;\n    this.machineController = null;\n\n    this.eventHandlers = [];\n\n    this.undoManager = undoManager;\n  }\n\n  initialize(module)\n  {\n    this.graphController = module.getGraphController();\n    this.machineController = module.getMachineController();\n\n    const graph = this.graphController.getGraph();\n    const events = this.undoManager;\n\n    this.eventHandlers.push(new GraphNodeMoveEventHandler(events, this.graphController));\n    this.eventHandlers.push(new GraphNodeMoveAllEventHandler(events, this.graphController));\n    this.eventHandlers.push(new GraphEdgeMoveEventHandler(events, this.graphController));\n    this.eventHandlers.push(new GraphEdgeDestinationEventHandler(events, this.graphController));\n    this.eventHandlers.push(new GraphNodeInitialEventHandler(events, this.graphController));\n    this.eventHandlers.push(new GraphEdgeLabelEventHandler(events, this.graphController));\n\n    this.eventHandlers.push(new UserCreateNodeEventHandler(events, this.graphController));\n    this.eventHandlers.push(new UserRenameNodeEventHandler(events, this.graphController));\n    this.eventHandlers.push(new UserToggleNodeEventHandler(events, this.graphController));\n    this.eventHandlers.push(new UserDeleteNodesEventHandler(events, this.graphController));\n\n    this.eventHandlers.push(new UserCreateEdgeEventHandler(events, this.graphController));\n    this.eventHandlers.push(new UserDeleteEdgeEventHandler(events, this.graphController));\n\n    this.eventHandlers.push(new UserImportGraphEventHandler(events, this.graphController, this.machineController));\n    this.eventHandlers.push(new SafeGraphEventHandler(events, this.graphController, \"userPreChangeLayout\", \"userPostChangeLayout\"));\n\n    this.eventHandlers.push(new UserChangeMachineEventHandler(events, this.machineController));\n    this.eventHandlers.push(new UserConvertMachineEventHandler(events, this.machineController, this.graphController));\n    this.eventHandlers.push(new UserRenameMachineEventHandler(events, this.machineController));\n    this.eventHandlers.push(new UserRenameSymbolEventHandler(events, this.machineController, this.graphController));\n    this.eventHandlers.push(new UserDeleteSymbolEventHandler(events, this.machineController, this.graphController));\n  }\n\n  destroy()\n  {\n    for(const handler of this.eventHandlers)\n    {\n      handler.destroy();\n    }\n\n    //TODO: Remove all event listeners...\n    this.graphController.clearEventListeners();\n  }\n}\n\nexport default EventManager;\n","import React from 'react';\nimport './LabelEditor.css';\n\nimport Config from 'config.js';\nimport { SYMBOL_SEPARATOR, EMPTY_CHAR } from 'modules/fsa/graph/FSAEdge.js';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\n\n//TODO: This is equivalent to 4em for toolbar height\nconst LABEL_OFFSET_Y = -64;\nconst EDITOR_OFFSET_Y = -36;\nconst DELETE_KEY = 8;\nconst DELETE_FORWARD_KEY = 46;\n\nconst RECOMMENDED_SYMBOLS = [\"0\", \"1\"];\nconst DEFAULT_SYMBOLS = [EMPTY_CHAR];\nconst DELETE_ON_EMPTY = true;\n\nclass LabelEditor extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.parentElement = null;\n    this.inputElement = null;\n\n    //HACK: this is so if the click is focused back to the label editor, then it will NOT close\n    this._timer = null;\n    this._prevValue = \"\";\n\n    this.state = {\n      target: null,\n      callback: null\n    };\n\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onFormat = this.onFormat.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  openEditor(targetEdge, defaultText=null, replace=true, callback=null)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    this.setState((prev, props) => {\n      return {\n        target: targetEdge,\n        callback: callback\n      };\n    });\n\n    this.inputElement.resetValue(targetEdge.getEdgeLabel(), () => {\n      if (defaultText) this.inputElement.setValue(defaultText);\n\n      this._prevValue = targetEdge.getEdgeLabel();\n      this.parentElement.focus();\n      this.inputElement.focus(replace);\n    });\n  }\n\n  closeEditor(saveOnExit=false)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    //Save data\n    if (this.state.target !== null)\n    {\n      if (saveOnExit)\n      {\n        let value = this.inputElement.value;\n        this.state.target.setEdgeLabel(value);\n      }\n      else\n      {\n        if (!this.state.target.getEdgeLabel())\n        {\n          //Make sure its empty (and let edge handle default labels)\n          this.state.target.setEdgeLabel(null);\n\n          //Delete it since it is not a valid edge\n          if (DELETE_ON_EMPTY)\n          {\n            this.props.graphController.getGraph().deleteEdge(this.state.target);\n          }\n        }\n      }\n\n      this.setState({target: null});\n\n      if (this.state.callback) this.state.callback();\n    }\n\n    //Reset label editor\n    this.inputElement.blur();\n  }\n\n  hasFocus()\n  {\n    return this.inputElement.hasFocus();\n  }\n\n  isEditorOpen()\n  {\n    return this.state.target !== null;\n  }\n\n  onContextMenu(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  appendSymbol(symbol)\n  {\n    this.inputElement.appendValue(symbol, SYMBOL_SEPARATOR);\n    this.inputElement.focus(false);\n  }\n\n  onSubmit(newValue, prevValue)\n  {\n    //this._prevValue = newValue;\n    //If the value has changed or the value remained empty...\n    if (newValue != prevValue)\n    {\n      //this.closeEditor(true);\n    }\n    else\n    {\n      //TODO: This was commented out for some reason...\n      //Will close due to timer...\n      this.closeEditor(false);\n    }\n  }\n\n  onFormat(value)\n  {\n    //return this.props.machineController.getMachineBuilder().formatAlphabetString(value, false);\n    return this.props.machineController.getLabelFormatter().call(null, value, false);\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const viewport = inputController.getInputAdapter().getViewport();\n    const graphController = this.props.graphController;//This is used in closeEditor()\n    const machineController = this.props.machineController;//This is also used in callbacks\n    const screen = this.props.screen;\n\n    const targetStyle = {\n      visibility: \"hidden\"\n    };\n\n    const target = this.state.target;\n\n    if (target)\n    {\n      targetStyle.visibility = \"visible\";\n\n      //Assumes target is an instance of Edge\n      const center = target.getCenterPoint();\n      const screenPos = transformViewToScreen(screen,\n        center.x + viewport.getOffsetX(),\n        center.y + viewport.getOffsetY());\n      const x = screenPos.x;\n      const y = screenPos.y + LABEL_OFFSET_Y + EDITOR_OFFSET_Y;\n      const offsetX = -(this.parentElement.offsetWidth / 2);\n      const offsetY = -(this.parentElement.offsetHeight / 2);\n\n      targetStyle.top = (y + offsetY) + \"px\";\n      targetStyle.left = (x + offsetX) + \"px\";\n    }\n\n    const usedAlphabet = machineController.getMachineBuilder().getMachine().getAlphabet();\n\n    return <div className=\"bubble\" id=\"label-editor\" ref={ref=>this.parentElement=ref}\n      tabIndex={\"0\"/*This is to allow div's to focus/blur*/}\n      style={targetStyle}\n      onContextMenu={this.onContextMenu}\n      onFocus={(e)=>{\n        //HACK: delete the timer that will exit labelEditor\n        clearTimeout(this._timer);\n      }}\n      onBlur={(e)=>{\n        //HACK: start the timer that will exit labelEditor if not return focus\n        this._timer = setTimeout(() => this.closeEditor(true), 10);\n      }}>\n      <FormattedInput className=\"label-editor-input\" ref={ref=>this.inputElement=ref}\n        formatter={this.onFormat}\n        onSubmit={this.onSubmit}\n        captureOnExit={\"none\"}/>\n      <div className=\"label-editor-tray\">\n        {\n          usedAlphabet &&\n          <span className=\"label-editor-tray-used\">\n            {\n              usedAlphabet.map((e, i) => {\n                if (e.length < 1) return null;\n                return <button key={i} onClick={ev=>this.appendSymbol(e)}>{e}</button>\n              })\n            }\n          </span>\n        }\n        <span className=\"label-editor-tray-default\">\n          {\n            usedAlphabet &&\n            usedAlphabet.length <= 1 &&\n            RECOMMENDED_SYMBOLS.map((e, i) => {\n              return <button key={i} onClick={ev=>this.appendSymbol(e)}>\n              {e}\n              </button>;\n            })\n          }\n          {\n            DEFAULT_SYMBOLS.map((e, i) => {\n              return <button key={i} onClick={ev=>this.appendSymbol(e)}>\n              {e}\n              </button>;\n            })\n          }\n        </span>\n      </div>\n    </div>;\n  }\n}\n\nfunction transformViewToScreen(svg, x, y)\n{\n  const ctm = svg.getScreenCTM();\n  return {\n    x: (x * ctm.a) + ctm.e,\n    y: (y * ctm.d) + ctm.f\n  };\n}\n\nexport default LabelEditor;\n","//https://www.flaticon.com/free-icon/json-file_136525\nimport React from 'react';\n\nclass JSONIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"json-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <path fill=\"#9777A8\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d={\"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 \" +\n            \"s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 \" +\n            \"s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 \" +\n            \"s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 \" +\n            \"s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 \" +\n            \"s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 \" +\n            \"s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 \" +\n            \"s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 \" +\n            \"c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 \" +\n            \"c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 \" +\n            \"s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 \" +\n            \"s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 \" +\n            \"s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 \" +\n            \"s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 \" +\n            \"s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 \" +\n            \"s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 \" +\n            \"s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 \" +\n            \"s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 \" +\n            \"s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 \" +\n            \"s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 \" +\n            \"s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z\"}/>\n          <path fill=\"#FFFFFF\" d=\"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z\"/>\n        </g>\n        <g>\n          <path fill=\"#9777A8\" d=\"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z\"/>\n          <circle fill=\"#9777A8\" cx=\"27.5\" cy=\"18.5\" r=\"1.5\"/>\n          <path fill=\"#9777A8\" d=\"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z\"/>\n          <path fill=\"#9777A8\" d=\"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z\"/>\n        </g>\n      </g>\n    </svg>;\n  }\n}\n\nexport default JSONIcon;\n","import AbstractGraphExporter from 'modules/abstract/exporter/AbstractGraphExporter.js';\n\nimport JSONFileIcon from 'icons/flat/JSONIcon.js';\nimport { JSON as JSONGraphParser } from 'modules/fsa/graph/FSAGraphParser.js';\nimport Downloader from 'util/Downloader.js';\n\nclass FSAGraphExporter extends AbstractGraphExporter\n{\n  constructor() { super(); }\n\n  fromJSON(data, module)\n  {\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n    const machineBuilder = machineController.getMachineBuilder();\n    const graph = graphController.getGraph();\n\n    const metadata = '_metadata' in data ? data['_metadata'] : {};\n    const newGraph = JSONGraphParser.parse(data.graphData, graph);\n\n    //HACK: this should be calculated elsewhere\n    const machineData = data.machineData;\n    const machineName = machineData.name;\n    if (machineName) machineController.setMachineName(machineName);\n    const machineType = machineData.type;\n    if (machineType) machineController.setMachineType(machineType);\n    const customSymbols = machineData.symbols;\n    if (customSymbols)\n    {\n      machineBuilder._symbols.length = 0;\n      for(const symbol of customSymbols)\n      {\n        machineBuilder._symbols.push(symbol);\n      }\n    }\n    const statePrefix = machineData.statePrefix;\n    if (statePrefix) machineBuilder.getLabeler().prefix = statePrefix;\n\n    return newGraph;\n  }\n\n  toJSON(graphData, module)\n  {\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n    const machineBuilder = machineController.getMachineBuilder();\n\n    const dst = {};\n    dst[\"_metadata\"] = {\n      module: module.getModuleName(),\n      version: process.env.VERSION + \":\" + module.getModuleVersion(),\n      timestamp: new Date().toString()\n    };\n    dst[\"graphData\"] = graphData;\n    dst[\"machineData\"] = {\n      name: machineController.getMachineName(),\n      type: machineController.getMachineType(),\n      symbols: machineController.getCustomSymbols(),\n      statePrefix: machineBuilder.getLabeler().prefix\n    };\n    return dst;\n  }\n\n  //Override\n  importFromData(data, module)\n  {\n    this.fromJSON(data, module);\n  }\n\n  //Override\n  exportToData(module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const result = this.toJSON(graphData, module);\n    return result;\n  }\n\n  //Override\n  doesSupportData()\n  {\n    return true;\n  }\n\n  //Override\n  importFromFile(fileBlob, module)\n  {\n    return new Promise((resolve, reject) => {\n      const filename = fileBlob.name;\n      if (!filename.endsWith(this.getFileType()))\n      {\n        throw new Error(\"Trying to import invalid file type for \\'\" + this.getFileType() + \"\\': \" + filename);\n      }\n\n      const reader = new FileReader();\n      reader.onload = e => {\n        const graphController = module.getGraphController();\n        const machineController = module.getMachineController();\n        const data = e.target.result;\n        const name = filename.substring(0, filename.length - this.getFileType().length - 1);\n        const graph = graphController.getGraph();\n\n        //TODO: this should not be here, this should exist somewhere in graphController\n        graphController.emit(\"userPreImportGraph\", graph);\n\n        try\n        {\n          const jsonData = JSON.parse(data);\n\n          this.fromJSON(jsonData, module);\n\n          graphController.emit(\"userImportGraph\", graph);\n\n          if (machineController)\n          {\n            machineController.setMachineName(name);\n          }\n\n          resolve();\n        }\n        catch (e)\n        {\n          reader.abort();\n          reject(e);\n        }\n        finally\n        {\n          graphController.emit(\"userPostImportGraph\", graph);\n        }\n      };\n\n      reader.onerror = e => {\n        reject(new Error(\"Unable to import file: \" + e.target.error.code));\n      }\n\n      reader.readAsText(fileBlob);\n    });\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const dst = this.toJSON(graphData, module);\n    const jsonString = JSON.stringify(dst);\n    Downloader.downloadText(filename + '.' + this.getFileType(), jsonString);\n  }\n\n  //Override\n  doesSupportFile()\n  {\n    return true;\n  }\n\n  //Override\n  canImport()\n  {\n    return true;\n  }\n\n  //Override\n  getTitle()\n  {\n    return I18N.toString(\"file.export.machine.hint\");\n  }\n\n  //Override\n  getLabel()\n  {\n    return I18N.toString(\"file.export.machine\");\n  }\n\n  //Override\n  getFileType()\n  {\n    return \"json\";\n  }\n\n  //Override\n  getIconClass()\n  {\n    return JSONFileIcon;\n  }\n}\n\nexport default FSAGraphExporter;\n","//https://www.flaticon.com/free-icon/xml_136526\nimport React from 'react';\n\nclass XMLIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"xml-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <path fill=\"#F29C1F\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d=\"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z\"/>\n          <path fill=\"#FFFFFF\" d=\"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z\"/>\n          <path fill=\"#FFFFFF\" d=\"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z\"/>\n        </g>\n        <path fill=\"#F29C1F\" d=\"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z\"/>\n        <path fill=\"#F29C1F\" d=\"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z\"/>\n        <path fill=\"#F29C1F\" d=\"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z\"/>\n        <path fill=\"#F29C1F\" d=\"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z\"/>\n        <path fill=\"#F29C1F\" d=\"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z\"/>\n      </g>\n    </svg>;\n  }\n}\n\nexport default XMLIcon;\n","import AbstractGraphExporter from 'modules/abstract/exporter/AbstractGraphExporter.js';\n\nimport XMLFileIcon from 'icons/flat/XMLIcon.js';\nimport { XML as XMLGraphParser } from 'modules/fsa/graph/FSAGraphParser.js';\nimport Downloader from 'util/Downloader.js';\n\nclass JFLAPGraphExporter extends AbstractGraphExporter\n{\n  constructor() { super(); }\n\n  //Override\n  importFromFile(fileBlob, module)\n  {\n    return new Promise((resolve, reject) => {\n      const filename = fileBlob.name;\n      if (!filename.endsWith(this.getFileType()))\n      {\n        throw new Error(\"Trying to import invalid file type for \\'\" + this.getFileType() + \"\\': \" + filename);\n      }\n\n      const reader = new FileReader();\n      reader.onload = e => {\n        const graphController = module.getGraphController();\n        const machineController = module.getMachineController();\n        const data = e.target.result;\n        const name = filename.substring(0, filename.length - this.getFileType().length - 1);\n        const graph = graphController.getGraph();\n\n        //TODO: this should not be here, this should exist somewhere in graphController\n        graphController.emit(\"userPreImportGraph\", graph);\n\n        try\n        {\n          const xmlData = new DOMParser().parseFromString(data, \"text/xml\");\n          XMLGraphParser.parse(xmlData, graph);\n\n          graphController.emit(\"userImportGraph\", graph);\n\n          if (machineController)\n          {\n            machineController.setMachineName(name);\n          }\n\n          resolve();\n        }\n        catch (e)\n        {\n          reader.abort();\n          reject(e);\n        }\n        finally\n        {\n          graphController.emit(\"userPostImportGraph\", graph);\n        }\n      };\n\n      reader.onerror = e => {\n        reject(new Error(\"Unable to import file: \" + e.target.error.code));\n      }\n\n      reader.readAsText(fileBlob);\n    });\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = XMLGraphParser.objectify(graph);\n    const xmlString = new XMLSerializer().serializeToString(graphData);\n    Downloader.downloadText(filename + '.' + this.getFileType(), xmlString);\n  }\n\n  //Override\n  doesSupportFile()\n  {\n    return true;\n  }\n\n  //Override\n  canImport()\n  {\n    return true;\n  }\n\n  //Override\n  getTitle()\n  {\n    return I18N.toString(\"file.export.jff.hint\");\n  }\n\n  //Override\n  getLabel()\n  {\n    return I18N.toString(\"file.export.jff\");\n  }\n\n  //Override\n  getFileType()\n  {\n    return \"jff\";\n  }\n\n  //Override\n  getIconClass()\n  {\n    return XMLFileIcon;\n  }\n}\n\nexport default JFLAPGraphExporter;\n","import AbstractModule from 'modules/abstract/AbstractModule.js';\n\nimport Notifications from 'system/notification/Notifications.js';\n\nimport OverviewPanel from './panels/overview/OverviewPanel.js';\nimport TestingPanel from './panels/testing/TestingPanel.js';\nimport AnalysisPanel from './panels/analysis/AnalysisPanel.js';\nimport AboutPanel from './panels/about/AboutPanel.js';\n\nimport InputController from './controller/InputController.js';\nimport GraphController from './controller/GraphController.js';\nimport MachineController from './controller/MachineController.js';\n\nimport FSAGraphRenderer from './renderer/FSAGraphRenderer.js';\nimport FSAGraphOverlayRenderer from './renderer/FSAGraphOverlayRenderer.js';\nimport ViewportRenderer from './renderer/ViewportRenderer.js';\n\nimport FSABuilder from './builder/FSABuilder.js';\nimport GraphLayout from './graph/GraphLayout.js';\nimport EventManager from './EventManager.js';\nimport LabelEditor from './editor/LabelEditor.js';\nimport TestingManager from './testing/TestingManager.js';\n\nimport FSAGraphExporter from './exporter/FSAGraphExporter.js';\nimport JFLAPGraphExporter from './exporter/JFLAPGraphExporter.js';\n\nconst VERSION = \"0.0.1\";\nconst PANELS = [AboutPanel, TestingPanel, OverviewPanel, AnalysisPanel];\nconst EXPORTERS = [\n  new FSAGraphExporter(),\n  new JFLAPGraphExporter()\n];\n\nclass FSAModule extends AbstractModule\n{\n  constructor(app)\n  {\n    super(app);\n\n    this._workspace = null;\n\n    this._refreshRate = 60;\n    this._ticks = 0;\n\n    this._inputController = new InputController(this, app.getInputAdapter());\n    this._graphController = new GraphController(this);\n    this._machineController = new MachineController(this);\n\n    this._machineBuilder = new FSABuilder(this._graphController.getGraph());\n\n    this._eventManager = new EventManager(app.getUndoManager());\n    this._testingManager = new TestingManager();\n  }\n\n  //Override\n  initialize(app)\n  {\n    super.initialize(app);\n\n    const viewport = app.viewport;\n    const workspace = app.workspace;\n\n    this._workspace = workspace;\n\n    this._inputController.initialize(this);\n    this._graphController.initialize(this);\n    this._machineController.initialize(this);\n\n    this._machineBuilder.initialize(this);\n\n    this._eventManager.initialize(this);\n\n    this._testingManager.initialize(this, viewport);\n\n    //Notify on create in delete mode\n    const tryCreateWhileTrash = () => {\n      if (this._inputController.isTrashMode())\n      {\n        Notifications.addMessage(I18N.toString(\"message.warning.cannotmodify\"), \"warning\", \"tryCreateWhileTrash\");\n      }\n    };\n    this._graphController.on(\"tryCreateWhileTrash\", tryCreateWhileTrash);\n  }\n\n  //Override\n  destroy(app)\n  {\n    this._testingManager.destroy();\n\n    this._eventManager.destroy();\n\n    this._machineBuilder.destroy();\n\n    this._machineController.destroy();\n    this._graphController.destroy();\n    this._inputController.destroy();\n\n    super.destroy(app);\n  }\n\n  //Override\n  update(app)\n  {\n    this._inputController.update(this);\n    this._graphController.update(this);\n\n    if (--this._ticks <= 0)\n    {\n      this._machineBuilder.update(this);\n      this._ticks = this._refreshRate;\n    }\n  }\n\n  getGraph()\n  {\n    return this._graphController.getGraph();\n  }\n\n  getTestingManager()\n  {\n    return this._testingManager;\n  }\n\n  getDefaultGraphLayout()\n  {\n    return GraphLayout;\n  }\n\n  getMachineBuilder()\n  {\n    return this._machineBuilder;\n  }\n\n  getLabelFormatter()\n  {\n    return this._machineBuilder.formatAlphabetString.bind(this._machineBuilder);\n  }\n\n  getLabelEditor()\n  {\n    return LabelEditor;\n  }\n\n  //Override\n  getRenderer(renderLayer)\n  {\n    switch(renderLayer)\n    {\n      case \"graph\":\n        return FSAGraphRenderer;\n      case \"graphoverlay\":\n        return FSAGraphOverlayRenderer;\n      case \"viewport\":\n        return ViewportRenderer;\n    }\n    return null;\n  }\n  //Override\n  getInputController() { return this._inputController; }\n  //Override\n  getGraphController() { return this._graphController; }\n  //Override\n  getMachineController() { return this._machineController; }\n  //Override\n  getDefaultGraphExporter() { return EXPORTERS[0]; }\n  //Override\n  getGraphExporters() { return EXPORTERS; }\n  //Override\n  getModuleVersion() { return VERSION; }\n  //Override\n  getModulePanels() { return PANELS; }\n  //Override\n  getModuleName() { return \"fsa\"; }\n  //Override\n  getLocalizedModuleName() { return this._machineBuilder.getMachineType(); }\n}\nexport default FSAModule;\n","/**\n * Used by InputAdapter to hold input event data.\n */\nclass InputPointer\n{\n  constructor(adapter, element, viewport)\n  {\n    this._adapter = adapter;\n    this._element = element;\n    this._viewport = viewport;\n\n    this._active = false;\n    this._x = 0;\n    this._y = 0;\n\n    this._inputpos = {x: 0, y: 0};\n  }\n\n  get x() { return this._x; }\n  get y() { return this._y; }\n\n  setPosition(x, y)\n  {\n    this._x = x;\n    this._y = y;\n    return this;\n  }\n\n  beginInput()\n  {\n    this._active = true;\n    this._inputpos.x = this._x;\n    this._inputpos.y = this._y;\n  }\n\n  /**\n   * Returns the position which the input began at. This is mutable.\n   */\n  getInputEventPosition()\n  {\n    return this._inputpos;\n  }\n\n  changeInputEventPosition(x, y)\n  {\n    this._inputpos.x = x;\n    this._inputpos.y = y;\n  }\n\n  endInput()\n  {\n    this._active = false;\n  }\n\n  isActive()\n  {\n    return this._active;\n  }\n\n  getDistanceSquToInitial()\n  {\n    const pos = this._inputpos;\n    const dx = pos.x - this._x;\n    const dy = pos.y - this._y;\n    return dx * dx + dy * dy;\n  }\n\n  /**\n   * The DOM element for which this pointer provides context for; this should be\n   * the same element as in the input adapter.\n   */\n  getElement()\n  {\n    return this._element;\n  }\n\n  /**\n   * The viewport for this pointer operates within; this should be the same\n   * viewport as in the input adapter.\n   */\n  getViewport()\n  {\n    return this._viewport;\n  }\n\n  /**\n   * The input adapter that controls this pointer's properties\n   */\n  getAdapter()\n  {\n    return this._adapter;\n  }\n}\n\nexport default InputPointer;\n","/**\n * Represents and handles the transformations to the interactible viewport of\n * the SVG element.\n */\nclass ViewportAdapter\n{\n  constructor()\n  {\n    this._element = null;\n    this._offsetX = 0;\n    this._offsetY = 0;\n    this._nextOffsetX = 0;\n    this._nextOffsetY = 0;\n    this._offsetDamping = 0.1;\n\n    this._scaleFactor = 1;\n    this._minScale = 1;\n    this._maxScale = 1;\n  }\n\n  setElement(element)\n  {\n    this._element = element;\n    return this;\n  }\n\n  setMinScale(scale)\n  {\n    this._minScale = scale;\n    if (this._scaleFactor < this._minScale) this._scaleFactor = this._minScale;\n    return this;\n  }\n\n  setMaxScale(scale)\n  {\n    this._maxScale = scale;\n    if (this._scaleFactor > this._maxScale) this._scaleFactor = this._maxScale;\n    return this;\n  }\n\n  setOffsetDamping(damping)\n  {\n    this._offsetDamping = damping;\n    return this;\n  }\n\n  update()\n  {\n    const dx = this._nextOffsetX - this._offsetX;\n    this._offsetX += dx * this._offsetDamping;\n    const dy = this._nextOffsetY - this._offsetY;\n    this._offsetY += dy * this._offsetDamping;\n  }\n\n  transformScreenToView(clientX, clientY)\n  {\n    if (!this._element) return {x: clientX - this._offsetX, y: clientY - this._offsetY};\n\n    const ctm = this._element.getScreenCTM();\n    return {\n      x: (clientX - ctm.e) / ctm.a - this._offsetX,\n      y: (clientY - ctm.f) / ctm.d - this._offsetY\n    };\n  }\n\n  setOffset(x, y, immediate=false)\n  {\n    if (immediate)\n    {\n      this._nextOffsetX = this._offsetX = x;\n      this._nextOffsetY = this._offsetY = y;\n    }\n    else\n    {\n      this._nextOffsetX = x;\n      this._nextOffsetY = y;\n    }\n  }\n\n  addOffset(dx, dy, immediate=false)\n  {\n    if (immediate)\n    {\n      this._offsetX += dx;\n      this._offsetY += dy;\n      this._nextOffsetX = this._offsetX;\n      this._nextOffsetY = this._offsetY;\n    }\n    else\n    {\n      this._nextOffsetX += dx;\n      this._nextOffsetY += dy;\n    }\n  }\n\n  setScale(scale)\n  {\n    this._scaleFactor = Math.min(this._maxScale, Math.max(this._minScale, scale));\n  }\n\n  addScale(dscale)\n  {\n    this._scaleFactor += dscale;\n\n    if (this._scaleFactor > this._maxScale) this._scaleFactor = this._maxScale;\n    else if (this._scaleFactor < this._minScale) this._scaleFactor = this._minScale;\n  }\n\n  getOffsetX()\n  {\n    return this._offsetX;\n  }\n\n  getOffsetY()\n  {\n    return this._offsetY;\n  }\n\n  getOffsetDamping()\n  {\n    return this._offsetDamping;\n  }\n\n  getScale()\n  {\n    return this._scaleFactor;\n  }\n\n  getMinScale()\n  {\n    return this._minScale;\n  }\n\n  getMaxScale()\n  {\n    return this._maxScale;\n  }\n\n  getElement()\n  {\n    return this._element;\n  }\n}\n\nexport default ViewportAdapter;\n","import Config from 'config.js';\n\nimport InputPointer from './InputPointer.js';\nimport ViewportAdapter from './ViewportAdapter.js';\n\n/**\n * Provides an interface for InputController to interact with a HTMLElement.\n * Each listenable element should correspond to only a single InputAdapter.\n */\nclass InputAdapter\n{\n  constructor()\n  {\n    this._controller = null;\n    this._element = null;\n    this._cursor = {\n      _mousemove: null,\n      _mouseup: null,\n      _touchmove: null,\n      _touchend: null,\n      _timer: null\n    };\n    this._pointer = null;\n\n    this._viewport = new ViewportAdapter();\n\n    //Although dragging could be in pointer, it should be here to allow\n    //the adapter to be independent of pointer.\n    this._dragging = false;\n    this._altinput = false;\n\n    this._holdInputDelay = Config.LONG_TAP_TICKS;\n    this._dblInputDelay = Config.DOUBLE_TAP_TICKS;\n    this._scrollSensitivity = Config.SCROLL_SENSITIVITY;\n    this._minTapRadius = Config.CURSOR_RADIUS_SQU * 16;\n    this._draggingRadiusSqu = Config.CURSOR_RADIUS_SQU + Config.DRAGGING_BUFFER_SQU;\n\n    this._prevEmptyInput = false;\n    this._prevEmptyTime = 0;\n    this._prevEmptyX = 0;\n    this._prevEmptyY = 0;\n\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    this.onMouseDownThenMove = this.onMouseDownThenMove.bind(this);\n    this.onMouseDownThenUp = this.onMouseDownThenUp.bind(this);\n    this.onTouchStartThenMove = this.onTouchStartThenMove.bind(this);\n    this.onTouchStartThenEnd = this.onTouchStartThenEnd.bind(this);\n\n    this.onDelayedInputDown = this.onDelayedInputDown.bind(this);\n  }\n\n  setController(controller)\n  {\n    this._controller = controller;\n    return this;\n  }\n\n  initialize(element)\n  {\n    if (!(element instanceof SVGElement)) throw new Error(\"Missing SVG element for input adapter's viewport\");\n    if (this._element) throw new Error(\"Trying to initialize an InputAdapter already initialized\");\n\n    this._viewport.setElement(this._element = element);\n    this._pointer = new InputPointer(this, this._element, this._viewport);\n\n    this._element.addEventListener('mousedown', this.onMouseDown);\n    this._element.addEventListener('mousemove', this.onMouseMove);\n    this._element.addEventListener('touchstart', this.onTouchStart);\n    this._element.addEventListener('touchmove', this.onTouchMove);\n    this._element.addEventListener('contextmenu', this.onContextMenu);\n    this._element.addEventListener('wheel', this.onWheel);\n  }\n\n  destroy()\n  {\n    if (!this._element) throw new Error(\"Trying to destroy an InputAdapter that is not yet initialized\");\n\n    this._element.removeEventListener('mousedown', this.onMouseDown);\n    this._element.removeEventListener('mousemove', this.onMouseMove);\n    this._element.removeEventListener('touchstart', this.onTouchStart);\n    this._element.removeEventListener('contextmenu', this.onContextMenu);\n    this._element.removeEventListener('wheel', this.onWheel);\n\n    this._element = null;\n  }\n\n  update()\n  {\n    //Smooth transition offset\n    this._viewport.update();\n  }\n\n  onMouseDown(e)\n  {\n    if (!this._controller) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Blur any element in focus\n    document.activeElement.blur();\n    this._element.focus();\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    //HACK: To allow Mac's to use ctrl+click as right clicks\n    const button = e.ctrlKey ? 2 : e.button;\n\n    //Is this a valid mouse down?\n    if (this.onInputDown(e.clientX, e.clientY, button))\n    {\n      //Start mouse down logic...\n      cursor._mousemove = this.onMouseDownThenMove;\n      cursor._mouseup = this.onMouseDownThenUp;\n\n      document.addEventListener('mousemove', cursor._mousemove);\n      document.addEventListener('mouseup', cursor._mouseup);\n    }\n\n    return false;\n  }\n\n  onMouseMove(e)\n  {\n    if (!this._controller) return false;\n\n    const mouse = this._viewport.transformScreenToView(e.clientX, e.clientY);\n    this._pointer.setPosition(mouse.x, mouse.y);\n\n    //Can update target here for hover effects...\n  }\n\n  onMouseDownThenMove(e)\n  {\n    if (!this._controller) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.onInputMove(e.clientX, e.clientY);\n\n    return false;\n  }\n\n  onMouseDownThenUp(e)\n  {\n    if (!this._controller) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    this.onInputUp(e.clientX, e.clientY);\n\n    return false;\n  }\n\n  onTouchStart(e)\n  {\n    if (!this._controller) return false;\n\n    if (e.changedTouches.length == 1)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const cursor = this._cursor;\n\n      //Blur any element in focus\n      document.activeElement.blur();\n      this._element.focus();\n\n      //Make sure touch move is deleted, just in case\n      if (cursor._touchmove)\n      {\n        document.removeEventListener('touchmove', cursor._touchmove);\n        cursor._touchmove = null;\n      }\n      //Make sure touch end is deleted, just in case\n      if (cursor._touchend)\n      {\n        document.removeEventListener('touchend', cursor._touchend);\n        cursor._touchend = null;\n      }\n\n      const touch = e.changedTouches[0];\n      //Is this a valid touch start?\n      if (this.onInputDown(touch.clientX, touch.clientY, 0))\n      {\n        //Start touch start logic...\n        cursor._touchmove = this.onTouchStartThenMove;\n        cursor._touchend = this.onTouchStartThenEnd;\n\n        document.addEventListener('touchmove', cursor._touchmove);\n        document.addEventListener('touchend', cursor._touchend);\n      }\n\n      return false;\n    }\n  }\n\n  onTouchStartThenEnd(e)\n  {\n    if (!this._controller) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._touchmove)\n    {\n      document.removeEventListener('touchmove', cursor._touchmove);\n      cursor._touchmove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._touchend)\n    {\n      document.removeEventListener('touchend', cursor._touchend);\n      cursor._touchend = null;\n    }\n\n    const touch = e.changedTouches[0];\n    this.onInputUp(touch.clientX, touch.clientY);\n\n    return false;\n  }\n\n  onTouchStartThenMove(e)\n  {\n    if (!this._controller) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const touch = e.changedTouches[0];\n    this.onInputMove(touch.clientX, touch.clientY);\n\n    return false;\n  }\n\n  onContextMenu(e)\n  {\n    if (!this._controller) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    return false;\n  }\n\n  onWheel(e)\n  {\n    if (!this._controller) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const controller = this._controller;\n    const pointer = this._pointer;\n    const dy = e.deltaY * this._scrollSensitivity;\n    const prev = this._viewport.getScale();\n    const next = prev + dy;\n\n    if (controller.onZoomChange(pointer, next, prev))\n    {\n      this._viewport.setScale(next);\n    }\n\n    return false;\n  }\n\n  onInputDown(x, y, button)\n  {\n    if (!this._controller) throw new Error(\"Missing controller for input adapter\");\n\n    //Setup for hold timer...\n    const cursor = this._cursor;\n    const controller = this._controller;\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    this._dragging = false;\n    this._altinput = button == 2;\n\n    if (!controller.onPreInputEvent(pointer))\n    {\n      pointer.beginInput();\n      cursor._timer = setTimeout(this.onDelayedInputDown, this._holdInputDelay);\n      return true;\n    }\n\n    return false;\n  }\n\n  onDelayedInputDown()\n  {\n    if (!this._controller) throw new Error(\"Missing controller for input adapter\");\n\n    //That means the input is remaining still (like a hold)...\n    if (!this._dragging)\n    {\n      this._altinput = true;\n    }\n  }\n\n  onInputMove(x, y)\n  {\n    if (!this._controller) throw new Error(\"Missing controller for input adapter\");\n\n    const controller = this._controller;\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (!this._dragging)\n    {\n      if (pointer.getDistanceSquToInitial() > this._draggingRadiusSqu)\n      {\n        this._dragging = true;\n        if (!controller.onDragStart(pointer))\n        {\n          this._dragging = false;\n\n          //TODO: you could NOT cancel the event and just update the target?\n          //If so, who is the initial target then?\n\n          //Stop the input event early...\n          this.cancelInputEvent();\n        }\n      }\n      else\n      {\n        //Still a click or hold...\n      }\n    }\n    else\n    {\n      //Continue to drag...\n      controller.onDragMove(pointer);\n    }\n  }\n\n  onInputUp(x, y)\n  {\n    if (!this._controller) throw new Error(\"Missing controller for input adapter\");\n\n    const cursor = this._cursor;\n    const timer = cursor._timer;\n    if (timer)\n    {\n      clearTimeout(timer);\n      cursor._timer = null;\n    }\n\n    //Update pointer target to final position\n    const controller = this._controller;\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (this._dragging)\n    {\n      //Stop dragging!\n      controller.onDragStop(pointer);\n    }\n    else\n    {\n      if (this._altinput)\n      {\n        //Alt Tap!\n        controller.onAltInputEvent(pointer);\n      }\n      else\n      {\n        //Tap!\n        const result = controller.onInputEvent(pointer);\n\n        //If the input was not consumed...\n        if (!result)\n        {\n          //Try for double tap...\n          const dx = x - this._prevEmptyX;\n          const dy = y - this._prevEmptyY;\n          const dist = dx * dx + dy * dy;\n          const dt = Date.now() - this._prevEmptyTime;\n          if (this._prevEmptyInput &&\n            dist < this._minTapRadius &&\n            dt < this._dblInputDelay)\n          {\n            //Double tap!\n            controller.onDblInputEvent(pointer);\n\n            this._prevEmptyInput = false;\n          }\n          else\n          {\n            this._prevEmptyInput = true;\n            this._prevEmptyTime = Date.now();\n            this._prevEmptyX = x;\n            this._prevEmptyY = y;\n          }\n        }\n      }\n    }\n\n    pointer.endInput();\n    controller.onPostInputEvent(pointer);\n  }\n\n  cancelInputEvent()\n  {\n    const controller = this._controller;\n    const pointer = this._pointer;\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    const timer = cursor._timer;\n    if (timer)\n    {\n      clearTimeout(timer);\n      cursor._timer = null;\n    }\n\n    pointer.endInput();\n    controller.onPostInputEvent(pointer);\n  }\n\n  getActiveElement()\n  {\n    return this._element;\n  }\n\n  getViewport()\n  {\n    return this._viewport;\n  }\n\n  getPointerX()\n  {\n    return this._pointer ? this._pointer.x : 0;\n  }\n\n  getPointerY()\n  {\n    return this._pointer ? this._pointer.y : 0;\n  }\n\n  isPointerActive()\n  {\n    return this._pointer ? this._pointer.isActive() : false;\n  }\n\n  isUsingTouch()\n  {\n    return this._cursor._touchmove || this._cursor._touchend;\n  }\n\n  isAltInput()\n  {\n    return this._altinput;\n  }\n\n  isDragging()\n  {\n    return this._dragging;\n  }\n}\n\nexport default InputAdapter;\n","import React from 'react';\nimport './NotificationMessage.css';\n\nclass NotificationMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onExitMessage = this.onExitMessage.bind(this);\n  }\n\n  onExitMessage(e)\n  {\n    const message = this.props.value;\n    message.close();\n  }\n\n  //Override\n  render()\n  {\n    const message = this.props.value;\n    return <div className={\"notification-message-container notification-message-type-\" + message.getType() + \" \" + this.props.className}\n      id={this.props.id} style={this.props.style}>\n      { this.props.children || message.value.split(\"\\\\n\").map(e => <p key={e}>{e}</p>) || message }\n      <button onClick={this.onExitMessage}>{I18N.toString(\"message.action.close\")}</button>\n    </div>;\n  }\n}\nexport default NotificationMessage;\n","import React from 'react';\nimport './NotificationView.css';\n\nimport NotificationMessage from './NotificationMessage.js';\n\nclass NotificationView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const notificationManager = this.props.notificationManager;\n    return <div className={\"notification-container \" + this.props.className} id={this.props.id} style={this.props.style}>\n    {\n      notificationManager.getMessages().map(e => {\n        const id = e.getID();\n        const ComponentClass = e.getComponentClass();\n        const componentProps = e.getComponentProps() || {};\n\n        return <NotificationMessage key={id} value={e}>\n        { ComponentClass && <ComponentClass message={e} {...componentProps}/> }\n        </NotificationMessage>;\n      })\n    }\n    </div>;\n  }\n}\nexport default NotificationView;\n","import React from 'react';\nimport './IconButton.css';\n\nclass IconButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.props.onClick}>\n      {this.props.children}\n    </button>;\n  }\n}\n\nexport default IconButton;\n","export const EMPTY = '\\u03B5';\nexport const ARROW = '\\u2192';\nexport const EMPTY_SET = '\\u2205';\n\n//'\\u03BB' = LAMBDA\n","import { guid } from 'util/MathHelper.js';\n\nclass Message\n{\n  constructor(handler, value, type, tags, componentClass, componentProps)\n  {\n    this._handler = handler;\n    this._id = guid();\n    this._type = type;\n\n    this.value = value;\n    this.tags = tags;\n    this.componentClass = componentClass;\n    this.componentProps = componentProps;\n  }\n\n  close()\n  {\n    const messages = this._handler.getMessages();\n    const index = messages.indexOf(this);\n    if (index < 0) throw new Error(\"Trying to close an unopened notification message\");\n    messages.splice(index, 1);\n  }\n\n  getType()\n  {\n    return this._type;\n  }\n\n  getID()\n  {\n    return this._id;\n  }\n\n  getComponentClass()\n  {\n    return this.componentClass;\n  }\n\n  getComponentProps()\n  {\n    return this.componentProps;\n  }\n\n  hasTag(tag)\n  {\n    return this.tags.indexOf(tag) >= 0;\n  }\n}\n\nclass NotificationManager\n{\n  constructor()\n  {\n    this._messageQueue = [];\n  }\n\n  addMessage(value, type=null, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    if (tags && shouldReplaceRelated)\n    {\n      this.clearMessages(tags);\n    }\n\n    const result = new Message(this, value, type || \"default\", tags || [], componentClass, componentProps);\n    this._messageQueue.unshift(result);\n  }\n\n  addDefaultMessage(value, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    this.addMessage(value, \"default\", tags, componentClass, componentProps, shouldReplaceRelated);\n  }\n\n  addErrorMessage(value, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    this.addMessage(value, \"error\", tags, componentClass, componentProps, shouldReplaceRelated);\n  }\n\n  addWarningMessage(value, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    this.addMessage(value, \"warning\", tags, componentClass, componentProps, shouldReplaceRelated);\n  }\n\n  clearMessages(tags=null)\n  {\n    if (!tags)\n    {\n      this._messageQueue.length = 0;\n    }\n    else\n    {\n      if (!Array.isArray(tags)) tags = [tags];\n\n      let message;\n      for(let i = this._messageQueue.length - 1; i >= 0; --i)\n      {\n        message = this._messageQueue[i];\n        for(const tag of tags)\n        {\n          if (message.hasTag(tag))\n          {\n            this._messageQueue.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  hasMessages(tags=null)\n  {\n    if (!tags)\n    {\n      return this._messageQueue.length >= 0;\n    }\n    else\n    {\n      if (!Array.isArray(tags)) tags = [tags];\n\n      for(let i = this._messageQueue.length - 1; i >= 0; --i)\n      {\n        message = this._messageQueue[i];\n        for(const tag of tags)\n        {\n          if (message.hasTag(tag))\n          {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }\n\n  getMessages()\n  {\n    return this._messageQueue;\n  }\n}\nexport default NotificationManager;\n","import NotificationManager from './NotificationManager.js';\n\n//Singleton pattern (I know, I'm sorry. But we must.)\nconst INSTANCE = new NotificationManager();\nexport default INSTANCE;\n","import LocalSaveManager from './LocalSaveManager.js';\n\n//Singleton pattern (I know, I'm sorry. But we must.)\nconst INSTANCE = new LocalSaveManager();\nexport default INSTANCE;\n","class LocalSaveManager\n{\n  constructor()\n  {\n    this._handlers = new Set();\n    this._intervalID = null;\n    this._intervalMillis = 1000;\n\n    this._init = false;\n\n    this.onIntervalUpdate = this.onIntervalUpdate.bind(this);\n  }\n\n  setAutoSaveInterval(millis)\n  {\n    if (!millis || millis <= 0) throw new Error(\"AutoSave interval must be greater than 0\");\n    this._intervalMillis = millis;\n  }\n\n  registerHandler(handler)\n  {\n    if (this._handlers.has(handler))\n    {\n      throw new Error(\"Cannot register handler, since it is already registered\");\n    }\n    this._handlers.add(handler);\n  }\n\n  unregisterHandler(handler)\n  {\n    if (!this._handlers.has(handler))\n    {\n      throw new Error(\"Cannot remove handler, since it is not yet registered\");\n    }\n    this._handlers.delete(handler);\n  }\n\n  initialize()\n  {\n    if (this._init) throw new Error(\"Cannot initialize LocalSave, since it is already initialized\");\n\n    if (this.doesSupportLocalStorage())\n    {\n      //Prepare autosave\n      this._intervalID = setInterval(this.onIntervalUpdate, this._intervalMillis);\n      this._init = true;\n    }\n    else\n    {\n      //Does not support local storage, so ignore everything...\n    }\n  }\n\n  terminate()\n  {\n    if (!this._init) throw new Error(\"Cannot terminate LocalSave, since it is not yet initialized\");\n\n    clearInterval(this._intervalID);\n\n    this._handlers.clear();\n    this._init = false;\n  }\n\n  onIntervalUpdate()\n  {\n    //Save most recent save for all registered handlers\n    for(let handler of this._handlers)\n    {\n      try\n      {\n        handler.onAutoSave();\n      }\n      catch(e)\n      {\n        console.error(e);\n      }\n    }\n  }\n\n  setStringToStorage(saveKey, stringData)\n  {\n    if (!this.doesSupportLocalStorage()) return;\n    if (stringData.length > 0)\n    {\n      localStorage.setItem(saveKey, stringData);\n    }\n    else\n    {\n      localStorage.removeItem(saveKey);\n    }\n  }\n\n  getStringFromStorage(saveKey)\n  {\n    if (!this.doesSupportLocalStorage()) return \"\";\n    return localStorage.getItem(saveKey) || \"\";\n  }\n\n  loadFromStorage(saveKey)\n  {\n    if (!this.doesSupportLocalStorage()) return null;\n    try\n    {\n      const value = localStorage.getItem(saveKey);\n      if (value && value.length > 0)\n      {\n        return JSON.parse(value);\n      }\n      else\n      {\n        return null;\n      }\n    }\n    catch(e)\n    {\n      console.error(e);\n      return {};\n    }\n  }\n\n  saveToStorage(saveKey, jsonData)\n  {\n    if (!this.doesSupportLocalStorage()) return;\n\n    let hidden, visibilityChange;\n\n    // Opera 12.10 and Firefox 18 and later support\n    if (typeof document.hidden !== \"undefined\")\n    {\n      hidden = \"hidden\";\n      visibilityChange = \"visibilitychange\";\n    }\n    else if (typeof document.msHidden !== \"undefined\")\n    {\n      hidden = \"msHidden\";\n      visibilityChange = \"msvisibilitychange\";\n    }\n    else if (typeof document.webkitHidden !== \"undefined\")\n    {\n      hidden = \"webkitHidden\";\n      visibilityChange = \"webkitvisibilitychange\";\n    }\n\n    if (document[hidden])\n    {\n      //Don't save anything...\n      return;\n    }\n\n    try\n    {\n      if (typeof jsonData == 'object')\n      {\n        let flag = jsonData;\n        if (flag)\n        {\n          flag = false;\n\n          //Don't save empty objects, cause that is wasteful.\n          for(let key in jsonData)\n          {\n            if (jsonData.hasOwnProperty(key))\n            {\n              flag = true;\n              break;\n            }\n          }\n        }\n\n        //Save or remove the data...\n        if (flag)\n        {\n          localStorage.setItem(saveKey, JSON.stringify(jsonData));\n        }\n        else\n        {\n          localStorage.removeItem(saveKey);\n        }\n      }\n      else if (typeof jsonData == 'string')\n      {\n        const flag = jsonData.length <= 0;\n\n        //Save or remove the data...\n        if (flag)\n        {\n          localStorage.setItem(saveKey, jsonData);\n        }\n        else\n        {\n          localStorage.removeItem(saveKey);\n        }\n      }\n    }\n    catch(e)\n    {\n      console.error(e);\n    }\n  }\n\n  existsInStorage(saveKey)\n  {\n    if (!this.doesSupportLocalStorage()) return false;\n    return localStorage.getItem(saveKey) != null;\n  }\n\n  clearStorage()\n  {\n    if (!this.doesSupportLocalStorage()) return;\n\n    localStorage.clear();\n  }\n\n  doesSupportLocalStorage()\n  {\n    //check if browser support local storage\n    return typeof Storage !== 'undefined';\n  }\n}\nexport default LocalSaveManager;\n","import React from 'react';\nimport './Viewport.css';\n\nconst VIEWPORT_RENDER_LAYER = \"viewport\";\n\nclass Viewport extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.labelEditor = null;\n\n    this.state = {\n      prevMode: Viewport.NORMAL,\n      mode: Viewport.NORMAL\n    };\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const ViewportRenderer = currentModule.getRenderer(VIEWPORT_RENDER_LAYER);\n\n    return <div className={\"viewport-container viewport-\" + this.state.mode} ref={ref=>this.ref=ref}>\n      { ViewportRenderer &&\n        <ViewportRenderer {...this.props} parent={this}/>}\n    </div>;\n  }\n}\nViewport.NORMAL = \"normal\";\nViewport.WAITING = \"waiting\";\nViewport.TESTING = \"testing\";\nViewport.DANGEROUS = \"dangerous\";\n\nexport default Viewport;\n","export function guid()\n{\n  function s4()\n  {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n};\n\nexport function lerp(a, b, dt)\n{\n  return a * (1 - dt) + b * dt;\n};\n\nexport function stringHash(value=\"\")\n{\n  let hash = 0;\n  for(let i = 0, len = value.length; i < len; i++)\n  {\n    hash = Math.imul(31, hash) + value.charCodeAt(i) | 0;\n  }\n  return hash;\n};\n"],"sourceRoot":""}